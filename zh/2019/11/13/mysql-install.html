<!doctype html><html lang="en"><head><meta charset="utf-8"><title>安装MySQL</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="7if7tEoBzofIpEcyTBbXYj68Uwni_Udf_J_RnIMKkx0"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/zh/2019/11/13/mysql-install.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav"><nav id="nav-wrap"><a class="nav-link" href="/zh">首页</a> <a class="nav-link" href="/zh/archives">归档</a> <a class="nav-link" href="/zh/categories">分类</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">工具</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">实验室</a> <a class="nav-link" href="/zh/about">关于</a></nav><div class="frosted-glass"></div></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em"><path d="M512 742.4a230.4 230.4 0 1 0 0-460.8 230.4 230.4 0 0 0 0 460.8z m0 57.6a288 288 0 1 1 0-576 288 288 0 0 1 0 576zM380.256 267.2l25.664-13.984c0-0.8-0.032-0.832 4.832 3.2 25.6 26.976 38.368 49.92 38.368 68.8 0 5.312 0.192 10.08 0.736 19.776 1.792 31.232 1.376 43.04-5.664 58.88-10.848 24.544-34.176 36.544-67.072 36.544-27.456 0-49.696 6.464-88.96 23.296-30.4 13.024-33.28 14.208-45.952 18.432l10.592-41.728c10.432-3.456-15.68-17.504 12.704-29.664 45.888-19.648 74.336-27.936 111.616-27.936 7.392 0 12-0.896 14.208-2.048 1.92-4.128 2.24-11.712 1.024-32.512-0.64-10.752-0.832-16.288-0.832-23.04 0-8.256-16.48-23.552-17.632-24.512-16.8-13.984 6.4-12.832 6.4-33.504z m225.312 325.728c-24.896-13.632-41.024-28.512-48.896-52.096-2.656-8-8.832-13.952-20.128-19.712-5.248-2.656-24.832-10.624-27.776-12.032-15.68-7.52-25.568-16.544-25.568-34.944 0-16.224 0.864-27.68 4.512-41.856 5.952-23.008 17.92-42.144 37.824-54.592 17.664-11.04 36.288-12.128 56.832-5.92 6.848 2.048 13.568 4.736 22.784 8.864-0.928-0.448 16.96 7.68 22.24 9.984 12.736 5.472 23.808 9.408 35.584 12.352a205.216 205.216 0 0 0 101.248 0l13.952 55.904a262.784 262.784 0 0 1-129.152 0 283.04 283.04 0 0 1-44.416-15.36c-47.584-20.48-44.448-19.52-48.544-16.96-8.896 5.568-13.312 16.864-14.72 33.792 6.784 2.848 16.416 6.944 21.344 9.44 23.584 12 40.448 28.32 48.64 52.832 2.208 6.592 8.544 12.48 21.888 19.776 3.2 1.76 17.12 8.832 20.64 10.752 26.528 14.624 40.512 33.184 28.736 61.6-9.152 22.08-25.088 32.928-54.72 44.576-0.96 0.384-19.648 7.488-25.152 9.76-9.28 3.808-17.024 7.488-24.224 11.648a137.6 137.6 0 0 0-7.328 4.544c-19.904 13.28-30.368 37.728-30.368 76.864h-57.6c0-56.896 18.336-99.648 56-124.8 3.424-2.24 6.88-4.384 10.432-6.432a248.64 248.64 0 0 1 31.232-15.136c6.304-2.56 25.568-9.92 25.92-10.048a168.32 168.32 0 0 0 12.768-5.504 1102.944 1102.944 0 0 1-13.984-7.296z" p-id="1465"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2019/11/13/mysql-install.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2019/11/13/mysql-install.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2019/11/13/mysql-install.html" hreflang="ja">日本語</a></div><div id="wrapper"><header id="header"><div class="header-wrapper"><img src="/images/aodamiao.jpg" class="header-avatar"><p class="header-author">柳政</p><p class="header-description">好好学习，天天向上</p></div><div class="frosted-glass"></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; 返回</a><header class="article-header"><h1 class="article-title">安装MySQL</h1><div class="article-meta"><time datetime="2019-11-13T10:05:46.000Z" class="article-date">2019-11-13</time></div></header><div class="article-content"><h2 id="Windows-上安装-MySQL"><a href="#Windows-上安装-MySQL" class="headerlink" title="Windows 上安装 MySQL"></a>Windows 上安装 MySQL</h2><p>Windows 上安装 MySQL 相对来说会较为简单，最新版本可以在 <a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">MySQL 下载</a> 中下载中查看(更详细安装：<a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/windows10-mysql-installer.html">Windows 上安装 MySQL</a>)。</p><p><img src="./mysql-install/select-version.png" alt=""></p><p>点击 Download 按钮进入下载页面，点击下图中的 No thanks, just start my download. 就可立即下载：</p><p><img src="./mysql-install/no-thanks.png" alt=""></p><p>下载完后，解压完成后为以下样子（我将安装文件放在 D:\mysql 中）：</p><p><img src="./mysql-install/database-catalogue.png" alt=""></p><p><strong>接下来我们需要配置下 MySQL 的配置文件</strong><br>打开刚刚解压的文件夹 D:\mysql ，在该文件夹下创建 my.ini 配置文件，编辑 my.ini 配置以下基本信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line"> </span><br><span class="line">[mysqld]</span><br><span class="line"># 设置3306端口</span><br><span class="line">port = 3306</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=C:\\web\\mysql-8.0.11</span><br><span class="line"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span><br><span class="line"># datadir=C:\\web\\sqldata</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=20</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br></pre></td></tr></table></figure><p><strong>接下来我们来启动下 MySQL 数据库：</strong></p><p>以管理员身份打开 cmd 命令行工具，切换目录：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> C:\web\mysql-8.0.11\bin</span></span><br></pre></td></tr></table></figure><p>初始化数据库：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysqld --initialize --console</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：这个可能会报错：<br><code>mysqld : 无法将“mysqld”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。</code><br>解决办法有两个：1、在命令前面加上 ./ 如：<code>$ ./mysqld --initialize --console</code><br>2、<a href="#配置-mysql-环境变量">配置 mysql 环境变量</a></p></blockquote><p>执行完成后，会输出 root 用户的初始默认密码，如：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">2019-11-13T09:36:49.186128Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: &lt;!wbLjV?/3uq</span><br></pre></td></tr></table></figure><p>&lt;!wbLjV?/3uq 就是初始密码，后续登录需要用到，你也可以在登陆后修改密码。<br>输入以下安装命令：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysqld install</span></span><br></pre></td></tr></table></figure><p>启动输入以下命令即可：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">net start mysql</span></span><br></pre></td></tr></table></figure><h2 id="登录-MySQL"><a href="#登录-MySQL" class="headerlink" title="登录 MySQL"></a>登录 MySQL</h2><p>当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -h 主机名 -u 用户名 -p</span></span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;</li><li>-u : 登录的用户名;</li><li>-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li></ul><p>如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -u root -p</span></span><br></pre></td></tr></table></figure><p>按回车确认, 如果安装正确且 MySQL 正在运行, 会得到以下响应:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">Enter password:</span></span><br></pre></td></tr></table></figure><p>若密码存在, 输入密码登录, 不存在则直接按回车登录。登录成功后你将会看到 Welcome to the MySQL monitor… 的提示语。<br>然后命令提示符会一直以 mysq&gt; 加一个闪烁的光标等待命令的输入, 输入 exit 或 quit 退出登录。</p><h2 id="配置-mysql-环境变量"><a href="#配置-mysql-环境变量" class="headerlink" title="配置 mysql 环境变量"></a>配置 mysql 环境变量</h2><p>上面安装的是时候我们看到mysql默认安装路径是：D:\mysql 我的电脑右键—&gt;属性—&gt;高级系统设置—&gt;环境变量—&gt;新建MYSQL_HOME,将安装目录输入：</p><p><img src="./mysql-install/mysql-home01.png" alt=""></p><p>找到path编辑：输入%MYSQL_HOME%\bin</p><p><img src="./mysql-install/mysql-home02.png" alt=""></p><p>打开 cmd 输入 <code>mysql</code> 检测一下</p><h2 id="在-navicat-for-mysql-上链接-mysql"><a href="#在-navicat-for-mysql-上链接-mysql" class="headerlink" title="在 navicat for mysql 上链接 mysql"></a>在 navicat for mysql 上链接 mysql</h2><p><a target="_blank" rel="noopener" href="https://navicatformysql.en.softonic.com/download">navicat for mysql 下载</a> 安装完成后运行 navicat</p><blockquote><p>客户端使用 navicat for mysql。本地安装了mysql 8.0。但是在链接的时候提示：<br><img src="./mysql-install/error-1251.png" alt=""></p></blockquote><p>解决方法：</p><blockquote><p>这行代码有两层含义，第一:修改root的密码为’root’，摒弃原来的旧密码。第二：使用mysql_native_password对新密码进行编码。</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED WITH mysql_native_password BY <span class="string">&#x27;root&#x27;</span>;</span></span><br></pre></td></tr></table></figure><p>详情报错信息请看 <a target="_blank" rel="noopener" href="https://my.oschina.net/u/3295928/blog/1811804">navicat for mysql 链接时报错：1251…</a></p></div></article></section><footer id="footer"><div class="footer-wrapper"><a href="/" class="footer-title">柳政的博客</a><p>主题由 Lite 提供</p></div><div class="frosted-glass"></div></footer></div></div><script src="/js/i18n.js"></script></body></html>