<!doctype html><html lang="en"><head><meta charset="utf-8"><title>安装MySQL</title><meta name="author" content="政哥"><meta name="keywords" content="MySQL, 安装, Windows, 配置"><meta name="description" content="介绍如何在 Windows 上安装 MySQL 数据库，包括下载、解压、配置和启动数据库。"><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/zh/2019/11/13/mysql-install.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass"><nav id="nav-wrap"><a class="nav-link" href="/zh">首页</a> <a class="nav-link" href="/zh/archives">归档</a> <a class="nav-link" href="/zh/categories">分类</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">工具</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">实验室</a> <a class="nav-link" href="/zh/about">关于</a></nav></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2019/11/13/mysql-install.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2019/11/13/mysql-install.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2019/11/13/mysql-install.html" hreflang="ja">日本語</a></div><div id="scroller"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="政哥" class="header-avatar"><p class="header-author">政哥</p><p class="header-description">好好学习，天天向上</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; 返回</a><header class="article-header"><h1 class="article-title">安装MySQL</h1><div class="article-meta"><time datetime="2019-11-13T10:05:46.000Z" class="article-date">2019-11-13</time></div></header><div class="article-content"><h2 id="Windows-上安装-MySQL"><a href="#Windows-上安装-MySQL" class="headerlink" title="Windows 上安装 MySQL"></a>Windows 上安装 MySQL</h2><p>Windows 上安装 MySQL 相对来说会较为简单，最新版本可以在 <a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">MySQL 下载</a> 中下载中查看(更详细安装：<a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/windows10-mysql-installer.html">Windows 上安装 MySQL</a>)。</p><p><img src="./mysql-install/select-version.png" alt=""></p><p>点击 Download 按钮进入下载页面，点击下图中的 No thanks, just start my download. 就可立即下载：</p><p><img src="./mysql-install/no-thanks.png" alt=""></p><p>下载完后，解压完成后为以下样子（我将安装文件放在 D:\mysql 中）：</p><p><img src="./mysql-install/database-catalogue.png" alt=""></p><p><strong>接下来我们需要配置下 MySQL 的配置文件</strong><br>打开刚刚解压的文件夹 D:\mysql ，在该文件夹下创建 my.ini 配置文件，编辑 my.ini 配置以下基本信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line"> </span><br><span class="line">[mysqld]</span><br><span class="line"># 设置3306端口</span><br><span class="line">port = 3306</span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line">basedir=C:\\web\\mysql-8.0.11</span><br><span class="line"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span><br><span class="line"># datadir=C:\\web\\sqldata</span><br><span class="line"># 允许最大连接数</span><br><span class="line">max_connections=20</span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line">character-set-server=utf8</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br></pre></td></tr></table></figure><p><strong>接下来我们来启动下 MySQL 数据库：</strong></p><p>以管理员身份打开 cmd 命令行工具，切换目录：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> C:\web\mysql-8.0.11\bin</span></span><br></pre></td></tr></table></figure><p>初始化数据库：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysqld --initialize --console</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：这个可能会报错：<br><code>mysqld : 无法将“mysqld”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。</code><br>解决办法有两个：1、在命令前面加上 ./ 如：<code>$ ./mysqld --initialize --console</code><br>2、<a href="#配置-mysql-环境变量">配置 mysql 环境变量</a></p></blockquote><p>执行完成后，会输出 root 用户的初始默认密码，如：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">2019-11-13T09:36:49.186128Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: &lt;!wbLjV?/3uq</span><br></pre></td></tr></table></figure><p>&lt;!wbLjV?/3uq 就是初始密码，后续登录需要用到，你也可以在登陆后修改密码。<br>输入以下安装命令：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysqld install</span></span><br></pre></td></tr></table></figure><p>启动输入以下命令即可：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">net start mysql</span></span><br></pre></td></tr></table></figure><h2 id="登录-MySQL"><a href="#登录-MySQL" class="headerlink" title="登录 MySQL"></a>登录 MySQL</h2><p>当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -h 主机名 -u 用户名 -p</span></span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;</li><li>-u : 登录的用户名;</li><li>-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li></ul><p>如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -u root -p</span></span><br></pre></td></tr></table></figure><p>按回车确认, 如果安装正确且 MySQL 正在运行, 会得到以下响应:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">Enter password:</span></span><br></pre></td></tr></table></figure><p>若密码存在, 输入密码登录, 不存在则直接按回车登录。登录成功后你将会看到 Welcome to the MySQL monitor… 的提示语。<br>然后命令提示符会一直以 mysq&gt; 加一个闪烁的光标等待命令的输入, 输入 exit 或 quit 退出登录。</p><h2 id="配置-mysql-环境变量"><a href="#配置-mysql-环境变量" class="headerlink" title="配置 mysql 环境变量"></a>配置 mysql 环境变量</h2><p>上面安装的是时候我们看到mysql默认安装路径是：D:\mysql 我的电脑右键—&gt;属性—&gt;高级系统设置—&gt;环境变量—&gt;新建MYSQL_HOME,将安装目录输入：</p><p><img src="./mysql-install/mysql-home01.png" alt=""></p><p>找到path编辑：输入%MYSQL_HOME%\bin</p><p><img src="./mysql-install/mysql-home02.png" alt=""></p><p>打开 cmd 输入 <code>mysql</code> 检测一下</p><h2 id="在-navicat-for-mysql-上链接-mysql"><a href="#在-navicat-for-mysql-上链接-mysql" class="headerlink" title="在 navicat for mysql 上链接 mysql"></a>在 navicat for mysql 上链接 mysql</h2><p><a target="_blank" rel="noopener" href="https://navicatformysql.en.softonic.com/download">navicat for mysql 下载</a> 安装完成后运行 navicat</p><blockquote><p>客户端使用 navicat for mysql。本地安装了mysql 8.0。但是在链接的时候提示：<br><img src="./mysql-install/error-1251.png" alt=""></p></blockquote><p>解决方法：</p><blockquote><p>这行代码有两层含义，第一:修改root的密码为’root’，摒弃原来的旧密码。第二：使用mysql_native_password对新密码进行编码。</p></blockquote><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED WITH mysql_native_password BY <span class="string">&#x27;root&#x27;</span>;</span></span><br></pre></td></tr></table></figure><p>详情报错信息请看 <a target="_blank" rel="noopener" href="https://my.oschina.net/u/3295928/blog/1811804">navicat for mysql 链接时报错：1251…</a></p></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="zh-CN" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">政哥的博客</a><p>这片小天地由俺搭建</p></div></footer></div></div></div><script src="/js/i18n.js"></script></body></html>