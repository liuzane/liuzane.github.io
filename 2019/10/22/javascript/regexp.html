<!doctype html><html lang="en"><head><meta charset="utf-8"><title>RegExp - LiuZheng&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="container"><div id="nav"><nav id="nav-wrap"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archives">Archives</a> <a class="nav-link" href="/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools">Tools</a> <a class="nav-link" href="/about">About</a></nav><div class="frosted-glass"></div></div><div id="wrapper"><header id="header"><div class="header-wrapper"><img src="/images/aodamiao.jpg" class="header-avatar"><p class="header-author">Zheng Liu</p><p class="header-description">Beautiful skin all the same, Interesting soul one in a million.</p></div><div class="frosted-glass"></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">RegExp</h1><div class="article-meta"><time datetime="2019-10-22T08:57:39.000Z" class="article-date">2019-10-22</time></div></header><div class="article-content"><h2 id="JavaScript-RegExp-对象"><a href="#JavaScript-RegExp-对象" class="headerlink" title="JavaScript RegExp 对象"></a>JavaScript RegExp 对象</h2><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern, modifiers);    <span class="comment">// 通过 RegExp 构造函数创建</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/[pattern]/</span>[modifiers];            <span class="comment">// 通过字面量创建</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>pattern（模式） 描述了表达式的模式</li><li>modifiers (修饰符) 用于指定全局匹配、区分大小写的匹配和多行匹配</li></ul><p>注意：当使用构造函数创造正则对象时，需要常规的字符转义规则（在前面加反斜杠 \）。比如，以下是等价的：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;\\w+&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/\w+/</span>;</span><br></pre></td></tr></table></figure><h4 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h4><blockquote><p>元字符（Metacharacter）是拥有特殊含义的字符：</p></blockquote><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>.</td><td>查找单个字符，除了换行和行结束符。</td></tr><tr><td>\w</td><td>查找单词字符。</td></tr><tr><td>\W</td><td>查找非单词字符。</td></tr><tr><td>\d</td><td>查找数字。</td></tr><tr><td>\D</td><td>查找非数字字符。</td></tr><tr><td>\s</td><td>查找空白字符。</td></tr><tr><td>\S</td><td>查找非空白字符。</td></tr><tr><td>\b</td><td>匹配单词边界。</td></tr><tr><td>\B</td><td>匹配非单词边界。</td></tr><tr><td>\0</td><td>查找 NULL 字符。</td></tr><tr><td>\n</td><td>查找换行符。</td></tr><tr><td>\f</td><td>查找换页符。</td></tr><tr><td>\r</td><td>查找回车符。</td></tr><tr><td>\t</td><td>查找制表符。</td></tr><tr><td>\v</td><td>查找垂直制表符。</td></tr><tr><td>\xxx</td><td>查找以八进制数 xxx 规定的字符。</td></tr><tr><td>\xdd</td><td>查找以十六进制数 dd 规定的字符。</td></tr><tr><td>\uxxxx</td><td>查找以十六进制数 xxxx 规定的 Unicode 字符。</td></tr></tbody></table><h4 id="先行断言"><a href="#先行断言" class="headerlink" title="先行断言"></a>先行断言</h4><blockquote><p>先行断言指的是，x只有在y前面才匹配，必须写成/x(?=y)/。比如，只匹配百分号之前的数字，要写成/\d+(?=%)/。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;100% of US presidents have been male&#x27;</span>;</span><br><span class="line"></span><br><span class="line">/\d+(?=%)/.exec(string) <span class="comment">// [&#x27;100&#x27;]</span></span><br><span class="line"></span><br><span class="line">/have(?=%)/.exec(string) <span class="comment">// null</span></span><br></pre></td></tr></table></figure><h4 id="先行否定断言"><a href="#先行否定断言" class="headerlink" title="先行否定断言"></a>先行否定断言</h4><blockquote><p>先行否定断言指的是，x只有不在y前面才匹配，必须写成/x(?!y)/。比如，只匹配不在百分号之前的数字，要写成/\d+(?!%)/。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;that’s all 44 of them&#x27;</span>;</span><br><span class="line"></span><br><span class="line">/\d+(?!%)/.exec(string) <span class="comment">// [&#x27;44&#x27;]</span></span><br><span class="line"></span><br><span class="line">/\d+(?!.*<span class="keyword">of</span>)/.exec(string) <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">/\d+(?!.*all)/.exec(string) <span class="comment">// [&#x27;44&#x27;]</span></span><br><span class="line"></span><br><span class="line">/\d+(?!.*<span class="keyword">of</span>|.*all)/.exec(string) <span class="comment">// null</span></span><br></pre></td></tr></table></figure><h4 id="捕获型分组和非捕获型分组"><a href="#捕获型分组和非捕获型分组" class="headerlink" title="捕获型分组和非捕获型分组"></a>捕获型分组和非捕获型分组</h4><blockquote><p>捕获型()：捕获型分组会把每个捕获分组所匹配的内容暂且存储在某个地方，以便下次使用。在JavaScript中，捕获性分组所匹配的内容都是以$1,$2,$3…的格式保存的。因此捕获型分组会有性能上的损失。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;sjds24324abcabc1234&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(abc)&#123;2&#125;/</span>;</span><br><span class="line"></span><br><span class="line">str.match(reg) <span class="comment">// [&#x27;abcabc&#x27;, &#x27;abc&#x27;]</span></span><br></pre></td></tr></table></figure><blockquote><p>非捕获型(?:)：非捕获型分组只会返回一个不含各个分组匹配（不含字串）的结果。所以会提高匹配速度。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;sjds24324abcabc1234&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(?:abc)&#123;2&#125;/</span>;</span><br><span class="line"></span><br><span class="line">str.match(reg) <span class="comment">// [&#x27;abcabc&#x27;]</span></span><br></pre></td></tr></table></figure></div></article></section><footer id="footer"><div class="footer-wrapper"><a href="/" class="footer-title">LiuZheng's Blog</a><p>Theme from by Lite</p></div><div class="frosted-glass"></div></footer></div></div></body></html>