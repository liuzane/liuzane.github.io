<!doctype html><html lang="en"><head><meta charset="utf-8"><title>安装MySQL - LiuZheng&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="container"><div id="nav"><nav id="nav-wrap"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archives">Archives</a> <a class="nav-link" href="/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools">Tools</a> <a class="nav-link" href="/about">About</a></nav><div class="frosted-glass"></div></div><div id="wrapper"><header id="header"><div class="header-wrapper"><img src="/images/aodamiao.jpg" class="header-avatar"><p class="header-author">Zheng Liu</p><p class="header-description">Study hard and make progress every day</p></div><div class="frosted-glass"></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">安装MySQL</h1><div class="article-meta"><time datetime="2019-11-13T10:05:46.000Z" class="article-date">2019-11-13</time></div></header><div class="article-content"><h2 id="Windows-上安装-MySQL"><a href="#Windows-上安装-MySQL" class="headerlink" title="Windows 上安装 MySQL"></a>Windows 上安装 MySQL</h2><p>Windows 上安装 MySQL 相对来说会较为简单，最新版本可以在 <a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">MySQL 下载</a> 中下载中查看(更详细安装：<a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/windows10-mysql-installer.html">Windows 上安装 MySQL</a>)。</p><p><img src="./mysql-install/select-version.png" alt=""></p><p>点击 Download 按钮进入下载页面，点击下图中的 No thanks, just start my download. 就可立即下载：</p><p><img src="./mysql-install/no-thanks.png" alt=""></p><p>下载完后，解压完成后为以下样子（我将安装文件放在 D:\mysql 中）：</p><p><img src="./mysql-install/database-catalogue.png" alt=""></p><p><strong>接下来我们需要配置下 MySQL 的配置文件</strong><br>打开刚刚解压的文件夹 D:\mysql ，在该文件夹下创建 my.ini 配置文件，编辑 my.ini 配置以下基本信息：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"> </span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line"><span class="attr">basedir</span>=C:\\web\\mysql-<span class="number">8.0</span>.<span class="number">11</span></span><br><span class="line"><span class="comment"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span></span><br><span class="line"><span class="comment"># datadir=C:\\web\\sqldata</span></span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">20</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为8比特编码的latin1字符集</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br></pre></td></tr></table></figure><p><strong>接下来我们来启动下 MySQL 数据库：</strong></p><p>以管理员身份打开 cmd 命令行工具，切换目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> C:\web\mysql-8.0.11\bin</span><br></pre></td></tr></table></figure><p>初始化数据库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqld --initialize --console</span><br></pre></td></tr></table></figure><blockquote><p>注意：这个可能会报错：<br><code>mysqld : 无法将“mysqld”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。</code><br>解决办法有两个：1、在命令前面加上 ./ 如：<code>$ ./mysqld --initialize --console</code><br>2、<a href="#配置-mysql-环境变量">配置 mysql 环境变量</a></p></blockquote><p>执行完成后，会输出 root 用户的初始默认密码，如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">2019-11-13T09:36:49.186128Z 5 [Note] [MY-010454] [Server] A temporary password is generated <span class="keyword">for</span> root@localhost: &lt;!wbLjV?/3uq</span><br></pre></td></tr></table></figure><p>&lt;!wbLjV?/3uq 就是初始密码，后续登录需要用到，你也可以在登陆后修改密码。<br>输入以下安装命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqld install</span><br></pre></td></tr></table></figure><p>启动输入以下命令即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ net start mysql</span><br></pre></td></tr></table></figure><h2 id="登录-MySQL"><a href="#登录-MySQL" class="headerlink" title="登录 MySQL"></a>登录 MySQL</h2><p>当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -h 主机名 -u 用户名 -p</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;</li><li>-u : 登录的用户名;</li><li>-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li></ul><p>如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root -p</span><br></pre></td></tr></table></figure><p>按回车确认, 如果安装正确且 MySQL 正在运行, 会得到以下响应:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ Enter password:</span><br></pre></td></tr></table></figure><p>若密码存在, 输入密码登录, 不存在则直接按回车登录。登录成功后你将会看到 Welcome to the MySQL monitor… 的提示语。<br>然后命令提示符会一直以 mysq&gt; 加一个闪烁的光标等待命令的输入, 输入 exit 或 quit 退出登录。</p><h2 id="配置-mysql-环境变量"><a href="#配置-mysql-环境变量" class="headerlink" title="配置 mysql 环境变量"></a>配置 mysql 环境变量</h2><p>上面安装的是时候我们看到mysql默认安装路径是：D:\mysql 我的电脑右键—&gt;属性—&gt;高级系统设置—&gt;环境变量—&gt;新建MYSQL_HOME,将安装目录输入：</p><p><img src="./mysql-install/mysql-home01.png" alt=""></p><p>找到path编辑：输入%MYSQL_HOME%\bin</p><p><img src="./mysql-install/mysql-home02.png" alt=""></p><p>打开 cmd 输入 <code>mysql</code> 检测一下</p><h2 id="在-navicat-for-mysql-上链接-mysql"><a href="#在-navicat-for-mysql-上链接-mysql" class="headerlink" title="在 navicat for mysql 上链接 mysql"></a>在 navicat for mysql 上链接 mysql</h2><p><a target="_blank" rel="noopener" href="https://navicatformysql.en.softonic.com/download">navicat for mysql 下载</a> 安装完成后运行 navicat</p><blockquote><p>客户端使用 navicat for mysql。本地安装了mysql 8.0。但是在链接的时候提示：<br><img src="./mysql-install/error-1251.png" alt=""></p></blockquote><p>解决方法：</p><blockquote><p>这行代码有两层含义，第一:修改root的密码为’root’，摒弃原来的旧密码。第二：使用mysql_native_password对新密码进行编码。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED WITH mysql_native_password BY <span class="string">&#x27;root&#x27;</span>;</span><br></pre></td></tr></table></figure><p>详情报错信息请看 <a target="_blank" rel="noopener" href="https://my.oschina.net/u/3295928/blog/1811804">navicat for mysql 链接时报错：1251…</a></p></div></article></section><footer id="footer"><div class="footer-wrapper"><a href="/" class="footer-title">LiuZheng's Blog</a><p>Theme from by Lite</p></div><div class="frosted-glass"></div></footer></div></div></body></html>