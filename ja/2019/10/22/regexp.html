<!doctype html><html lang="en"><head><meta charset="utf-8"><title>RegExp</title><meta name="author" content="政哥"><meta name="keywords" content="RegExp, 正規表現, オブジェクト, 構文, パターン, 修飾子, コンストラクタ, 字面量, マッチ, 検索, 置換"><meta name="description" content="JavaScript の RegExp オブジェクトを紹介します。構文、パターン、修飾子、コンストラクタ、字面量、マッチ、検索、置換の使い方を詳しく解説します。"><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/ja/2019/10/22/regexp.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass"><nav id="nav-wrap"><a class="nav-link" href="/ja">ホーム</a> <a class="nav-link" href="/ja/archives">アーカイブ</a> <a class="nav-link" href="/ja/categories">カテゴリ</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">ツール</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">ラボ</a> <a class="nav-link" href="/ja/about">紹介</a></nav></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2019/10/22/regexp.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2019/10/22/regexp.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2019/10/22/regexp.html" hreflang="ja">日本語</a></div><div id="scroller"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="政哥" class="header-avatar"><p class="header-author">政哥</p><p class="header-description">日々精進、向上心を忘れず</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; 戻る</a><header class="article-header"><h1 class="article-title">RegExp</h1><div class="article-meta"><time datetime="2025-07-05T08:57:39.000Z" class="article-date">2025-07-05</time></div></header><div class="article-content"><h2 id="JavaScript-RegExp-オブジェクト"><a href="#JavaScript-RegExp-オブジェクト" class="headerlink" title="JavaScript RegExp オブジェクト"></a>JavaScript RegExp オブジェクト</h2><h4 id="構文"><a href="#構文" class="headerlink" title="構文"></a>構文</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(pattern, modifiers);    <span class="comment">// 通过 RegExp 构造函数创建</span></span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/[pattern]/</span>[modifiers];            <span class="comment">// 通过字面量创建</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>pattern（パターン）は式のパターンを記述します</li><li>modifiers（修飾子）はグローバルマッチ、大小文字の区別、複数行マッチを指定します</li></ul><p>注意：コンストラクタで正規表現オブジェクトを作成する場合、通常の文字エスケープルール（バックスラッシュ \ を前に付ける）が必要です。例えば、次は等価です：</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;\\w+&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/\w+/</span>;</span><br></pre></td></tr></table></figure><h4 id="修飾子"><a href="#修飾子" class="headerlink" title="修飾子"></a>修飾子</h4><blockquote><p>修飾子（Modifiers）はグローバルマッチ、大小文字の区別、複数行マッチを指定します：</p></blockquote><table><thead><tr><th>修飾子</th><th>説明</th></tr></thead><tbody><tr><td>i</td><td>大小文字を区別しないマッチを実行します。</td></tr><tr><td>g</td><td>グローバルマッチ（すべての一致を検索、最初の一致で停止しない）を実行します。</td></tr><tr><td>m</td><td>複数行マッチを実行します。</td></tr><tr><td>s</td><td>. で改行文字もマッチできるようにします。</td></tr><tr><td>u</td><td>unicode コードのパターンでマッチします。</td></tr><tr><td>y</td><td>“粘着（sticky）”検索を実行し、ターゲット文字列の現在位置からマッチします。</td></tr></tbody></table><h4 id="量指定子"><a href="#量指定子" class="headerlink" title="量指定子"></a>量指定子</h4><blockquote><p>量指定子（Quantifiers）は繰り返しマッチする文字の回数や範囲を定義します：</p></blockquote><table><thead><tr><th>量指定子</th><th>説明</th></tr></thead><tbody><tr><td>n+</td><td>少なくとも1つの n を含む文字列にマッチします。</td></tr><tr><td>n*</td><td>0個以上の n を含む文字列にマッチします。</td></tr><tr><td>n?</td><td>0個または1個の n を含む文字列にマッチします。</td></tr><tr><td>n{X}</td><td>X 個の n の並びにマッチします。</td></tr><tr><td>n{X,}</td><td>最低 x 個、最大 y 個の n の並びにマッチします。</td></tr><tr><td>n{X,Y}</td><td>少なくとも x 個の n の並びにマッチします。</td></tr><tr><td>^n</td><td>n で始まる文字列にマッチします。</td></tr><tr><td>n$</td><td>n で終わる文字列にマッチします。</td></tr><tr><td>?=n</td><td>直後に指定文字列 n が続く場合にマッチします。</td></tr><tr><td>?!n</td><td>直後に指定文字列 n が続かない場合にマッチします。</td></tr></tbody></table><h4 id="メタ文字"><a href="#メタ文字" class="headerlink" title="メタ文字"></a>メタ文字</h4><blockquote><p>メタ文字（Metacharacter）は特別な意味を持つ文字です：</p></blockquote><table><thead><tr><th>メタ文字</th><th>説明</th></tr></thead><tbody><tr><td>.</td><td>（ドット）デフォルトで<strong><em>改行以外</em></strong>の任意の1文字にマッチします。</td></tr><tr><td>\w</td><td>単語文字（数字、英字、アンダースコア）にマッチします。</td></tr><tr><td>\W</td><td>非単語文字にマッチします。</td></tr><tr><td>\d</td><td>数字にマッチします。</td></tr><tr><td>\D</td><td>非数字文字にマッチします。</td></tr><tr><td>\s</td><td>空白文字にマッチします。</td></tr><tr><td>\S</td><td>非空白文字にマッチします。</td></tr><tr><td>\b</td><td>単語境界にマッチします。</td></tr><tr><td>\B</td><td>非単語境界にマッチします。</td></tr><tr><td>\0</td><td>NULL 文字にマッチします。</td></tr><tr><td>\n</td><td>改行文字にマッチします。</td></tr><tr><td>\f</td><td>改ページ文字にマッチします。</td></tr><tr><td>\r</td><td>復帰文字にマッチします。</td></tr><tr><td>\t</td><td>タブ文字にマッチします。</td></tr><tr><td>\v</td><td>垂直タブにマッチします。</td></tr><tr><td>\xxx</td><td>8進数 xxx で指定された文字にマッチします。</td></tr><tr><td>\xdd</td><td>16進数 dd で指定された文字にマッチします。</td></tr><tr><td>\uxxxx</td><td>16進数 xxxx で指定された Unicode 文字にマッチします。</td></tr></tbody></table><h4 id="角括弧"><a href="#角括弧" class="headerlink" title="角括弧"></a>角括弧</h4><blockquote><p>角括弧は特定の範囲の文字を検索するために使います：</p></blockquote><table><thead><tr><th>式</th><th>説明</th></tr></thead><tbody><tr><td>[^]</td><td>任意の文字にマッチします。（<strong><em>改行もマッチ可能</em></strong>）</td></tr><tr><td>[abc]</td><td>角括弧内の任意の文字にマッチします。</td></tr><tr><td>[^abc]</td><td>角括弧内にない任意の文字にマッチします。</td></tr><tr><td>[0-9]</td><td>0 から 9 までの任意の数字にマッチします。</td></tr><tr><td>[a-z]</td><td>小文字 a から小文字 z までの任意の文字にマッチします。</td></tr><tr><td>[A-Z]</td><td>大文字 A から大文字 Z までの任意の文字にマッチします。</td></tr><tr><td>[A-z]</td><td>大文字 A から小文字 z までの任意の文字にマッチします。</td></tr><tr><td>(red|blue|green)</td><td>指定されたいずれかの選択肢にマッチします。</td></tr></tbody></table><h4 id="RegExp-オブジェクトのメソッド"><a href="#RegExp-オブジェクトのメソッド" class="headerlink" title="RegExp オブジェクトのメソッド"></a>RegExp オブジェクトのメソッド</h4><table><thead><tr><th>式</th><th>説明</th></tr></thead><tbody><tr><td>compile</td><td>正規表現をコンパイルします。</td></tr><tr><td>exec</td><td>文字列内で指定値を検索します。見つかった値とその位置を返します。</td></tr><tr><td>test</td><td>文字列内で指定値を検索します。true または false を返します。</td></tr></tbody></table><h4 id="正規表現をサポートする-String-オブジェクトのメソッド"><a href="#正規表現をサポートする-String-オブジェクトのメソッド" class="headerlink" title="正規表現をサポートする String オブジェクトのメソッド"></a>正規表現をサポートする String オブジェクトのメソッド</h4><table><thead><tr><th>式</th><th>説明</th></tr></thead><tbody><tr><td>search</td><td>正規表現に一致する値を検索します。</td></tr><tr><td>match</td><td>1つまたは複数の正規表現の一致を見つけます。</td></tr><tr><td>replace</td><td>正規表現に一致する部分文字列を置換します。</td></tr><tr><td>split</td><td>文字列を配列に分割します。</td></tr></tbody></table><h4 id="複数行テキストで正規表現を使う"><a href="#複数行テキストで正規表現を使う" class="headerlink" title="複数行テキストで正規表現を使う"></a>複数行テキストで正規表現を使う</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;Please yes\nmake my day!&#x27;</span>;</span><br><span class="line"></span><br><span class="line">string.<span class="title function_">match</span>(<span class="regexp">/yes.*day/</span>); <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">string.<span class="title function_">match</span>(<span class="regexp">/yes[^]*day/</span>); <span class="comment">// &#x27;yes\nmake my day&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="先読みアサーションと否定先読みアサーション"><a href="#先読みアサーションと否定先読みアサーション" class="headerlink" title="先読みアサーションと否定先読みアサーション"></a>先読みアサーションと否定先読みアサーション</h4><blockquote><p>先読みアサーション（lookahead）は、xがyの前にある場合のみマッチします。/x(?=y)/ のように書きます。例えば、パーセント記号の前の数字だけをマッチさせるには /\d+(?=%)/ と書きます。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;100% of US presidents have been male&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">/\d+(?=%)/</span>.<span class="title function_">exec</span>(string); <span class="comment">// [&#x27;100&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="regexp">/have(?=%)/</span>.<span class="title function_">exec</span>(string); <span class="comment">// null</span></span><br></pre></td></tr></table></figure><blockquote><p>否定先読みアサーション（negative lookahead）は、xがyの前にない場合のみマッチします。/x(?!y)/ のように書きます。例えば、パーセント記号の前でない数字だけをマッチさせるには /\d+(?!%)/ と書きます。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;that&#x27;</span>s all <span class="number">44</span> <span class="keyword">of</span> them<span class="string">&#x27;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/\d+(?!%)/.exec(string); // [&#x27;</span><span class="number">44</span><span class="string">&#x27;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/\d+(?!.*of)/.exec(string); // null</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/\d+(?!.*all)/.exec(string); // [&#x27;</span><span class="number">44</span><span class="string">&#x27;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/\d+(?!.*of|.*all)/.exec(string); // null</span></span><br></pre></td></tr></table></figure><h4 id="後読みアサーションと否定後読みアサーション"><a href="#後読みアサーションと否定後読みアサーション" class="headerlink" title="後読みアサーションと否定後読みアサーション"></a>後読みアサーションと否定後読みアサーション</h4><blockquote><p>ES2018 で後読みアサーションが導入され、V8 エンジン 4.9（Chrome 62）以降でサポートされています。<br>後読みアサーション（lookbehind）は、xがyの後にある場合のみマッチします。/(?&lt;=y)x/ のように書きます。例えば、ドル記号の後の数字だけをマッチさせるには /(?&lt;=$)d+/ と書きます。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;Benjamin Franklin is on the $100 bill&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">/(?&lt;=\$)\d+/</span>.<span class="title function_">exec</span>(string);  <span class="comment">// [&quot;100&quot;]</span></span><br></pre></td></tr></table></figure><blockquote><p>否定後読みアサーション（negative lookbehind）は、xがyの後にない場合のみマッチします。/(?&lt;!y)x/ のように書きます。例えば、ドル記号の後でない数字だけをマッチさせるには /(?&lt;!\$)d+/ と書きます。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;it&#x27;</span>s is worth about €<span class="number">90</span><span class="string">&#x27;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/(?&lt;!\$)\d+/.exec(string);  // [&quot;90&quot;]</span></span><br></pre></td></tr></table></figure><h4 id="貪欲モードと非貪欲モード"><a href="#貪欲モードと非貪欲モード" class="headerlink" title="貪欲モードと非貪欲モード"></a>貪欲モードと非貪欲モード</h4><blockquote><p>貪欲モード: 正規表現は通常、できるだけ長くマッチしようとします。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="string">&#x27;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(&lt;.*&gt;)/</span>;</span><br><span class="line"></span><br><span class="line">html.<span class="title function_">match</span>(regexp); <span class="comment">// [&#x27;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#x27;]</span></span><br></pre></td></tr></table></figure><blockquote><p>非貪欲モード: 最小限のマッチを試みます。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="string">&#x27;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(&lt;.*?&gt;)/</span>;</span><br><span class="line"></span><br><span class="line">html.<span class="title function_">match</span>(regexp); <span class="comment">// [&#x27;&lt;html&gt;&#x27;]</span></span><br></pre></td></tr></table></figure><blockquote><p>6種類の繰り返しの非貪欲マッチの簡単な説明：</p><ul><li>{n,m}?：できるだけ n 回マッチしますが、条件を満たすために最大 m 回まで繰り返すこともあります。</li><li>{n}?：できるだけ n 回マッチします。</li><li>{n,}?：できるだけ n 回マッチしますが、条件を満たすために任意回数繰り返すこともあります。</li><li>??：できるだけマッチしますが、条件を満たすために最大1回までマッチします（{0,1}? と同等）。</li><li>+?：できるだけ1回マッチしますが、条件を満たすために任意回数繰り返すこともあります（{1,}? と同等）。</li><li>*? ：できるだけマッチしませんが、条件を満たすために任意回数繰り返すこともあります（{0,}? と同等）。</li></ul></blockquote><h4 id="キャプチャグループと非キャプチャグループ"><a href="#キャプチャグループと非キャプチャグループ" class="headerlink" title="キャプチャグループと非キャプチャグループ"></a>キャプチャグループと非キャプチャグループ</h4><blockquote><p>キャプチャグループ ()：キャプチャグループは各グループでマッチした内容を一時的に保存し、次回利用できます。JavaScript では $1, $2, $3… の形式で保存されます。そのためキャプチャグループはパフォーマンスに影響します。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;sjds24324abcabc1234&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(abc)&#123;2&#125;/</span>;</span><br><span class="line"></span><br><span class="line">string.<span class="title function_">match</span>(regexp); <span class="comment">// [&#x27;abcabc&#x27;, &#x27;abc&#x27;]</span></span><br></pre></td></tr></table></figure><blockquote><p>非キャプチャグループ (?:)：非キャプチャグループは各グループのマッチ内容を保存せず、結果のみ返します。したがってマッチ速度が向上します。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;sjds24324abcabc1234&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(?:abc)&#123;2&#125;/</span>;</span><br><span class="line"></span><br><span class="line">string.<span class="title function_">match</span>(regexp); <span class="comment">// [&#x27;abcabc&#x27;]</span></span><br></pre></td></tr></table></figure><h4 id="正規表現の名前付きグループキャプチャ"><a href="#正規表現の名前付きグループキャプチャ" class="headerlink" title="正規表現の名前付きグループキャプチャ"></a>正規表現の名前付きグループキャプチャ</h4><blockquote><p>名前付きグループキャプチャは ?&lt;name&gt; 記法を使い、マッチした結果を名前でアクセスできます。グループがマッチしなかった場合、groups オブジェクトの該当プロパティは undefined になります。</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="string">&#x27;2023-01-01&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> regexp = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/u</span>;</span><br><span class="line"></span><br><span class="line">regexp.<span class="title function_">exec</span>(<span class="string">&#x27;2023-01-01&#x27;</span>); <span class="comment">// &#123; year: &#x27;2023&#x27;, month: &#x27;01&#x27;, day: &#x27;01&#x27; &#125;</span></span><br></pre></td></tr></table></figure></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="ja" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">政哥のブログ</a><p>この小屋は俺が構築しました</p></div></footer></div></div></div><script src="/js/i18n.js"></script></body></html>