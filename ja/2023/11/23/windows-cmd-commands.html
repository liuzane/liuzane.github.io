<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Windows CMDよく使うコマンド大全</title><meta name="author" content="政哥"><meta name="keywords" content="Windows, CMD, コマンド, 大全, 実行, 方法, 2つ, コマンドプロンプト, ウィンドウ, コマンドを, 実行する, 方法は, スタートボタン, 右クリック, メニューを, 開き, 「ファイル名を指定して実行」, ショートカット, Win, R, 入力ボックス, 「cmd」, 入力, OK, クリック, 拡張子, .cmd, .bat, スクリプトファイル, 作成してCMDコマンドを, 実行します"><meta name="description" content="Windows の CMD コマンドを実行する方法について説明します。コマンドプロンプトウィンドウでコマンドを実行する方法、拡張子が .cmd または .bat のスクリプトファイルを作成してCMDコマンドを実行する方法を含みます。"><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/ja/2023/11/23/windows-cmd-commands.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass"><nav id="nav-wrap"><a class="nav-link" href="/ja">ホーム</a> <a class="nav-link" href="/ja/archives">アーカイブ</a> <a class="nav-link" href="/ja/categories">カテゴリ</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">ツール</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">ラボ</a> <a class="nav-link" href="/ja/about">紹介</a></nav></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2023/11/23/windows-cmd-commands.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2023/11/23/windows-cmd-commands.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2023/11/23/windows-cmd-commands.html" hreflang="ja">日本語</a></div><div id="scroller"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="政哥" class="header-avatar"><p class="header-author">政哥</p><p class="header-description">日々精進、向上心を忘れず</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; 戻る</a><header class="article-header"><h1 class="article-title">Windows CMDよく使うコマンド大全</h1><div class="article-meta"><time datetime="2023-11-23T09:23:41.000Z" class="article-date">2023-11-23</time></div></header><div class="article-content"><p><strong>CMDコマンドを実行する方法は2つあります：</strong></p><ol><li>コマンドプロンプトウィンドウでコマンドを実行する：スタートボタンを右クリックしてメニューを開き、「ファイル名を指定して実行」（ショートカット：Win + R）をクリックし、入力ボックスに「cmd」と入力してOKをクリックします。</li><li>拡張子が .cmd または .bat のスクリプトファイルを作成してCMDコマンドを実行します。</li></ol><h4 id="cmdスクリプトファイルを作成してCMDコマンドを実行する"><a href="#cmdスクリプトファイルを作成してCMDコマンドを実行する" class="headerlink" title=".cmdスクリプトファイルを作成してCMDコマンドを実行する"></a>.cmdスクリプトファイルを作成してCMDコマンドを実行する</h4><p>ここでは、「Hello World」というタイトルのコマンドプロンプトウィンドウを作成し、その中で「Hello World!」を出力したり、ファイルを作成したりする操作を行います。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem start.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem &quot;rem&quot;と&quot;::&quot;はバッチファイル内のコメントです</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; <span class="built_in">cmd</span> /k .\input.bat</span><br></pre></td></tr></table></figure><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem input.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem chcpはページのエンコーディングを変更します。UTF-8のコードは65001で、コマンドラインの中国語文字化け問題を解決します</span></span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World!</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p text=入力してください：（PS: <span class="built_in">set</span>で変数を設定し、/pパラメータでコマンドをブロックし、入力が完了してから他のコマンドを実行します。）</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 入力した内容は<span class="variable">%text%</span>です</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=ファイルとして保存しますか？(y/n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> &quot;<span class="variable">%isSave%</span>&quot; == &quot;y&quot; (</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> 入力した内容.txt (</span><br><span class="line">    @<span class="built_in">echo</span> 入力した内容.txt ファイルは既に存在します</span><br><span class="line">  )</span><br><span class="line">  @<span class="built_in">echo</span> <span class="variable">%text%</span>&gt;&gt;入力した内容.txt</span><br><span class="line">  @<span class="built_in">echo</span> ファイルが保存されました.</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">  <span class="built_in">echo</span> ファイルを保存しません.</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><h2 id="付録：Windowsコマンド大全"><a href="#付録：Windowsコマンド大全" class="headerlink" title="付録：Windowsコマンド大全"></a>付録：<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands">Windowsコマンド大全</a></h2><h4 id="1-cdコマンド-chdirコマンド"><a href="#1-cdコマンド-chdirコマンド" class="headerlink" title="1. cdコマンド, (chdirコマンド)"></a>1. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cd">cdコマンド</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/chdir">(chdirコマンド)</a></h4><p>現在のディレクトリ名を表示または現在のディレクトリを変更します。ドライブ文字だけで使用した場合（例：cd C:）、cdは指定したドライブの現在のディレクトリ名を表示します。パラメータなしで使用した場合、cdは現在のドライブとディレクトリを表示します。<br><strong>異なるドライブのパスに移動する場合は/dパラメータを追加する必要があります。そうしないと移動できません。</strong></p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> [/d] [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;]</span><br><span class="line"><span class="built_in">cd</span> [..]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/d</code></td><td>現在のドライブおよびそのドライブの現在のディレクトリを変更します。</td></tr><tr><td><code>&lt;drive&gt;:</code></td><td>表示または変更するドライブを指定します（現在のドライブと異なる場合）。</td></tr><tr><td><code>&lt;path&gt;</code></td><td>表示または変更するディレクトリのパスを指定します。</td></tr><tr><td><code>[..]</code></td><td>親フォルダに変更します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem  CMD 実行パス: $ C:\Users\liuzane&gt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">D:                  // <span class="title">D</span>ドライブに移動</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:                  // <span class="title">F</span>ドライブに移動</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> \                // 現在のドライブのルートディレクトリに移動</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">C</span>:\<span class="title">WINDOWS</span>       // <span class="title">C</span>ドライブの<span class="title">WINDOWS</span>フォルダに移動（同じドライブの場合/<span class="title">d</span>は不要）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> /<span class="title">d</span> <span class="title">e</span>:\<span class="title">software</span>   // <span class="title">E</span>ドライブの<span class="title">software</span>フォルダに移動（ドライブをまたぐ場合/<span class="title">d</span>が必要）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span>..                // 1つ上のディレクトリに移動</span></span><br></pre></td></tr></table></figure><h4 id="2-dirコマンド"><a href="#2-dirコマンド" class="headerlink" title="2. dirコマンド"></a>2. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/dir">dirコマンド</a></h4><p>ディレクトリ内のファイルとサブディレクトリの一覧を表示します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span> [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;][&lt;filename&gt;] [...] [/p] [/q] [/w] [/d] [/a[[:]&lt;attributes&gt;]][/o[[:]&lt;sortorder&gt;]] [/t[[:]&lt;timefield&gt;]] [/s] [/b] [/l] [/n] [/x] [/c] [/<span class="number">4</span>] [/r]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:][&lt;path&gt;]</code></td><td>一覧を表示するドライブとディレクトリを指定します。</td></tr><tr><td><code>[&lt;filename&gt;]</code></td><td>一覧を表示する特定のファイルまたはファイルグループを指定します。</td></tr><tr><td><code>/p</code></td><td>一度に1画面ずつ表示します。次の画面を見るには任意のキーを押します。</td></tr><tr><td><code>/q</code></td><td>ファイルの所有者情報を表示します。</td></tr><tr><td><code>/w</code></td><td>ワイド形式で一覧を表示し、1行に最大5つのファイル名またはディレクトリ名を表示します。</td></tr><tr><td><code>/d</code></td><td>/wと同じ形式で一覧を表示しますが、ファイルは列でソートされます。</td></tr><tr><td><code>/a[[:]&lt;attributes&gt;]</code></td><td>指定した属性を持つディレクトリとファイルのみを表示します。このパラメータを使用しない場合、隠しファイルとシステムファイル以外のすべてのファイル名が表示されます。属性を指定せずにこのパラメータを使用すると、すべてのファイル名（隠しファイルとシステムファイルを含む）が表示されます。属性値のリストは以下の通りです：<ul><li>d - ディレクトリ</li><li>h - 隠しファイル</li><li>s - システムファイル</li><li>l - 再解析ポイント</li><li>r - 読み取り専用ファイル</li><li>a - アーカイブ可能なファイル</li><li>i - コンテンツインデックスされていないファイル</li></ul>これらの値は任意の組み合わせで使用できますが、値の間にスペースを入れないでください。（オプションでコロン（:）区切りや、非表示を示すためにハイフン（-）を前に付けることができます。例：-s属性はシステムファイルを表示しません。）</td></tr><tr><td><code>/o[[:]&lt;sortorder&gt;]</code></td><td>sortorderに従って出力をソートします。以下の値の任意の組み合わせが可能です：<ul><li>n - 名前順</li><li>e - 拡張子順</li><li>g - ディレクトリを先に表示</li><li>s - サイズ順（最小から）</li><li>d - 日付/時刻順（最も古いものから）</li><li>ハイフン（-）を前に付けるとソート順が逆になります</li></ul>複数の値は指定した順に処理されます。値の間にスペースを入れず、コロン（:）はオプションです。<br>sortorderを指定しない場合、<code>dir /o</code>はディレクトリをアルファベット順で、続いてファイルもアルファベット順で表示します。</td></tr><tr><td><code>/t[[:]&lt;timefield&gt;]</code></td><td>表示またはソートに使用する時間フィールドを指定します。timefieldの値は以下の通りです：<ul><li>c - 作成時間</li><li>a - 最終アクセス時間</li><li>w - 最終書き込み時間</li></ul></td></tr><tr><td><code>/s</code></td><td>指定したディレクトリおよびすべてのサブディレクトリ内で指定したファイル名のすべての一致を一覧表示します。</td></tr><tr><td><code>/b</code></td><td>純粋なディレクトリとファイルの一覧を表示し、他の情報は含みません。<code>/b</code>パラメータは<code>/w</code>を上書きします。</td></tr><tr><td><code>/l</code></td><td>ソートされていないディレクトリ名とファイル名を小文字で表示します。</td></tr><tr><td><code>/n</code></td><td>画面の最右側にファイル名付きの長いリスト形式で表示します。</td></tr><tr><td><code>/x</code></td><td>8dot3ファイル名で生成された短い名前を表示します。内容は<code>/n</code>と同じですが、短い名前が長い名前の前に挿入されます。</td></tr><tr><td><code>/c</code></td><td>ファイルサイズを千位区切りで表示します。これはデフォルトの動作です。<code>/-c</code>で区切りを非表示にできます。</td></tr><tr><td><code>/4</code></td><td>年を4桁で表示します。</td></tr><tr><td><code>/r</code></td><td>年を4桁で表示します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>注記</strong></p><ul><li><p>複数のfilenameパラメータを使用する場合は、各ファイル名をスペース、カンマ、またはセミコロンで区切ります。</p></li><li><p>ワイルドカード（*または?）を使用して、ファイル名の1つ以上の文字を表し、ファイルまたはサブディレクトリのサブセットを表示できます。</p></li><li><p>ワイルドカード*を使用して任意の文字列を置き換えることができます。例：</p></li><li><ul><li><code>dir *.txt</code>は、現在のディレクトリ内で拡張子が.txtで始まるすべてのファイルを一覧表示します（例：.txt、.txt1、.txt_old）。</li></ul></li><li><ul><li><code>dir read *.txt</code>は、現在のディレクトリ内でreadで始まり、拡張子が.txtで始まるすべてのファイルを一覧表示します（例：.txt、.txt1、.txt_old）。</li></ul></li><li><ul><li><code>dir read *.*</code>は、現在のディレクトリ内でreadで始まるすべてのファイルを一覧表示します（拡張子は問わず）。アスタリスクワイルドカードは常に短いファイル名マッピングを使用するため、予期しない結果になる場合があります。例：次のディレクトリには2つのファイル（t.txt2とt97.txt）があります。<code>dir t97*</code>と入力するとt97.txtファイルが返されると思うかもしれませんが、実際には両方のファイルが返されます。これは、アスタリスクワイルドカードが短い名前T97B4~1.TXTを使用するため、t.txt2ファイルもt97.txtと一致すると見なされるからです。同様に、<code>del t97*</code>と入力すると両方のファイルが削除されます。</li></ul></li><li><p>クエスチョンマーク（?）を使用して、名前内の単一文字を置き換えることができます。例：<code>dir read???.txt</code>と入力すると、現在のディレクトリ内で拡張子が.txtで、readで始まり、最大3文字が続くすべてのファイルが一覧表示されます。これにはRead.txt、Read1.txt、Read12.txt、Read123.txt、Readme1.txtが含まれますが、Readme12.txtは含まれません。</p></li><li><p>attributesで<code>/a</code>と複数の値を使用する場合、このコマンドは指定したすべての属性を持つファイルのみを表示します。例：<code>/a</code>をrと-h属性と一緒に使用する場合（<code>/a:r-h</code>または<code>/ar-h</code>）、このコマンドは非表示の読み取り専用ファイルのみを表示します。</p></li><li><p>複数のsortorder値を指定すると、このコマンドはまず最初の条件でファイル名をソートし、次に2番目の条件でソートします。例：<code>/o</code>をsortorderのeと-sパラメータと一緒に使用する場合（<code>/o:e-s</code>または/oe-s）、このコマンドは拡張子でディレクトリとファイル名をソートし、最初に最大のファイルを表示し、最終結果を表示します。拡張子でアルファベット順にソートすると、拡張子のないファイル名が最初に表示され、次にディレクトリ名、最後に拡張子付きのファイル名が表示されます。</p></li><li><p>このコマンドの出力をファイルにリダイレクトする場合（<code>&gt;</code>記号を使用）、またはパイプ記号（<code>|</code>）を使用して出力を別のコマンドに送信する場合は、<code>/a:-d</code>と<code>/b</code>を使用してファイル名のみを一覧表示する必要があります。filenameを<code>/b</code>と<code>/s</code>と一緒に使用して、このコマンドが現在のディレクトリおよびそのサブディレクトリ内でfilenameパラメータに一致するすべてのファイル名を検索するように指定できます。このコマンドは、見つかった各ファイル名のドライブ名、ディレクトリ名、ファイル名、ファイル拡張子のみを一覧表示します（1行に1つのパス）。パイプ記号を使用して出力を別のコマンドに送信する前に、Autoexec.ntファイルでTEMP環境変数を設定する必要があります。</p></li></ul><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span>                       // 現在のディレクトリ内のファイルを表示（Linuxのlsに似ている）</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> /s/w/o/p/a:-d         // ファイル名と拡張子を表示（ディレクトリ名は省略）</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> c:\*.txt /w/o/s/p     // Cドライブのすべてのディレクトリ内で拡張子が.txtのすべてのファイル名を一覧表示</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> &gt; \records\<span class="built_in">dir</span>.doc    // <span class="built_in">dir</span>コマンドの出力をファイルにリダイレクト</span><br><span class="line">                          // <span class="built_in">dir</span>.docが存在しない場合、<span class="built_in">dir</span>はこのファイルを作成します</span><br><span class="line">                          // recordsディレクトリが存在しない場合</span><br><span class="line">                          // 「File creation error」というメッセージが表示されます</span><br></pre></td></tr></table></figure><h4 id="3-mdコマンド-mkdirコマンド"><a href="#3-mdコマンド-mkdirコマンド" class="headerlink" title="3. mdコマンド, (mkdirコマンド)"></a>3. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/md">mdコマンド</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/mkdir">(mkdirコマンド)</a></h4><p>ディレクトリまたはサブディレクトリを作成します。コマンド拡張（デフォルトで有効）を使用すると、1つのmdコマンドで指定したパス内に中間ディレクトリを作成できます。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>&lt;drive&gt;:</code></td><td>新しいディレクトリを作成するドライブを指定します。</td></tr><tr><td><code>&lt;path&gt;</code></td><td>新しいディレクトリの名前と場所を指定します。単一パスの最大長はファイルシステムによって決まります。これは必須パラメータです。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> Directory1                // 現在のディレクトリにDirectory1という名前のディレクトリを作成</span><br><span class="line"></span><br><span class="line"><span class="built_in">md</span> \Taxes\Property\Current   // コマンド拡張が有効な場合、ルートディレクトリにTaxes\Property\Currentディレクトリツリーを作成</span><br></pre></td></tr></table></figure><h4 id="4-rdコマンド-mkdirコマンド"><a href="#4-rdコマンド-mkdirコマンド" class="headerlink" title="4. rdコマンド, (mkdirコマンド)"></a>4. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rd">rdコマンド</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rmdir">(mkdirコマンド)</a></h4><p>ディレクトリを削除します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt; [/s [/q]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:]&lt;path&gt;</code></td><td>削除するディレクトリの場所と名前を指定します。Pathは必須です。Pathの先頭にバックスラッシュ（\）を含めると、そのPathはルートディレクトリから始まります（現在のディレクトリに関係なく）。</td></tr><tr><td><code>/s</code></td><td>ディレクトリツリー（指定したディレクトリとそのすべてのサブディレクトリ、すべてのファイルを含む）を削除します。</td></tr><tr><td><code>/q</code></td><td>サイレントモードを指定します。ディレクトリツリーを削除する際に確認を求めません。/sも指定した場合のみ有効です。<br>注意：サイレントモードで実行すると、確認なしでディレクトリツリー全体が削除されます。/qコマンドラインオプションを使用する前に、重要なファイルを移動またはバックアップしてください。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> /s test       // 現在のディレクトリからtestという名前のディレクトリ（およびそのすべてのサブディレクトリとファイル）を削除</span><br><span class="line"></span><br><span class="line"><span class="built_in">rd</span> /s /q test    // 上記の例をサイレントモードで実行</span><br></pre></td></tr></table></figure><h4 id="5-copyコマンド"><a href="#5-copyコマンド" class="headerlink" title="5. copyコマンド"></a>5. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/copy">copyコマンド</a></h4><p>1つ以上のファイルを1つの場所から別の場所にコピーします。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] &lt;source&gt; [/a | /b] [+&lt;source&gt; [/a | /b] [+ ...]] [&lt;destination&gt; [/a | /b]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/d</code></td><td>暗号化されたファイルを復号化してターゲットに保存することを許可します。</td></tr><tr><td><code>/v</code></td><td>新しいファイルが正しく書き込まれたかどうかを確認します。</td></tr><tr><td><code>/n</code></td><td>ファイル名が8文字を超えるか、拡張子が3文字を超える場合に短いファイル名を使用します（使用可能な場合）。</td></tr><tr><td><code>/y</code></td><td>既存のターゲットファイルを上書きする前に確認を求めません。</td></tr><tr><td><code>/-y</code></td><td>既存のターゲットファイルを上書きする前に確認を求めます。</td></tr><tr><td><code>/z</code></td><td>ネットワークファイルを再起動モードでコピーします。</td></tr><tr><td><code>/a</code></td><td>ASCIIテキストファイルを示します。</td></tr><tr><td><code>/b</code></td><td>バイナリファイルを示します。</td></tr><tr><td><code>&lt;source&gt;</code></td><td>必須。 コピーする1つ以上のファイルまたはファイルグループの場所を指定します。 source はドライブ番号、セミコロン、ディレクトリ名、ファイル名、またはこれらの組み合わせにすることができます。</td></tr><tr><td><code>&lt;destination&gt;</code></td><td>必須。 1つ以上のファイルをコピーする場所を指定します。 destination はドライブ番号、セミコロン、ディレクトリ名、ファイル名、またはこれらの組み合わせにすることができます。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>注記</strong></p><ul><li><p>使用ファイル終了文字 (CTRL+Z) で終了するASCIIテキストファイルをコピーできます。</p></li><li><p>コマンドラインのファイルリストの前後に<code>/a</code>を付けると、そのオプションはリストされたすべてのファイルに適用されます。この場合、<code>/b</code>は<code>/b</code>の前のファイルに適用されます。<br><code>/a</code>の効果は、コマンドライン文字列内の位置によって異なります。- もし<code>/a</code>がsourceの後に続く場合、copyコマンドはファイルをASCIIファイルと見なして最初のファイル終了文字 (CTRL+Z) の前のデータをコピーします。- もし<code>/a</code>がdestinationの後に続く場合、copyコマンドはファイルの最後にファイル終了文字 (CTRL+Z) を追加します。</p></li><li><p>もし<code>/b</code>がコマンドインタプリタにファイルサイズで指定されたバイト数を読み取ることを指示します。<code>copy</code>がファイルを結合しない限り、<code>/b</code>は<code>copy</code>のデフォルト値です。</p></li><li><p>もしコマンドラインのファイルリストの前後に<code>/b</code>を付けると、そのオプションはリストされたすべてのファイルに適用されます。この場合、<code>/a</code>は<code>/a</code>の前のファイルに適用されます。<br><code>/b</code>の効果は、コマンドライン文字列内の位置によって異なります。- もし<code>/b</code>がsourceの後に続く場合、copyコマンドはファイル全体をコピーします。これには任意のファイル終了文字 (CTRL+Z) を含みます。- もし<code>/b</code>がdestinationの後に続く場合、copyコマンドはファイル終了文字 (CTRL+Z) を追加しません。</p></li><li><p>新しいファイルが作成されない場合は、エラーメッセージが表示されます。 これを防ぐために、<code>/v</code>を使用して重要なデータが正しく記録されていることを確認できますが、<code>copy</code>コマンドはほとんど記録エラーを発生させません。<code>/v</code>コマンドラインオプションは、磁盤上の各セクターを確認するために使用されるため、<code>copy</code>コマンドの速度を低下させます。</p></li><li><p>もしCOPYCMD環境変数に<code>/y</code>が設定されている場合、コマンドラインで<code>/-y</code>を使用してこの設定を置き換えることができます。デフォルトでは、<code>copy</code>コマンドが実行されていない限り、この設定を置き換えると警告が表示されます。</p></li><li><p>ファイルを追加するには、destinationを指定しますが、sourceを複数のファイル（通配符またはfile1+file2+file3形式を使用）に指定します。</p></li><li><p>もしコピー中に接続が切断された場合（たとえば、サーバーがオフラインになった場合）、<code>copy /z</code>を使用して再接続して復元できます。<code>/z</code>オプションは、各ファイルのコピー操作の完了パーセントを表示します。</p></li><li><p>もし1つ以上のsourceまたはdestinationを出現に置き換える場合、デバイス名に置き換えることができます。</p></li><li><p>もしdestinationがデバイス（たとえばCom1またはLpt1）の場合、<code>/b</code>オプションはデータをデバイスに二進モードでコピーします。二進モードでは、<code>copy /b</code>はすべての文字（CTRL+C、CTRL+S、CTRL+Z、ENTERなどの特殊文字を含む）をデータとしてデバイスにコピーします。ただし、<code>/b</code>を省略すると、ASCIIモードでデータがデバイスにコピーされます。ASCIIモードでは、特殊文字がファイルのコピー中に結合する可能性があります。</p></li><li><p>もしdestinationが指定されない場合、元のファイルと同じ名前、日付、時刻の新しいファイルが作成されます。新しいファイルは現在のドライブの現在のディレクトリに保存されます。もしsourceが現在のドライブと現在のディレクトリにあり、destinationを異なるドライブまたはディレクトリに指定しない場合、<code>copy</code>コマンドは停止して以下のエラーメッセージを表示します。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">File cannot be copied onto itself</span><br><span class="line"><span class="number">0</span> File(s) copied</span><br></pre></td></tr></table></figure></li><li><p>もしsourceに複数のファイルが指定された場合、<code>copy</code>コマンドはこれらのファイルを単一のファイルに結合します。<code>/b</code>オプションを使用しない限り、copyコマンドは結合ファイルをASCIIファイルと想定します。</p></li><li><p>長さが0バイトのファイルをコピーするか、現在のディレクトリのすべてのファイルとサブディレクトリをコピーするには、<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/xcopy">xcopyコマンド</a>を使用します。</p></li><li><p>現在の時間と日付をファイルに割り当てるには、以下の構文を使用します。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> /b &lt;source&gt; +,,    // ここで , はdestinationパラメータを意図的に省略していることを示します。</span><br></pre></td></tr></table></figure></li></ul><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> robin.typ c:\birds                           // 現在のドライブとディレクトリからrobin.typという名前のファイルをCドライブ上のbirdsという既存のディレクトリにコピー</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> memo.doc letter.doc /a                       // 現在のドライブのmemo.docファイルをletter.docにコピーし、ファイル終了文字 (CTRL+Z) が複製されたファイルの末尾に配置されるようにします</span><br><span class="line">                                                  // もしbirdsディレクトリが存在しない場合、robin.typファイルがCドライブのルートディレクトリにbirdsという名前のファイルにコピーされます。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> mar89.rpt + apr89.rpt + may89.rpt Report     // Mar89.rpt、Apr89.rpt、May89.rptを現在のディレクトリに結合し、Reportという名前のファイルに入れます</span><br><span class="line">                                                  // 結合ファイルの場合、<span class="built_in">copy</span>コマンドは現在の日付と時刻をターゲットファイルにマークします。</span><br><span class="line">                                                  // もしdestinationが省略された場合、リスト内の最初のファイルの名前を結合してファイルを保存します。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> report + mar89.rpt + apr89.rpt + may89.rpt   // Report内のすべてのファイルを結合し、Reportという名前のファイルが既に存在する場合</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt Combined.doc                           // 現在のディレクトリ内で拡張子が.txtのすべてのファイルをCombined.docという単一のファイルに結合</span><br><span class="line">                                                  // 結合二進ファイルの場合、生成されたファイルは内部形式の問題のため使用できない場合があります。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref *.doc                          // 各拡張子が.txtのファイルをそれぞれの.refファイルと結合して、拡張子が.docのファイルを作成します。</span><br><span class="line">                                                  // <span class="built_in">copy</span>コマンドはfile1.txtをfile1.refと結合してfile1.docを作成し、</span><br><span class="line">                                                  // 次にfile2.txtをfile2.refと結合してfile2.docを作成し、続いて依此类推</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref Combined.doc                   // 拡張子が.txtのすべてのファイルを結合し、次に拡張子が.refのすべてのファイルをCombined.docというファイルに結合します</span><br></pre></td></tr></table></figure><h4 id="6-moveコマンド"><a href="#6-moveコマンド" class="headerlink" title="6. moveコマンド"></a>6. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/move">moveコマンド</a></h4><p>1つ以上のファイルを1つのディレクトリから別のディレクトリに移動します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> [&#123;/y|-y&#125;] [&lt;source&gt;] [&lt;target&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/y</code></td><td>既存のターゲットファイルを上書きする前に確認を求めません。 COPYCMD環境変数にこのパラメータが設定されている場合は、-yパラメータを使用してこの設定を置き換えることができます。コマンドがバッチスクリプトから実行されていない場合、デフォルトでは上書きファイルの前に確認を求めます。</td></tr><tr><td><code>-y</code></td><td>既存のターゲットファイルを上書きする前に確認を求めます。</td></tr><tr><td><code>&lt;source&gt;</code></td><td>移動するファイルのパスと名前を指定します。 もしディレクトリを移動または名前を変更する場合、sourceは現在のディレクトリのパスと名前にする必要があります。</td></tr><tr><td><code>&lt;target&gt;</code></td><td>ファイルを移動するパスと名前を指定します。 もしディレクトリを移動または名前を変更する場合、targetはターゲットディレクトリのパスと名前にする必要があります。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> \data\*.xls \second_q\reports\    // 現在のディレクトリから拡張子が.xlsのすべてのファイルを\Dataから\second_Q\reportsに移動</span><br></pre></td></tr></table></figure><h4 id="7-delコマンド-eraseコマンド"><a href="#7-delコマンド-eraseコマンド" class="headerlink" title="7. delコマンド, eraseコマンド"></a>7. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/del">delコマンド</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/erase">eraseコマンド</a></h4><p>1つ以上のファイルを削除します。(これはファイルの専用削除で、ディレクトリを削除することはできません)<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> [/p] [/f] [/s] [/q] [/a[:]&lt;attributes&gt;] &lt;names&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>&lt;names&gt;</code></td><td>削除する1つ以上のファイルまたはディレクトリのリストを指定します。 通配符を使用して複数のファイルを削除できます。 もしディレクトリを指定すると、そのディレクトリ内のすべてのファイルが削除されます。</td></tr><tr><td><code>/p</code></td><td>削除する前に指定されたファイルをユーザーに確認するようにします。</td></tr><tr><td><code>/f</code></td><td>読み取り専用ファイルを強制的に削除します。</td></tr><tr><td><code>/s</code></td><td>現在のディレクトリとそのすべてのサブディレクトリ内で指定されたファイルを削除します。 削除されるファイルの名前を表示します。</td></tr><tr><td><code>/q</code></td><td>サイレントモードを指定します。システムに確認を求めません。</td></tr><tr><td><code>/a[:]&lt;attributes&gt;</code></td><td>以下のファイル属性に基づいてファイルを削除します。<ul><li>r 読み取り専用ファイル</li><li>h 隠しファイル</li><li>i コンテンツインデックスされていないファイル</li><li>s システムファイル</li><li>a アーカイブ可能なファイル</li><li>l 再解析ポイント</li><li>- 用いる前にこのプレフィックスを使用して「非」を示します</li></ul></td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>注記</strong></p><ul><li><p>もし<code>del /p</code>コマンドを使用する場合、以下のメッセージが表示されます。<br><code>FileName, Delete (Y/N)?</code><br>削除を確認するにはYを押してください。削除をキャンセルして次のファイル名を表示するにはNを押してください。削除を停止するにはCtrl+Cを押してください。</p></li><li><p>もしコマンド拡張が無効になっている場合、<code>/s</code>パラメータは見つからないファイルの名前を表示しますが、削除されるファイルの名前を表示しません。</p></li><li><p>もし<code>&lt;names&gt;</code>パラメータに特定のディレクトリを指定する場合、そのディレクトリに含まれるすべてのファイルも削除されます。例えば、\workディレクトリ内のすべてのファイルを削除するには、次のように入力します。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> \work</span><br></pre></td></tr></table></figure></li><li><p>通配符（<code>*</code>と<code>?</code>）を使用して一度に複数のファイルを削除することもできますが、意図せずファイルを削除するのを避けるために注意してください。例えば、以下のように入力すると</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> *.*</span><br></pre></td></tr></table></figure><p>delコマンドは以下のような表示をします。<br><code>Are you sure (Y/N)?</code><br>現在のディレクトリ内のすべてのファイルを削除するにはYを押してEnterを押してください。削除をキャンセルするにはNを押してEnterを押してください。<br>delコマンドで通配符を使用する前に、dirコマンドで同じ通配符を使用して削除するすべてのファイルを一覧表示してください。</p></li></ul><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> c:\test                // ドライブC上のtestという名前のファイルフォルダ内のすべてのファイルを削除</span><br><span class="line"><span class="built_in">del</span> c:\test\*.*            // 上記と同じ</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\&quot;      // 名前にスペースを含むすべてのファイルを削除するには、完全なパスを二重引用符で囲みます</span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\*.*&quot;   // 上記と同じ</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> *.bat                  // 現在のディレクトリ内の拡張子が.batのすべてのファイルを削除</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> /a:r *.*               // 現在のディレクトリ内のすべての読み取り専用ファイルを削除</span><br></pre></td></tr></table></figure><h4 id="8-clsコマンド"><a href="#8-clsコマンド" class="headerlink" title="8. clsコマンド"></a>8. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cls">clsコマンド</a></h4><p>コマンドプロンプトウィンドウをクリアします。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cls</span>    // Linuxのclearに似ている</span><br></pre></td></tr></table></figure><h4 id="9-pingコマンド"><a href="#9-pingコマンド" class="headerlink" title="9. pingコマンド"></a>9. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/ping">pingコマンド</a></h4><p>インターネット制御メッセージプロトコル (ICMP) エコー要求メッセージを送信して、別のTCP/IPコンピュータのIPレベル接続を確認します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> [/t] [/a] [/n &lt;count&gt;] [/l &lt;size&gt;] [/f] [/I &lt;TTL&gt;] [/v &lt;TOS&gt;] [/r &lt;count&gt;] [/s &lt;count&gt;] [&#123;/j &lt;hostlist&gt; | /k &lt;hostlist&gt;&#125;] [/w &lt;timeout&gt;] [/R] [/S &lt;Srcaddr&gt;] [/<span class="number">4</span>] [/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/t</code></td><td>ターゲットに回顯要求メッセージを送信し続けるように指定します。Ctrl+Enterを押して統計情報を表示し、このコマンドを終了するにはCtrl+Cを押してください。</td></tr><tr><td><code>/a</code></td><td>ターゲットIPアドレスに逆名前解決を実行するように指定します。この操作が成功すると、pingは対応するホスト名を表示します。</td></tr><tr><td><code>/n &lt;count&gt;</code></td><td>送信する回顯要求メッセージの数を指定します。デフォルトは4です。</td></tr><tr><td><code>/l &lt;size&gt;</code></td><td>回顯要求メッセージの「データ」フィールドの長さ（バイト単位）を指定します。デフォルトは32です。最大サイズは65,500です。</td></tr><tr><td><code>/f</code></td><td>回顯要求メッセージを送信し、IPヘッダーの「フラグメントなし」フラグを1に設定します（IPv4のみ使用可能）。回顯要求メッセージはルートによって分割できません。このパラメータは、パス最大伝送単位 (PMTU) の問題をトラブルシューティングするために使用できます。</td></tr><tr><td><code>/I &lt;TTL&gt;</code></td><td>送信された回顯要求メッセージのIPヘッダーの生存時間 (TTL) フィールドの値を指定します。デフォルトはホストのデフォルトTTL値です。最大TTLは255です。</td></tr><tr><td><code>/v &lt;TOS&gt;</code></td><td>送信された回顯要求メッセージのIPヘッダーのサービスタイプ (TOS) フィールドの値を指定します（IPv4のみ使用可能）。デフォルトは0です。TOSは0から255の間の10進値を指定します。</td></tr><tr><td><code>/r &lt;count&gt;</code></td><td>回顯要求メッセージと応答回顯メッセージに使用されるIPヘッダーの「ルート記録」オプションを使用して、ルートを記録するように指定します（IPv4のみ使用可能）。パスの各ホップは「ルート記録」オプションのエントリを使用します。可能な場合は、カウントを指定してください。カウントは少なくとも1で、最大値は9です。</td></tr><tr><td><code>/s &lt;count&gt;</code></td><td>回顯要求メッセージと応答回顯メッセージの到着時間を記録するためにIPヘッダーの「インターネットタイムスタンプ」オプションを使用するように指定します。カウントは少なくとも1で、最大値は4です。ローカルリンクアドレスの場合はこのパラメータが必要です。</td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>回顯要求メッセージにIPヘッダーの「緩やかなソースルート」オプションを使用し、hostlistで指定された中間ターゲットのセットを使用するように指定します（IPv4のみ使用可能）。緩やかなソースルートを使用すると、連続する中間ターゲットは1つ以上のルーターによって分離できます。ホストリストのアドレスまたは名前の数は9を超えることはできません。ホストリストはスペースで区切られたIPアドレス（ドット付き10進形式）の一覧です。</td></tr><tr><td><code>/k &lt;hostlist&gt;</code></td><td>回顯要求メッセージにIPヘッダーの「厳密なソースルート」オプションを使用し、hostlistで指定された中間ターゲットのセットを使用するように指定します（IPv4のみ使用可能）。厳密なソースルートを使用すると、次の中間ターゲットは直接アクセスする必要があります（それはルーターインターフェイス上の隣接項目でなければなりません）。ホストリストのアドレスまたは名前の数は9を超えることはできません。ホストリストはスペースで区切られたIPアドレス（ドット付き10進形式）の一覧です。</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>回顯要求メッセージに対応する回顯応答メッセージを受信するための待機時間を指定します（ミリ秒単位）。タイムアウト値内に回顯応答メッセージが受信されない場合は、「要求タイムアウト」エラーメッセージが表示されます。デフォルトのタイムアウト値は4000（4秒）です。</td></tr><tr><td><code>/R</code></td><td>往復ルートをトレースするように指定します（IPv6のみ使用可能）。</td></tr><tr><td><code>/S &lt;Srcaddr&gt;</code></td><td>回顯要求メッセージに使用するソースアドレスを指定します。IPv6の場合にのみ使用します。</td></tr><tr><td><code>/4</code></td><td>このトレースでIPv4のみを使用するように指定します。</td></tr><tr><td><code>/6</code></td><td>このトレースでIPv6のみを使用するように指定します。</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>ターゲットのホスト名またはIPアドレスを指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> /a <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>              // ターゲット<span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>に<span class="built_in">ping</span>操作を実行し、<span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>をそのホスト名に解析</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /n <span class="number">10</span> /l <span class="number">1000</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>   // <span class="number">10</span>個の回顯要求メッセージを使用してターゲット<span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>に<span class="built_in">ping</span>操作を実行し、各メッセージの「データ」フィールドを<span class="number">1000</span>バイトに設定</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /r <span class="number">4</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>            // ターゲット<span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>に<span class="built_in">ping</span>操作を実行し、<span class="number">4</span>個のホップのルートを記録</span><br></pre></td></tr></table></figure><h4 id="10-netstatコマンド"><a href="#10-netstatコマンド" class="headerlink" title="10. netstatコマンド"></a>10. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/netstat">netstatコマンド</a></h4><p>アクティブなTCP接続数、コンピュータがリッスンしているポート、イーサネット統計情報、IPルートテーブル、IPv4統計情報、およびIPv6統計情報を表示します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat [-a] [-b] [-e] [-n] [-o] [-p &lt;Protocol&gt;] [-r] [-s] [&lt;interval&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>-a</code></td><td>アクティブなTCP接続数とコンピュータがリッスンしているTCPおよびUDPポートを表示します。</td></tr><tr><td><code>-b</code></td><td>各接続またはリッスンポートを作成するために関係する実行可能ファイルを表示します。 一部の場合、よく知られた実行可能ファイルは複数の独立したコンポーネントをホストし、この場合、作成される接続またはリッスンポートに関係するコンポーネントのシーケンスが表示されます。 この場合、実行可能ファイル名は下部の[]内に表示され、上部はそれを呼び出すコンポーネント、その後続き、TCP/IPに至るまで続きます。 注意：このオプションは、十分な権限がない場合に失敗する可能性があります。</td></tr><tr><td><code>-e</code></td><td>イーサネット統計情報を表示します。このパラメータは-sと一緒に使用できます。</td></tr><tr><td><code>-n</code></td><td>アクティブなTCP接続数を表示しますが、アドレスとポート番号は数字で表示され、名前を試みません。</td></tr><tr><td><code>-o</code></td><td>アクティブなTCP接続数と各接続のプロセスID (PID) を表示します。Windowsタスクマネージャーの「プロセス」タブでPIDに基づいてアプリケーションを見つけることができます。このパラメータは<code>-s</code>、<code>-n</code>、<code>-p</code>と一緒に使用できます。</td></tr><tr><td><code>-p &lt;Protocol&gt;</code></td><td>Protocolで指定されたプロトコルの接続を表示します。この場合、Protocolはtcp、udp、tcpv6、またはudpv6のいずれかにすることができます。 このパラメータが<code>-s</code>と一緒に使用されてプロトコルに基づいて統計情報を表示する場合、Protocolはtcp、udp、icmp、ip、tcpv6、udpv6、icmpv6、またはipv6のいずれかにすることができます。</td></tr><tr><td><code>-s</code></td><td>プロトコルに基づいて統計情報を表示します。デフォルトでは、TCP、UDP、ICMP、およびIPプロトコルの統計情報が表示されます。IPv6プロトコルがインストールされている場合、IPv6ベースのTCP、IPv6ベースのUDP、ICMPv6、およびIPv6プロトコルの統計情報も表示されます。<code>-p</code>パラメータを使用してグループプロトコルを指定できます。</td></tr><tr><td><code>-r</code></td><td>IPルートテーブルの内容を表示します。これはroute printコマンドと同等です。</td></tr><tr><td><code>&lt;interval&gt;</code></td><td>選択した情報を毎回interval秒ごとに再表示します。Ctrl+Cを押して再再生を停止します。このパラメータを省略すると、このコマンドは選択した情報を1回だけ表示します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano                  // ネットワーク接続、状態、および対応するプロセスIDを表示</span><br><span class="line"></span><br><span class="line">netstat -aon|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;   // 指定されたPIDに対応するネットワーク接続を表示</span><br><span class="line"></span><br><span class="line">netstat -e -s                 // イーサネット統計情報とすべてのプロトコルの統計情報を表示</span><br><span class="line"></span><br><span class="line">netstat -s -p tcp udp         // TCPおよびUDPプロトコルの統計情報のみを表示</span><br><span class="line"></span><br><span class="line">netstat -o <span class="number">5</span>                  // アクティブなTCP接続数とプロセスIDを<span class="number">5</span>秒ごとに表示</span><br><span class="line"></span><br><span class="line">netstat -n -o                 // 数字形式でアクティブなTCP接続数とプロセスIDを表示</span><br></pre></td></tr></table></figure><h4 id="11-tasklistコマンド"><a href="#11-tasklistコマンド" class="headerlink" title="11. tasklistコマンド"></a>11. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tasklist">tasklistコマンド</a></h4><p>ローカルコンピュータまたはリモートコンピュータ上で現在実行中のプロセスのリストを表示します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p &lt;password&gt;]]] [&#123;/m &lt;module&gt; | /svc | /v&#125;] [/fo &#123;table | list | csv&#125;] [/nh] [/fi &lt;filter&gt; [/fi &lt;filter&gt; [ ... ]]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>リモートコンピュータの名前またはIPアドレスを指定します（反斜線を使用しないでください）。デフォルトはローカルコンピュータです。</td></tr><tr><td><code>/u &lt;domain&gt;\&lt;username&gt;</code></td><td><code>&lt;username&gt;</code>または<code>&lt;domain&gt;\&lt;username&gt;</code>で指定されたユーザーのアカウント権限を使用してコマンドを実行します。<code>/s</code>も指定されている場合にのみ<code>/u</code>パラメータを指定できます。デフォルトは、コマンドを発行するコンピュータにログインしているユーザーの権限です。</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td><code>/u</code>パラメータで指定されたユーザーアカウントのパスワードを指定します。</td></tr><tr><td><code>/m &lt;module&gt;</code></td><td>モジュール名と一致するDLLモジュールをロードするすべてのタスクを一覧表示します。モジュール名が指定されていない場合、このオプションは各タスクによってロードされるすべてのモジュールを表示します。</td></tr><tr><td><code>svc</code></td><td>各プロセスのすべてのサービス情報を表示し、切り捨てません。<code>/fo</code>パラメータがtableに設定されている場合にのみ有効です。</td></tr><tr><td><code>/v</code></td><td>詳細なタスク情報を出力に表示します。完全な詳細出力を取得するには、<code>/v</code>と<code>/svc</code>を使用します。</td></tr><tr><td><code>/fo &#123;table | list | csv&#125;</code></td><td>出力に使用する形式を指定します。有効な値はtable、list、またはcsvです。デフォルトの形式はtableです。</td></tr><tr><td><code>/nh</code></td><td>出力に列見出しを表示しません。<code>/fo</code>パラメータがtableまたはcsvに設定されている場合にのみ有効です。</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>クエリに含めるか、クエリから除外するプロセスタイプを指定します。複数のフィルターを使用するか、通配符（`）を使用してすべてのタスクまたはイメージ名を指定できます。この記事の「フィルター名、演算子、および値」セクションには有効なフィルターが一覧表示されます。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist                                // PIDプロセスリストを取得</span><br><span class="line"></span><br><span class="line">tasklist|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;                 // 指定されたPIDのプロセスを表示</span><br><span class="line"></span><br><span class="line">tasklist /fi &quot;IMAGENAME eq nginx.exe&quot;   // nginx.exeというイメージ名を持つすべてのプロセスを検索</span><br></pre></td></tr></table></figure><h4 id="12-taskkillコマンド"><a href="#12-taskkillコマンド" class="headerlink" title="12. taskkillコマンド"></a>12. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/taskkill">taskkillコマンド</a></h4><p>プロセスタスクとプロセスIDを終了します</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p [&lt;password&gt;]]]] &#123;[/fi &lt;filter&gt;] [...] [/pid &lt;processID&gt; | /im &lt;imagename&gt;]&#125; [/f] [/t]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>リモートコンピュータの名前またはIPアドレスを指定します（反斜線を使用しないでください）。デフォルトはローカルコンピュータです。</td></tr><tr><td><code>/s &lt;computer&gt;</code></td><td><code>&lt;username&gt;</code>または<code>&lt;domain&gt;\&lt;username&gt;</code>で指定されたユーザーのアカウント権限を使用してコマンドを実行します。<code>/s</code>も指定されている場合にのみ<code>/u</code>パラメータを指定できます。デフォルトは、コマンドを発行するコンピュータにログインしているユーザーの権限です。</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td><code>/u</code>パラメータで指定されたユーザーアカウントのパスワードを指定します。</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>グループタスクを選択するためにフィルターを適用します。複数のフィルターを使用するか、通配符（*）を使用してすべてのタスクまたはイメージ名を指定できます。この記事の「フィルター名、演算子、および値」セクションには有効なフィルターが一覧表示されます。</td></tr><tr><td><code>/pid &lt;processID&gt;</code></td><td>終了するプロセスのプロセスIDを指定します。</td></tr><tr><td><code>/im &lt;imagename&gt;</code></td><td>終了するプロセスのイメージ名を指定します。通配符（*）を使用してすべてのイメージ名を指定します。</td></tr><tr><td><code>/f</code></td><td>強制的にプロセスを終了するように指定します。リモートプロセスの場合はこのパラメータを無視します。すべてのリモートプロセスが強制的に終了されます。</td></tr><tr><td><code>/t</code></td><td>指定されたプロセスとその起動されたすべてのサブプロセスを終了します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /PID <span class="number">8080</span>         // PIDが<span class="number">8080</span>のプロセスを終了</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /T /F /PID <span class="number">8080</span>   // 強制的にPIDが<span class="number">8080</span>のすべてのプロセスを終了し、サブプロセスを含む（/Fパラメータ）</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /IM nginx.exe     // nginx.exeというイメージ名を持つすべてのプロセスを終了</span><br></pre></td></tr></table></figure><h4 id="13-tracertコマンド"><a href="#13-tracertコマンド" class="headerlink" title="13. tracertコマンド"></a>13. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tracert">tracertコマンド</a></h4><p>tracertはWindowsルートトレースユーティリティと呼ばれ、コマンドプロンプト（cmd）でtracertコマンドを使用すると、IPデータパックがターゲットにアクセスする際に選択されるパスを確認するために使用できます。</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert [/d] [/h &lt;maximumhops&gt;] [/j &lt;hostlist&gt;] [/w &lt;timeout&gt;] [/R] [/S &lt;srcaddr&gt;] [/<span class="number">4</span>][/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/d</code></td><td><code>中間ルーターのIPアドレスを解析する試みを停止します。これにより、結果を迅速に返すことができます。</code></td></tr><tr><td><code>/h &lt;maximumhops&gt;</code></td><td><code>ターゲットのパス中の最大ホップ数を指定します。デフォルトは30ホップです。</code></td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>回顯要求メッセージにIPヘッダーの「緩やかなソースルート」オプションを使用し、hostlistで指定された中間ターゲットのセットを使用するように指定します（IPv4のみ使用可能）。緩やかなソースルートを使用すると、連続する中間ターゲットは1つ以上のルーターによって分離できます。リストのアドレスまたは名前の数は9を超えることはできません。hostlistはスペースで区切られたIPアドレス（ドット付き10進形式）の一覧です。IPv4アドレスのみでこのパラメータを使用します。</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>回顯要求メッセージに対応する回顯応答メッセージを受信するための待機時間を指定します（ミリ秒単位）。タイムアウト値内に回顯応答メッセージが受信されない場合は、「要求タイムアウト」エラーメッセージが表示されます。デフォルトのタイムアウト値は4000（4秒）です。</td></tr><tr><td><code>/R</code></td><td>ローカルホストに回顯要求メッセージを送信し、ターゲットを中間ターゲットとして使用し、逆ルートをテストするように指定します。</td></tr><tr><td><code>/S &lt;srcaddr&gt;</code></td><td>回顯要求メッセージに使用するソースアドレスを指定します。IPv6のみでこのパラメータを使用します。</td></tr><tr><td><code>/4</code></td><td>このトレースでIPv4のみを使用するように指定します。</td></tr><tr><td><code>/6</code></td><td>このトレースでIPv6のみを使用するように指定します。</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>ターゲットのIPアドレスまたはホスト名を指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert www.microsoft.com        // www.microsoft.comというホストのパスをトレース</span><br><span class="line"></span><br><span class="line">tracert /d www.microsoft.com     // www.microsoft.comというホストのパスをトレースし、中間ルーターのIPアドレスを解析しないようにします</span><br></pre></td></tr></table></figure><h4 id="14-startコマンド"><a href="#14-startコマンド" class="headerlink" title="14. startコマンド"></a>14. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/start">startコマンド</a></h4><p>指定されたプログラムまたはコマンドを実行するために新しいコマンドプロンプトウィンドウを開始します。</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">start</span> &lt;&quot;<span class="built_in">title</span>&quot;&gt; [/d &lt;<span class="built_in">path</span>&gt;] [/i] [&#123;/min | /max&#125;] [&lt;command&gt; [&lt;parameter&gt;... ] | &lt;program&gt; [&lt;parameter&gt;... ]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>&quot;title&quot;</code></td><td>「コマンドプロンプト」ウィンドウのタイトルバーに表示するタイトルを指定します。</td></tr><tr><td><code>/d &lt;path&gt;</code></td><td>開始ディレクトリを指定します。</td></tr><tr><td><code>/i</code></td><td>Cmd.exeの起動環境を新しい「コマンドプロンプト」ウィンドウに渡します。<code>/i</code>が指定されていない場合は、現在の環境を使用します。</td></tr><tr><td><code>&lt;command&gt; [&lt;parameter&gt;... ]</code></td><td>起動するコマンドを指定し、<parameter>はコマンドパラメータです。</parameter></td></tr><tr><td><code>&lt;program&gt; [&lt;parameter&gt;... ]</code></td><td>起動するプログラムを指定し、<parameter>はプログラムパラメータです。</parameter></td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// D:\workspace\projectにパスを設定し、Hello Worldを実行する新しいコマンドプロンプトウィンドウを開く</span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; /d D:\workspace\project <span class="built_in">cmd</span> /k <span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure><h4 id="15-cmdコマンド"><a href="#15-cmdコマンド" class="headerlink" title="15. cmdコマンド"></a>15. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cmd">cmdコマンド</a></h4><p>Cmd.exeの新しいインスタンスを開始します。 パラメータなしで使用すると、cmdは操作システムのバージョンと著作権情報を表示します。</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;] [/e:&#123;on | off&#125;] [/f:&#123;on | off&#125;] [/v:&#123;on | off&#125;] [&lt;string&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>/c</code></td><td>指定された<string>を実行し、コマンドプロセッサーを終了します。</string></td></tr><tr><td><code>/k</code></td><td>指定された<string>を実行し、コマンドプロセッサーを実行したままにします。</string></td></tr><tr><td><code>/s</code></td><td><code>/c</code>または<code>/k</code>と一緒に使用すると、特殊な非解析ルールをトリガーします。これらのルールは、<string>の周囲の最初と最後の引用符を削除しますが、コマンドの残りの部分を変更しません。</string></td></tr><tr><td><code>/q</code></td><td>表示を無効にします。</td></tr><tr><td><code>/d</code></td><td>自動実行コマンドの実行を無効にします。</td></tr><tr><td><code>/a</code></td><td>コマンド出力の形式をアメリカン国家標準協会 (ANSI) に設定します。</td></tr><tr><td><code>/u</code></td><td>コマンド出力の形式をUnicodeに設定します。</td></tr><tr><td><code>/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;</code></td><td>背景色 (b) と前景色 (f) を設定します。</td></tr><tr><td><code>/e:on</code></td><td>コマンド拡張を有効にします。</td></tr><tr><td><code>/e:off</code></td><td>コマンド拡張を無効にします。</td></tr><tr><td><code>/f:on</code></td><td>ファイル名とディレクトリ名の完了を有効にします。</td></tr><tr><td><code>/f:off</code></td><td>ファイル名とディレクトリ名の完了を無効にします。</td></tr><tr><td><code>/v:on</code></td><td>遅延環境変数拡張を有効にします。</td></tr><tr><td><code>/v:off</code></td><td>遅延環境変数拡張を無効にします。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>実行するコマンドを指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p>下表は、<b>と<f>に使用できる値の有効な16進数を示しています。</f></b></p><table><thead><tr><th>値</th><th>色</th></tr></thead><tbody><tr><td>0</td><td>黒</td></tr><tr><td>1</td><td>青</td></tr><tr><td>2</td><td>緑</td></tr><tr><td>3</td><td>Aqua</td></tr><tr><td>4</td><td>赤</td></tr><tr><td>5</td><td>紫</td></tr><tr><td>6</td><td>黄</td></tr><tr><td>7</td><td>白</td></tr><tr><td>8</td><td>灰色</td></tr><tr><td>9</td><td>淡い青</td></tr><tr><td>a</td><td>淡い緑</td></tr><tr><td>b</td><td>淡い青緑</td></tr><tr><td>c</td><td>淡い赤</td></tr><tr><td>d</td><td>淡い紫</td></tr><tr><td>e</td><td>淡い黄</td></tr><tr><td>F</td><td>明るい白</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// もし出力を別のコマンドの入力にリダイレクトする場合は、パイプ（|）文字を使用します。 例：</span><br><span class="line">&lt;command1&gt; | &lt;command2&gt;</span><br><span class="line"></span><br><span class="line">// もし&lt;string&gt;に複数のコマンドを使用する場合は、コマンド区切り文字&amp;&amp;を使用してそれらを分離します。 例：</span><br><span class="line">&lt;command1&gt;&amp;&amp;&lt;command2&gt;&amp;&amp;&lt;command3&gt;</span><br><span class="line"></span><br><span class="line">// もし提供されたディレクトリパス、ファイル、または情報にスペースが含まれている場合、それを二重引用符（&quot;）で囲み、例：&quot;Computer Name&quot;。 例：</span><br><span class="line"><span class="built_in">mkdir</span> Test&amp;&amp;<span class="built_in">mkdir</span> &quot;Test <span class="number">2</span>&quot;&amp;&amp;<span class="built_in">move</span> &quot;Test <span class="number">2</span>&quot; Test</span><br></pre></td></tr></table></figure><h4 id="16-echoと-echoコマンド"><a href="#16-echoと-echoコマンド" class="headerlink" title="16. echoと@echoコマンド"></a>16. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/echo">echoと@echoコマンド</a></h4><p>メッセージを表示するか、コマンド表示機能をオンまたはオフにします。 パラメータなしで使用すると、echoは現在の表示設定を表示します。<br>echoと@echoコマンドの違い：@を付けると表示されません</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> [&lt;message&gt;]</span><br><span class="line"><span class="built_in">echo</span> [on | off]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>[on | off]</code></td><td>コマンド表示機能をオンまたはオフにします。デフォルトではコマンド表示機能がオンになっています。</td></tr><tr><td><code>&lt;message&gt;</code></td><td>画面に表示するテキストを指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> Hello World</span><br><span class="line">// 以下のように表示されます</span><br><span class="line">// $ D:\workspace\scripts&gt;<span class="built_in">echo</span> Hello World</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World</span><br><span class="line">// 以下のように表示されます</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off  // バッチファイル内のすべてのコマンド（<span class="built_in">echo</span> offコマンドを含む）を表示しない</span><br><span class="line">@<span class="built_in">echo</span> on   // バッチファイル内のコマンドを表示する</span><br></pre></td></tr></table></figure><p><strong>注記</strong><br>当<code>echo</code>が無効になっている場合、<code>echo &lt;message&gt;</code>コマンドは<code>echo</code>が無効になっている場合にのみ使用します。 もし<code>echo</code>が無効になっている場合、<code>echo &lt;message&gt;</code>コマンドは<code>echo</code>が無効になっている場合にのみ使用します。</p><p>無効になっている場合、コマンドプロンプトは「コマンドプロンプト」ウィンドウに表示されません。 コマンドプロンプトを表示するには、<code>echo on</code>と入力してください。</p><p>バッチファイルで使用する場合、<code>echo on</code>と<code>echo off</code>はコマンドプロンプトの設定に影響を与えません。</p><p>もし<code>echo</code>がバッチファイルで空の変数を使用する場合、「表示が無効になっています」と表示されます。 このメッセージを表示しないようにするには、変数と<code>echo</code>の間にコロン（:）を配置します。 例<code>echo:%var%</code>。</p><p>もしバッチファイルで特定のコマンドを表示しないようにする場合は、そのコマンドの前に（@）記号を付けます。 もしバッチファイル内のすべてのコマンドを表示しないようにする場合は、ファイルの先頭に<code>echo off</code>コマンドを含めます。</p><p>もしバッチスクリプトで感嘆符（!）を表示する場合は、単語またはフレーズの後にキャレットを付け、その後に感嘆符を付け、それを二重引用符で囲みます（Hello World^!）。 または、二重キャレット（^^）を使用して二重引用符を使用せずに（Hello World^^!）を実現できます。</p><p>もし<code>echo</code>を使用する場合に縦棒（|）、アンド（&amp;）、またはリダイレクト文字（<code>&lt;</code>または<code>&gt;</code>）を表示する場合は、その文字の前にキャレット（^）を付けます。 例<code>^|</code>、<code>^&amp;</code>、<code>^&gt;</code>、または<code>^&lt;</code>。 キャレットを表示するには、連続してキャレットを入力します（^^）。</p><h4 id="17-setコマンド"><a href="#17-setコマンド" class="headerlink" title="17. setコマンド"></a>17. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/set_1">setコマンド</a></h4><p>cmd.exe環境変数を表示、設定、または削除します。 パラメータなしで使用すると、setは現在の環境変数設定を表示します。<br><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> [&lt;variable&gt;=[&lt;string&gt;]]</span><br><span class="line"><span class="built_in">set</span> [/p] &lt;variable&gt;=[&lt;promptString&gt;]</span><br><span class="line"><span class="built_in">set</span> /a &lt;variable&gt;=&lt;expression&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>&lt;variable&gt;</code></td><td>設定または変更する環境変数を指定します。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>指定された環境変数に関連付ける文字列を指定します。</td></tr><tr><td><code>/p</code></td><td><code>&lt;variable&gt;</code>の値をユーザーからの1行入力に設定します。</td></tr><tr><td><code>&lt;promptstring&gt;</code></td><td>ユーザーに入力を促すメッセージを指定します。このパラメータは<code>/p</code>パラメータと一緒に使用する必要があります。</td></tr><tr><td><code>/a</code></td><td><code>&lt;string&gt;</code>を計算された数値式に設定します。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>数値式を指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> /p text=入力してください：        // 入力してくださいはplaceholderで、入力文字後に変数textが入力内容になる.</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=ファイルとして保存しますか？(y/n)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%isSave%</span></span><br></pre></td></tr></table></figure><h4 id="18-ifコマンド"><a href="#18-ifコマンド" class="headerlink" title="18. ifコマンド"></a>18. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/if">ifコマンド</a></h4><p>バッチプログラムで条件処理を実行します。</p><p><strong>構文</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">ERRORLEVEL</span> &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] &lt;string1&gt;==&lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">exist</span> &lt;filename&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><p>もしコマンド拡張が有効になっている場合は、以下の構文を使用します。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [/i] &lt;string1&gt; &lt;compareop&gt; &lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> cmdextversion &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">defined</span> &lt;variable&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>パラメータ</th><th>説明</th></tr></thead><tbody><tr><td><code>not</code></td><td>条件がfalseの場合にコマンドを実行するように指定します。</td></tr><tr><td><code>errorlevel &lt;number&gt;</code></td><td>コマンドが実行された直前のプログラムがnumber以上の終了コードを返した場合にtrue条件を指定します。</td></tr><tr><td><code>&lt;command&gt;</code></td><td>上記の条件が満たされた場合に実行するコマンドを指定します。</td></tr><tr><td><code>&lt;string1&gt;==&lt;string2&gt;</code></td><td>条件がstring1とstring2が同じ場合にtrue条件を指定します。これらの値は文字列またはバッチ変数（例：%1）にすることができ、引用符を使用する必要はありません。</td></tr><tr><td><code>exist &lt;filename&gt;</code></td><td>指定されたファイル名が存在する場合にtrue条件を指定します。</td></tr><tr><td><code>&lt;compareop&gt;</code></td><td>3文字比較演算子を指定します。以下のいずれかを含めることができます。<ul><li>EQU - 等しい</li><li>NEQ - 等しくない</li><li>LSS - より小さい</li><li>LEQ - 以下</li><li>GTR - より大きい</li><li>GEQ - 以上</li></ul></td></tr><tr><td><code>/i</code></td><td>文字列比較を無視するように強制します。 これらの比較は一般的であり、string1とstring2が数字のみで構成されている場合、数字に変換されて数値比較が実行されます。</td></tr><tr><td><code>cmdextversion &lt;number&gt;</code></td><td>コマンド拡張機能に関連付けられた内部バージョン番号が指定された数値以上の場合にtrue条件を指定します。最初のバージョンは1です。 大量の機能強化を追加すると、1ずつ増加します。 コマンド拡張を無効にすると、cmdextversion条件は決してtrueになりません。</td></tr><tr><td><code>defined &lt;variable&gt;</code></td><td>変数が定義されている場合にtrue条件を指定します。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>コマンド行コマンドと、else句に渡すその他のパラメータを指定します。</td></tr><tr><td><code>/?</code></td><td>コマンドプロンプトでヘルプを表示します。</td></tr></tbody></table><p><strong>例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> product.dat <span class="built_in">echo</span> 無法找到 product.dat 文件</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> product.dat (</span><br><span class="line">  <span class="built_in">del</span> product.dat</span><br><span class="line">) <span class="keyword">ELSE</span> (</span><br><span class="line">  <span class="built_in">echo</span> 無法找到 product.dat 文件</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>注記</strong></p><ul><li>もしif句で指定された条件がtrueの場合、その条件の後にコマンドが実行されます。条件がfalseの場合、if句のコマンドは無視され、そのコマンドはelse句で指定されたコマンドを実行します。</li><li>プログラムが停止すると、終了コードを返します。 終了コードを条件に使用するには、errorlevelパラメータを使用します。</li><li><ul><li>%errorlevel%：拡張されたERRORLEVEL環境変数の現在の値の文字列表現。 この変数は、既存のERRORLEVEL環境変数が存在する場合にERRORLEVEL値を取得します。</li></ul></li><li><ul><li>%cmdcmdline%：Cmd.exeが実行される前にCmd.exeに渡された元のコマンドラインを拡張します。 これは、既存のCMDCMDLINE環境変数が存在する場合にCMDCMDLINE値を取得します。</li></ul></li><li><ul><li>%cmdextversion%：cmdextversionの現在の値の文字列表現を拡張します。 これは、既存のCMDEXTVERSION環境変数が存在する場合にCMDEXTVERSION値を取得します。</li></ul></li><li>必ずifの後に実行されるコマンドと同じ行にelse句を使用します。</li></ul><h4 id="19-補助記号-‘-’"><a href="#19-補助記号-‘-’" class="headerlink" title="19. 補助記号 ‘|’"></a>19. 補助記号 ‘|’</h4><p>“|”cmdコマンドで|は前の出力を後の入力にする</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano|<span class="built_in">find</span> &quot;<span class="number">192</span>.<span class="number">168</span>.<span class="number">1</span>.<span class="number">10</span>&quot;  // 特定のIPのネットワーク接続とプロセスIDを検索</span><br></pre></td></tr></table></figure><h4 id="20-リダイレクト出力記号-gt-gt-gt"><a href="#20-リダイレクト出力記号-gt-gt-gt" class="headerlink" title="20 リダイレクト出力記号&gt; &gt;&gt;"></a>20 リダイレクト出力記号&gt; &gt;&gt;</h4><p>コマンドウィンドウからの出力をファイルに保存するには、コマンドウィンドウからの出力をファイルにリダイレクトします。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;c:\<span class="number">1</span>.txt   // <span class="number">1</span>.txtのファイル内容を先に空にしてからhelloを書き込む</span><br></pre></td></tr></table></figure><p>cmd &gt;&gt;はファイルの末尾に出力を追加します</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;&gt;c:\<span class="number">1</span>.txt  // <span class="number">1</span>.txtファイルの末尾にhelloを追加</span><br></pre></td></tr></table></figure><h4 id="21-リダイレクト入力記号-lt-lt-lt"><a href="#21-リダイレクト入力記号-lt-lt-lt" class="headerlink" title="21. リダイレクト入力記号&lt; &lt;&lt;"></a>21. リダイレクト入力記号&lt; &lt;&lt;</h4><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> &lt; file     // <span class="built_in">cmd</span>コマンドをfileから読み込む</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt; text    // コマンドラインから入力を読み込み、textと同じ行が終了するまで続けます。</span><br><span class="line">// 二重引用符で入力を囲む場合を除き、このモードは入力内容にシェル変数置換を行います。</span><br><span class="line">// もし&lt;&lt;-を使用する場合、次の入力行の先頭のタブを無視します。終了行はtextと同じ内容で、タブの後にtextと同じ内容を付けることができます。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt;&lt; word   // word（ファイルではなく）と後の改行を<span class="built_in">cmd</span>に入力します。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&gt; file    // 読み書きモードでファイルfileをリダイレクトし、ファイルfileを破壊しません。アプリケーションがこの機能を利用する場合にのみ意味があります。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &gt;| file    // 機能は&gt;と同じですが、noclobber時にもfileファイルを上書きします。注意は|ではなく、一部の本では!を使用しますが、現在はcshでのみ使用されます。</span><br></pre></td></tr></table></figure></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="ja" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">政哥のブログ</a><p>この小屋は俺が構築しました</p></div></footer></div></div></div><script src="/js/i18n.js"></script></body></html>