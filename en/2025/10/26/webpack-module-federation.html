<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Webpack Module Federation</title><meta name="author" content="Zane"><meta name="keywords" content="Webpack, Module Federation, Micro Frontends, Shared Dependencies, Webpack 5, Configuration Guide"><meta name="description" content="A detailed tutorial on Webpack Module Federation, including concept explanation, working principles, configuration examples for host and remote applications, and FAQs to help developers implement dependency sharing in micro frontend architecture."><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/en/2025/10/26/webpack-module-federation.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass fade-in"><nav id="nav-wrap"><a class="nav-link" href="/en">Home</a> <a class="nav-link" href="/en/archives">Archives</a> <a class="nav-link" href="/en/categories">Categories</a> <a class="nav-link" href="/en/works">Works</a> <a class="nav-link" href="/en/about">About</a></nav><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list" class="hidden"><a class="lang-link" href="/en/2025/10/26/webpack-module-federation.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2025/10/26/webpack-module-federation.html" hreflang="zh">ÁÆÄ‰Ωì‰∏≠Êñá</a> <a class="lang-link" href="/ja/2025/10/26/webpack-module-federation.html" hreflang="ja">Êó•Êú¨Ë™û</a></div></div><div id="scroller" class="fade-in"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="Zane" class="header-avatar"><p class="header-author">Zane</p><p class="header-description">Study hard and make progress every day</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">Webpack Module Federation</h1><div class="article-meta"><time datetime="2025-10-26T09:51:17.000Z" class="article-date">2025-10-26</time></div></header><div class="article-content"><p>Recently, I tinkered with Webpack Module Federation and here‚Äôs a record of the blood, sweat, and tears.</p><h3 id="What-is-Webpack-Module-Federation"><a href="#What-is-Webpack-Module-Federation" class="headerlink" title="What is Webpack Module Federation?"></a>What is Webpack Module Federation?</h3><p>Webpack Module Federation is a new feature in Webpack 5 that allows you to distribute modules from one Webpack application for use in other applications.</p><p>In simple terms, <strong>if a micro-frontend system has three applications, they can share the same version of React&#x2F;Vue, reducing the issue of browsers repeatedly downloading dependency packages.</strong></p><h3 id="How-Module-Federation-Works"><a href="#How-Module-Federation-Works" class="headerlink" title="How Module Federation Works"></a>How Module Federation Works</h3><p>Module Federation consists of two parts:</p><ol><li><strong>Host Application</strong>: Responsible for loading modules from other applications.</li><li><strong>Remote Application</strong>: Provides modules for the host application to use.</li></ol><p>When the host application starts and encounters a module provided by a remote application, it loads that module via JavaScript. After loading, Webpack checks whether the shared dependencies in that module have already been loaded:</p><ul><li>If the shared dependencies have not been loaded, the remote application will request them first, mark them as loaded once completed.</li><li>If the shared dependencies are already loaded, it will not request them again.</li></ul><p>The flowchart is as follows:</p><p><img src="/images/guides/webpack-module-federation/en.jpg" alt="Micro-frontend Module Federation Flowchart"></p><p>After looking at the diagram, bring me the code‚Ä¶</p><h3 id="Webpack-Module-Federation-Configuration-Explanation"><a href="#Webpack-Module-Federation-Configuration-Explanation" class="headerlink" title="Webpack Module Federation Configuration Explanation"></a>Webpack Module Federation Configuration Explanation</h3><p>Does seeing Webpack configuration give you a headache? But don‚Äôt get a headache just yet, because what comes next is even more headache-inducing‚Ä¶ üòè</p><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">// The Module Federation plugin does not need to be installed; it is built into Webpack 5.</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ModuleFederationPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>).<span class="property">container</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ModuleFederationPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">// Application name, used when the host application references modules from the remote application.</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;&#123;appName&#125;&#x27;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Entry file name of the remote application, used by other applications to load modules from this application.</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;remoteEntry.js&#x27;</span>,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Configuration for the host application, specifying which remote application modules to load.</span></span><br><span class="line">      <span class="attr">remotes</span>: &#123;</span><br><span class="line">        <span class="comment">// key is the import name in the host application, value is the entry file address of the remote application.</span></span><br><span class="line">        <span class="attr">remote1</span>: <span class="string">&#x27;&#123;appName&#125;@http://localhost:&#123;port&#125;/&#123;filename&#125;.js&#x27;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// value can also be a promise code.</span></span><br><span class="line">        <span class="attr">remote2</span>: <span class="string">`promise new Promise((resolve) =&gt; &#123;</span></span><br><span class="line"><span class="string">          // Here, you can dynamically decide the entry file address of the remote module at runtime.</span></span><br><span class="line"><span class="string">          const remoteUrl = getRemoteUrlFromSomewhere(); // Your custom logic</span></span><br><span class="line"><span class="string">          const container = await import(/* webpackIgnore:false */ remoteUrl);</span></span><br><span class="line"><span class="string">          container.init(__webpack_share_scopes__.default); // Initialize the shared scope</span></span><br><span class="line"><span class="string">          resolve(container);</span></span><br><span class="line"><span class="string">        &#125;)`</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Configuration for the remote application, specifying which modules to expose to the host application.</span></span><br><span class="line">      <span class="comment">// The remote application must expose at least one module; otherwise, the remote address cannot be exposed,</span></span><br><span class="line">      <span class="comment">// and the shared dependency feature cannot be used.</span></span><br><span class="line">      <span class="attr">exposes</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;./remoteModule1&#x27;</span>: <span class="string">&#x27;./src/remoteModule1.js&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;./remoteModule2&#x27;</span>: <span class="string">&#x27;./src/remoteModule2.js&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Shared dependency configuration. There are three declaration methods:</span></span><br><span class="line">      <span class="comment">// 1. Array form: The version is inferred from package.json, without version checking. It will always use the higher version found.</span></span><br><span class="line">      <span class="attr">shared</span>: [<span class="string">&#x27;lodash&#x27;</span>],</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2. Simple object form: The version is inferred from package.json. It will use the highest lodash version, i.e., &gt;= 4.17 and &lt; 5.</span></span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="attr">lodash</span>: <span class="string">&#x27;^4.17.0&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 3. Detailed object form: Shared dependencies can be configured with more options to control sharing behavior.</span></span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="comment">// Name of the shared dependency library.</span></span><br><span class="line">        <span class="attr">lodash</span>: &#123;</span><br><span class="line">          <span class="comment">// Only allow one version of this dependency in the shared scope. Default is false.</span></span><br><span class="line">          <span class="comment">// For global dependency libraries (like React, Vue, etc.), singleton should be set to true,</span></span><br><span class="line">          <span class="comment">// to ensure all applications using this dependency use the same instance.</span></span><br><span class="line">          <span class="attr">singleton</span>: boolean,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// The required version of the package. Default is false.</span></span><br><span class="line">          <span class="comment">// Setting &#x27;^2.0.0&#x27; requires the remote application to use a lodash version &gt;= 2.0.0 and &lt; 3.0.0.</span></span><br><span class="line">          <span class="attr">requiredVersion</span>: string | <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Whether to load this shared dependency immediately when loading the remote module. Default is false.</span></span><br><span class="line">          <span class="comment">// If set to true, webpack will include the shared dependency package in the application&#x27;s bundle,</span></span><br><span class="line">          <span class="comment">// instead of requesting it when used.</span></span><br><span class="line">          <span class="attr">eager</span>: boolean,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Local fallback dependency loading. Default is the current dependency library name, i.e., &#x27;lodash&#x27;.</span></span><br><span class="line">          <span class="comment">// When set to a string (dependency library name), Webpack will attempt to load the shared dependency from the shared scope.</span></span><br><span class="line">          <span class="comment">// If the shared dependency is not found in the shared scope or the version is invalid, Webpack will fall back to loading it locally.</span></span><br><span class="line">          <span class="comment">// When set to false, Webpack will not load the local dependency and only load from the shared scope.</span></span><br><span class="line">          <span class="attr">import</span>: <span class="literal">false</span> | string,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Strict version checking. Default is true.</span></span><br><span class="line">          <span class="comment">// When the local fallback dependency is available and the shared dependency&#x27;s singleton is false,</span></span><br><span class="line">          <span class="comment">// the lodash version used by the remote application must match the one in the shared scope.</span></span><br><span class="line">          <span class="attr">strictVersion</span>: boolean,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// The version of the provided dependency. Default is false.</span></span><br><span class="line">          <span class="comment">// It allows webpack to replace matching lower versions but not matching higher versions.</span></span><br><span class="line">          <span class="attr">version</span>: <span class="literal">false</span> | string,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// The key name of the shared dependency in the shared scope. Default is the dependency library name, i.e., &#x27;lodash&#x27;.</span></span><br><span class="line">          <span class="comment">// The requested shared dependency is looked up in the shared scope by this key name.</span></span><br><span class="line">          <span class="comment">// It can be set to a different key name for different versions of the same dependency library across applications.</span></span><br><span class="line">          <span class="attr">shareKey</span>: string,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// The name of the shared scope. Default is &#x27;default&#x27;.</span></span><br><span class="line">          <span class="comment">// Host and remote applications can configure different shared scope names,</span></span><br><span class="line">          <span class="comment">// to avoid shared dependency conflicts between different applications.</span></span><br><span class="line">          <span class="attr">shareScope</span>: string,</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Dependency name.</span></span><br><span class="line">          <span class="attr">packageName</span>: string,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><ol><li>The shared dependency configuration must be declared in both the host and remote applications for the shared dependency feature to take effect.</li><li>Configuring shared dependencies in either the host or remote application does not mean you don‚Äôt need to install the shared dependency package, except when <code>import</code> is set to <code>false</code> (not recommended).</li><li>When the host or remote application requests a shared dependency, if the shared dependency is unavailable or the version does not match, the local fallback dependency will be loaded.</li><li>The host application can also be a remote application. By exposing its own modules, other applications can load the host application‚Äôs modules.</li></ol></blockquote><p><a target="_blank" rel="noopener" href="https://webpack.js.org/plugins/module-federation-plugin/#Options">Webpack Module Federation Configuration Official Documentation</a></p><p>Now that you‚Äôve read the configuration explanation, you should know all the shared dependency configuration options. Let‚Äôs see how much you‚Äôve learned. üòé</p><h3 id="Host-Application-Configuration"><a href="#Host-Application-Configuration" class="headerlink" title="Host Application Configuration"></a>Host Application Configuration</h3><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ModuleFederationPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>).<span class="property">container</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ModuleFederationPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;host&#x27;</span>,</span><br><span class="line">      <span class="attr">remotes</span>: &#123;</span><br><span class="line">        <span class="attr">remote1</span>: <span class="string">&#x27;remote1@http://localhost:5001/remoteEntry.js&#x27;</span>,</span><br><span class="line">        <span class="attr">remote2</span>: <span class="string">&#x27;remote2@http://localhost:5002/remoteEntry.js&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="attr">lodash</span>: &#123; </span><br><span class="line">          <span class="attr">singleton</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">requiredVersion</span>: <span class="string">&#x27;2.0.0&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>main.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;./bootstrap&#x27;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>bootstrap.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;remote1/remoteModule&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; bootstrap, hello &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">bootstrap</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">hello</span>());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;remote2/remoteModule&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; bootstrap, hello &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">bootstrap</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">hello</span>());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code...</span></span><br></pre></td></tr></table></figure><p>Seeing this, you must be confused: Why is there an extra <code>bootstrap.js</code> file in the root directory? And why is <code>bootstrap.js</code> imported in <code>main.js</code>?<br>Isn‚Äôt this like taking off your pants to fart‚Äîcompletely unnecessary?<br>The answer is actually no. Here‚Äôs what the official documentation says:</p><blockquote><p>The application is eagerly executing an application that runs as a global host. We strongly recommend using an asynchronous boundary. It will separate the initialization code into larger chunks to avoid any additional overhead and improve overall performance. <a target="_blank" rel="noopener" href="https://webpack.js.org/concepts/module-federation/#uncaught-error-shared-module-is-not-available-for-eager-consumption">Click to view</a></p></blockquote><p>This means that if there is no asynchronous boundary and <code>eager: true</code> is not enabled, the host application will immediately load the shared dependency package (e.g., lodash). However, when <code>eager: false</code>, dependency packages are loaded asynchronously. Therefore, the host application will throw an error that the shared dependency package is unavailable.</p><h3 id="Remote-Application-Configuration"><a href="#Remote-Application-Configuration" class="headerlink" title="Remote Application Configuration"></a>Remote Application Configuration</h3><blockquote><p>There can be multiple remote applications. The host application is configured with two addresses: <code>remote1</code> and <code>remote2</code>. Only the configuration for <code>remote1</code> is shown here; <code>remote2</code> is similar.</p></blockquote><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">ModuleFederationPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>).<span class="property">container</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/bootstrap.js&#x27;</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ModuleFederationPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;remote1&#x27;</span>,</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;remoteEntry.js&#x27;</span>,</span><br><span class="line">      <span class="attr">exposes</span>: &#123;</span><br><span class="line">        <span class="string">&quot;./remoteModule&quot;</span>: <span class="string">&quot;./src/exposes.js&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="attr">lodash</span>: &#123; </span><br><span class="line">          <span class="attr">singleton</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">requiredVersion</span>: <span class="string">&#x27;2.0.0&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>exposes.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">bootstrap</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./bootstrap&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello Remote1&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>bootstrap.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code...</span></span><br></pre></td></tr></table></figure><p>The configuration of the remote application differs from the host application: First, the remote application needs to be started and expose specific modules to the outside. Then, Webpack Module Federation will generate the access address for that remote module. After configuring this address in the host application‚Äôs Module Federation settings and starting the host application, when the host application executes code like <code>import(&#39;remote1/remoteModule&#39;)</code>, the Webpack Module Federation container will load the remote module via that address. At the same time, it will check whether the shared dependencies declared by that remote module already exist in the current shared scope. If the dependencies are unavailable or the version is incompatible, Module Federation will automatically fall back to loading the host application‚Äôs local fallback dependencies.</p><p><a href="https://liuzane.github.io/webpack-module-federation-demo">Demo Online Demo</a><br><a target="_blank" rel="noopener" href="https://github.com/liuzane/webpack-module-federation-demo">Demo Github Code</a></p><h3 id="Questions-and-Answers"><a href="#Questions-and-Answers" class="headerlink" title="Questions and Answers:"></a>Questions and Answers:</h3><ol><li><p><strong>Q</strong>: <strong>Both the host and remote applications have configured the shared dependency lodash, but the versions of lodash in the host and remote applications are inconsistent. What will happen?</strong><br><strong>A</strong>: When the versions are inconsistent, <code>requiredVersion</code> will check whether the version in the shared scope meets the required version range. If not, it will load the local fallback dependency.</p></li><li><p><strong>Q</strong>: <strong>What is the purpose of the <code>singleton</code> configuration option, and how does the version negotiation mechanism work?</strong><br><strong>A</strong>: <code>singleton</code> is used to specify whether to share this dependency as a single version in the shared scope. If set to <code>true</code>, only one version can exist in the shared scope. If there are multiple versions of the shared dependency, Webpack will use a version negotiation mechanism (it will try to use the highest version of the shared dependency. Even if an application configured with a lower version loads first, the highest version will be used), and it will force all applications with <code>singleton: true</code> to use that version.<br>Take lodash as an example:</p><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/* App1 */</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="attr">lodash</span>: &#123;</span><br><span class="line">  <span class="attr">singleton</span>: <span class="literal">true</span>, <span class="comment">// Singleton unique version</span></span><br><span class="line">  <span class="attr">requiredVersion</span>: <span class="string">&#x27;^1.0.0&#x27;</span>, <span class="comment">// Greater than or equal to 1.0.0 and less than 2.0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/* App2 */</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="attr">lodash</span>: &#123;</span><br><span class="line">  <span class="attr">singleton</span>: <span class="literal">true</span>, <span class="comment">// Singleton unique version</span></span><br><span class="line">  <span class="attr">requiredVersion</span>: <span class="string">&#x27;^2.0.0&#x27;</span>, <span class="comment">// Greater than or equal to 2.0.0 and less than 3.0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/* App3 */</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="attr">lodash</span>: &#123;</span><br><span class="line">  <span class="attr">singleton</span>: <span class="literal">false</span>, <span class="comment">// Non-singleton version</span></span><br><span class="line">  <span class="attr">requiredVersion</span>: <span class="string">&#x27;^3.0.0&#x27;</span>, <span class="comment">// Greater than or equal to 3.0.0 and less than 4.0.0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>App1 uses a singleton unique version and requires lodash version <strong>greater than or equal to <code>1.0.0</code> and less than <code>2.0.0</code></strong>.<br>App2 uses a singleton unique version and requires lodash version <strong>greater than or equal to <code>2.0.0</code> and less than <code>3.0.0</code></strong>.<br>App3 does not use a singleton unique version and requires lodash version <strong>greater than or equal to <code>3.0.0</code> and less than <code>4.0.0</code></strong>.<br>Then, regardless of which loads first, App1 and App2 will use the highest version <code>2.0.0</code> configured in App2. App3‚Äôs lodash, since it cannot find a matching version and has <code>singleton</code> set to <code>false</code>, will use the local fallback version <code>3.0.0</code>.</p></li><li><p><strong>Q</strong>: <strong>The remote application only wants to use shared dependencies and has no scenario where it needs to expose its own modules. So, only <code>shared</code> is configured, and <code>exposes</code> is not configured. What will happen?</strong><br><strong>A</strong>: The remote module URL for the remote application will not be generated. The host application will receive a 404 error when accessing that remote module URL, and Module Federation will not take effect. It will always only load its own fallback dependencies.</p></li><li><p><strong>Q</strong>: <strong>The host application has installed lodash and configured shared dependencies. Can the remote application only configure shared dependencies without installing the npm dependency package?</strong><br><strong>A</strong>: Yes, but it is not recommended. When both the host and remote applications have configured lodash as a shared dependency, but the remote application has not installed the npm dependency package, the remote application needs to be configured as follows:</p><figure class="highlight javascript"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="attr">lodash</span>: &#123;</span><br><span class="line">  <span class="attr">import</span>: <span class="literal">false</span>, <span class="comment">// Do not load the local fallback dependency, only load from the shared scope.</span></span><br><span class="line">  <span class="attr">singleton</span>: <span class="literal">true</span>, <span class="comment">// Singleton unique version</span></span><br><span class="line">  <span class="attr">requiredVersion</span>: <span class="string">&#x27;*&#x27;</span>, <span class="comment">// Any version</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>However, this is not recommended because if the host application‚Äôs lodash version fails to load due to network or other reasons, the remote application will throw an error instead of using the local fallback dependency.</p></li><li><p><strong>Q</strong>: <strong>In the host application configuration, must remote modules be imported via dynamic import <code>import(&#39;&#123;remotesKey&#125;/&#123;exposesKey&#125;&#39;)</code>? Can they be imported in other ways?</strong><br><strong>A</strong>: They must be imported this way. Other methods, such as HTML import, will also cause errors.</p></li></ol></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="en" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">Zane&#39;s Blog</a><p>This little world was built by me</p></div></footer></div></div><script src="/js/i18n.js"></script></div></body></html>