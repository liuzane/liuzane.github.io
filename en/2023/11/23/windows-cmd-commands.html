<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Windows CMD Common Commands Reference</title><meta name="author" content="Zane"><meta name="keywords" content="Windows CMD, Common Commands, Reference, Guide, Tips, Tricks, Batch Processing, Scripting, Automation"><meta name="description" content="A reference guide for common Windows CMD commands, including syntax, modifiers, quantifiers, and methods."><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/en/2023/11/23/windows-cmd-commands.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass"><nav id="nav-wrap"><a class="nav-link" href="/en">Home</a> <a class="nav-link" href="/en/archives">Archives</a> <a class="nav-link" href="/en/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">Tools</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">Laboratory</a> <a class="nav-link" href="/en/about">About</a></nav></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2023/11/23/windows-cmd-commands.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2023/11/23/windows-cmd-commands.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2023/11/23/windows-cmd-commands.html" hreflang="ja">日本語</a></div><div id="scroller"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="Zane" class="header-avatar"><p class="header-author">Zane</p><p class="header-description">Study hard and make progress every day</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">Windows CMD Common Commands Reference</h1><div class="article-meta"><time datetime="2023-11-23T09:23:41.000Z" class="article-date">2023-11-23</time></div></header><div class="article-content"><p><strong>There are two ways to execute CMD commands:</strong></p><ol><li>Execute commands through the command prompt window: Right-click the Start button and pop up the menu, click Run (shortcut: Win + R), enter cmd in the input box and click OK.</li><li>Execute CMD commands by creating script files with .cmd or .bat extensions.</li></ol><h4 id="Creating-cmd-script-files-to-execute-CMD-commands"><a href="#Creating-cmd-script-files-to-execute-CMD-commands" class="headerlink" title="Creating .cmd script files to execute CMD commands."></a>Creating .cmd script files to execute CMD commands.</h4><p>This will create a command prompt window titled “Hello World” and execute operations like outputting “Hello World!” and creating files inside it.</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem start.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem &quot;rem&quot; and &quot;::&quot; are comments in batch processing</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; <span class="built_in">cmd</span> /k .\input.bat</span><br></pre></td></tr></table></figure><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem input.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem chcp changes page encoding, UTF-8 code is 65001, solves Chinese garbled characters in command line</span></span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World!</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p text=Please enter: (PS: Use <span class="built_in">set</span> to <span class="built_in">set</span> variables, use /p parameter to block commands, wait <span class="keyword">for</span> input completion before executing other commands.)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Your input content is <span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=Save as file? (y/n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> &quot;<span class="variable">%isSave%</span>&quot; == &quot;y&quot; (</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> input_content.txt (</span><br><span class="line">    @<span class="built_in">echo</span> input_content.txt file already exists</span><br><span class="line">  )</span><br><span class="line">  @<span class="built_in">echo</span> <span class="variable">%text%</span>&gt;&gt;input_content.txt</span><br><span class="line">  @<span class="built_in">echo</span> File saved.</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">  <span class="built_in">echo</span> Don&#x27;t save file.</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><h2 id="Appendix-Windows-Commands-Reference"><a href="#Appendix-Windows-Commands-Reference" class="headerlink" title="Appendix: Windows Commands Reference"></a>Appendix: <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands">Windows Commands Reference</a></h2><h4 id="1-cd-command-chdir-command"><a href="#1-cd-command-chdir-command" class="headerlink" title="1. cd command, (chdir command)"></a>1. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cd">cd command</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/chdir">(chdir command)</a></h4><p>Display the name of the current directory or change the current directory. If used with a drive letter (for example, cd C:), cd displays the name of the current directory in the specified drive. If used without parameters, cd displays the current drive and directory.<br><strong>If the path to jump is in different disks, add/d parameter, otherwise it cannot jump.</strong></p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> [/d] [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;]</span><br><span class="line"><span class="built_in">cd</span> [..]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/d</code></td><td>Changes the current drive and the current directory of the drive.</td></tr><tr><td><code>&lt;drive&gt;:</code></td><td>Specifies the drive to display or change (if different from the current drive).</td></tr><tr><td><code>&lt;path&gt;</code></td><td>Specifies the path to display or change the directory.</td></tr><tr><td><code>[..]</code></td><td>Specifies to change to the parent folder.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem  CMD execution path: $ C:\Users\liuzane&gt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">D:                  // <span class="title">Enter</span> <span class="title">d</span> <span class="title">drive</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:                  // <span class="title">Enter</span> <span class="title">F</span> <span class="title">drive</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> \                // <span class="title">Jump</span> <span class="title">to</span> <span class="title">the</span> <span class="title">root</span> <span class="title">directory</span> <span class="title">of</span> <span class="title">the</span> <span class="title">current</span> <span class="title">hard</span> <span class="title">disk</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">C</span>:\<span class="title">WINDOWS</span>       // <span class="title">Jump</span> <span class="title">to</span> <span class="title">the</span> <span class="title">C</span>: <span class="title">drive</span>&#x27;<span class="title">s</span> <span class="title">WINDOWS</span> <span class="title">folder</span>, (<span class="title">no</span> <span class="title">need</span> <span class="title">for</span>/<span class="title">d</span> <span class="title">parameter</span> <span class="title">in</span> <span class="title">the</span> <span class="title">same</span> <span class="title">drive</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> /<span class="title">d</span> <span class="title">e</span>:\<span class="title">software</span>   // <span class="title">Jump</span> <span class="title">to</span> <span class="title">the</span> <span class="title">e</span>: <span class="title">drive</span>&#x27;<span class="title">s</span> <span class="title">software</span> <span class="title">folder</span>, (<span class="title">need</span> <span class="title">to</span> <span class="title">add</span>/<span class="title">d</span> <span class="title">parameter</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span>..                // <span class="title">Jump</span> <span class="title">to</span> <span class="title">the</span> <span class="title">upper</span> <span class="title">layer</span> <span class="title">directory</span></span></span><br></pre></td></tr></table></figure><h4 id="2-dir-command"><a href="#2-dir-command" class="headerlink" title="2. dir command"></a>2. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/dir">dir command</a></h4><p>Display a list of files and subdirectories in a directory.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span> [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;][&lt;filename&gt;] [...] [/p] [/q] [/w] [/d] [/a[[:]&lt;attributes&gt;]][/o[[:]&lt;sortorder&gt;]] [/t[[:]&lt;timefield&gt;]] [/s] [/b] [/l] [/n] [/x] [/c] [/<span class="number">4</span>] [/r]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:][&lt;path&gt;]</code></td><td>Specifies the drive and directory to view the list of.</td></tr><tr><td><code>[&lt;filename&gt;]</code></td><td>Specifies the specific file or file group to view the list of.</td></tr><tr><td><code>/p</code></td><td>Displays one list screen at a time. Press any key to view the next screen.</td></tr><tr><td><code>/q</code></td><td>Displays file ownership information.</td></tr><tr><td><code>/w</code></td><td>Displays the list in wide format, with a maximum of five file names or directory names per line.</td></tr><tr><td><code>/d</code></td><td>Displays the list in the same format as /w, but files are sorted by column.</td></tr><tr><td><code>/a[[:]&lt;attributes&gt;]</code></td><td>Displays the names of directories and files with the specified attributes. If this parameter is not used, this command displays the names of all files except hidden and system files. If this parameter is used without specifying any attributes, this command displays the names of all files, including hidden and system files. Possible attribute value lists include:<ul><li>d - Directory</li><li>h - Hidden files</li><li>s - System files</li><li>l - Re-parse point</li><li>r - Read-only files</li><li>a - Files that can be used for archiving</li><li>i - Non-content indexed files</li></ul>You can use any combination of these values, but do not use spaces to separate values. (Optional) You can use the colon (<code>:</code>) separator, or you can use the hyphen (<code>-</code>) as a prefix to indicate “non”. For example, using the <code>-s</code> attribute does not display system files.</td></tr><tr><td><code>/o[[:]&lt;sortorder&gt;]</code></td><td>Sorts output based on sortorder, which can be any combination of the following values:<ul><li>n - Sorts by name alphabetically</li><li>e - Sorts by extension name alphabetically</li><li>g - Lists groups first</li><li>s - Sorts by size, lists smallest files first</li><li>d - Sorts by date/time, lists earliest files first</li><li>Use - prefix to reverse sort order</li></ul>Multiple values are processed in the order you list them. Do not use spaces to separate multiple values, but you can use a colon (<code>:</code>) to separate them.<br>If sortorder is not specified, <code>dir /o</code> sorts directories first, then files, which are also sorted alphabetically.</td></tr><tr><td><code>/t[[:]&lt;timefield&gt;]</code></td><td>Specifies the time field to display or use for sorting. The available values for timefield are:<ul><li>c - Creation time</li><li>a - Last access time</li><li>w - Last write time</li></ul></td></tr><tr><td><code>/s</code></td><td>Lists each matching occurrence of the specified file name in the specified directory and all subdirectories.</td></tr><tr><td><code>/b</code></td><td>Displays a pure directory and file list, without other information. <code>/b</code> parameter overrides <code>/w</code>.</td></tr><tr><td><code>/l</code></td><td>Displays directory and file names in lowercase without sorting.</td></tr><tr><td><code>/n</code></td><td>Displays a long list format with file names on the right side of the screen.</td></tr><tr><td><code>/x</code></td><td>Displays short names generated from non-8dot3 file names. Displays content identical to <code>/n</code>, but short names are inserted before long names.</td></tr><tr><td><code>/c</code></td><td>Displays file sizes with thousands separators. This option is the default behavior. Use <code>/-c</code> to hide separators.</td></tr><tr><td><code>/4</code></td><td>Displays year in four-digit format.</td></tr><tr><td><code>/r</code></td><td>Displays year in four-digit format.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Notes</strong></p><ul><li><p>If you use multiple filename parameters, separate each filename with a space, comma, or semicolon.</p></li><li><p>You can use wildcards (<code>*</code> or ?) to represent one or more characters in a filename and display a subset of files or subdirectories.</p></li><li><p>You can use the wildcard * to replace any string. For example:</p></li><li><ul><li><code>dir *.txt</code> will list all files in the current directory that start with .txt, such as .txt, .txt1, .txt_old.</li></ul></li><li><ul><li><code>dir read *.txt</code> will list all files in the current directory that start with read and have a .txt extension, such as .txt, .txt1, or .txt_old.</li></ul></li><li><ul><li><code>dir read *.*</code> will list all files in the current directory that start with read (regardless of extension). The asterisk wildcard always uses short name mapping, so you might get unexpected results. For example, the following directory contains two files (t.txt2 and t97.txt): You might expect typing <code>dir t97*</code> to return file t97.txt. However, typing dir t97* returns both files because the asterisk wildcard uses its short name mapping T97B4~1.TXT, so it thinks file t.txt2 matches t97.txt. Similarly, typing del t97* deletes both files.</li></ul></li><li><p>You can use the question mark (<code>?</code>) instead of a single character in a name. For example, typing <code>dir read???.txt</code> will list all files in the current directory with a .txt extension that start with read and have up to three characters. This includes Read.txt, Read1.txt, Read12.txt, Read123.txt, and Readme1.txt, but not Readme12.txt.</p></li><li><p>If you use <code>/a</code> and multiple values in attributes, this command only displays the names of files with all specified attributes. For example, if you use <code>/a</code> with <code>r</code> and <code>-h</code> as attributes (using <code>/a:r-h</code> or <code>/ar-h</code>), this command only displays the names of unhidden read-only files.</p></li><li><p>If you specify multiple sortorder values, this command sorts file names first by the first condition, then by the second condition, and so on. For example, if you use <code>/o</code> with sortorder <code>e</code> and <code>-s</code> parameters (using <code>/o:e-s</code> or /oe-s), this command sorts directory and file names by extension, first displaying the largest file, then the final result. Sorting by extension alphabetically sorts directory names first, then file names, then directory names with extensions.</p></li><li><p>If you use the redirection symbol (<code>&gt;</code>) to send the output of this command to a file, or use the pipe symbol (<code>|</code>) to send the output of this command to another command, you must use <code>/a:-d</code> and <code>/b</code>, to list only file names. You can use filename with <code>/b</code> and <code>/s</code> to specify this command to search for all file names matching the filename parameter in the current directory and all subdirectories. This command lists only the drive letter, directory name, filename, and file extension (one path per line) for each file name it finds. Before sending the output of this command to another command using the pipe symbol, you should first set the TEMP environment variable in the Autoexec.nt file.</p></li></ul><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span>                       // View files <span class="keyword">in</span> the current directory, similar to linux&#x27;s ls</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> /s/w/o/p/a:-d         // Display file names and extensions, but omit directory names</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> c:\*.txt /w/o/s/p     // List all directory names <span class="keyword">in</span> drive C with .txt extension</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> &gt; \records\<span class="built_in">dir</span>.doc    // Redirect <span class="built_in">dir</span> command output to file</span><br><span class="line">                          // <span class="keyword">If</span> <span class="built_in">dir</span>.doc does <span class="keyword">not</span> <span class="keyword">exist</span>, <span class="built_in">dir</span> will create this file</span><br><span class="line">                          // Unless records directory does <span class="keyword">not</span> <span class="keyword">exist</span>. <span class="keyword">If</span> records directory does <span class="keyword">not</span> <span class="keyword">exist</span></span><br><span class="line">                          // Will display message: `File creation error`</span><br></pre></td></tr></table></figure><h4 id="3-md-command-mkdir-command"><a href="#3-md-command-mkdir-command" class="headerlink" title="3. md command, (mkdir command)"></a>3. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/md">md command</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/mkdir">(mkdir command)</a></h4><p>Create a directory or subdirectory. Command extension (enabled by default) allows you to use a single md command to create intermediate directories in the specified path.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;drive&gt;:</code></td><td>Specifies the drive in which to create the new directory.</td></tr><tr><td><code>&lt;path&gt;</code></td><td>Specifies the name and location of the new directory. The maximum length of any single path is determined by the file system. This is a required parameter.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> Directory1                // Create a directory named Directory1 <span class="keyword">in</span> the current directory</span><br><span class="line"></span><br><span class="line"><span class="built_in">md</span> \Taxes\Property\Current   // Create directory <span class="built_in">tree</span> Taxes\Property\Current <span class="keyword">in</span> the root directory <span class="keyword">in</span> the case of command extension enabled</span><br></pre></td></tr></table></figure><h4 id="4-rd-command-mkdir-command"><a href="#4-rd-command-mkdir-command" class="headerlink" title="4. rd command, (mkdir command)"></a>4. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rd">rd command</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rmdir">(mkdir command)</a></h4><p>Delete a directory.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt; [/s [/q]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:]&lt;path&gt;</code></td><td>Specifies the location and name of the directory to delete. Path is required. If a backslash () is included at the beginning of the specified path, the path starts from the root directory (regardless of the current directory).</td></tr><tr><td><code>/s</code></td><td>Deletes the directory tree (specified directory and all files in it).</td></tr><tr><td><code>/q</code></td><td>Specifies quiet mode. Deletes the directory tree without prompting for confirmation. This parameter is only effective when also specified /s.<br>Note: When running in quiet mode, no confirmation is required to delete the entire directory tree. Before running the /q command line option, please ensure that important files are moved or backed up.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> /s test       // Delete directory named test <span class="keyword">in</span> the current directory (and all files and directories <span class="keyword">in</span> it)</span><br><span class="line"></span><br><span class="line"><span class="built_in">rd</span> /s /q test    // Run the previous example <span class="keyword">in</span> quiet <span class="built_in">mode</span></span><br></pre></td></tr></table></figure><h4 id="5-copy-command"><a href="#5-copy-command" class="headerlink" title="5. copy command"></a>5. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/copy">copy command</a></h4><p>Copy one or more files from one location to another location.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] &lt;source&gt; [/a | /b] [+&lt;source&gt; [/a | /b] [+ ...]] [&lt;destination&gt; [/a | /b]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/d</code></td><td>Allows the copied encrypted file to be saved as an unencrypted file to the destination.</td></tr><tr><td><code>/v</code></td><td>Verifies that the new file has been correctly written.</td></tr><tr><td><code>/n</code></td><td>Uses short names (if available) when copying file names that exceed eight characters or file extensions that exceed three characters.</td></tr><tr><td><code>/y</code></td><td>Disables prompting you to confirm overwriting an existing destination file.</td></tr><tr><td><code>/-y</code></td><td>Prompts you to confirm overwriting an existing destination file.</td></tr><tr><td><code>/z</code></td><td>Copies network files in restartable mode.</td></tr><tr><td><code>/a</code></td><td>Indicates an ASCII text file.</td></tr><tr><td><code>/b</code></td><td>Indicates a binary file.</td></tr><tr><td><code>&lt;source&gt;</code></td><td>Required. Specifies the location from which to copy one or more files. source can be a drive letter followed by a semicolon, directory name, file name, or a combination of these.</td></tr><tr><td><code>&lt;destination&gt;</code></td><td>Required. Specifies the location to which to copy one or more files. destination can be a drive letter followed by a semicolon, directory name, file name, or a combination of these.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Notes</strong></p><ul><li><p>You can copy ASCII text files that use file termination character (CTRL+Z) to indicate file termination.</p></li><li><p>If <code>/a</code> is specified in the file list before or after the command line, this option applies to all files listed until <code>copy</code> encounters <code>/b</code>. In this case, <code>/b</code> applies to files before <code>/b</code>.<br><code>/a</code> effect depends on its location in the command line string: - If <code>/a</code> follows source, <code>copy</code> command copies data before the first file termination character (CTRL+Z) in the file. - If <code>/a</code> follows destination, <code>copy</code> command adds a file termination character (CTRL+Z) as the last character of the file.</p></li><li><p>If <code>/b</code> indicates the command interpreter reads the number of bytes specified by the file size in the directory. Unless <code>copy</code> merges files, <code>/b</code> is the default value for <code>copy</code>.</p></li><li><p>If <code>/b</code> is specified in the file list before or after the command line, this option applies to all files listed until <code>copy</code> encounters <code>/a</code>. In this case, <code>/a</code> applies to files before <code>/a</code>.<br><code>/b</code> effect depends on its location in the command line string: - If <code>/b</code> follows source, <code>copy</code> command copies the entire file, including any file termination characters (CTRL+Z). - If <code>/b</code> follows destination, <code>copy</code> command does not add a file termination character (CTRL+Z).</p></li><li><p>If verification cannot be performed, an error message is displayed. You can use <code>/v</code> to verify that critical data has been recorded, although <code>copy</code> command rarely records errors. <code>/v</code> command line option also slows down <code>copy</code> command because it checks each sector recorded on the disk.</p></li><li><p>If <code>/y</code> is preset in the COPYCMD environment variable, you can use <code>/-y</code> instead of this preset in the command line. The default is not to prompt unless a <code>copy</code> command is executed in a batch script.</p></li><li><p>To append files, specify a destination file but specify multiple files for source (using wildcard or file1+file2+file3 format).</p></li><li><p>If the connection is broken during the copy phase (for example, if the server is offline, the connection is broken), you can use <code>copy /z</code> to recover after reconnecting. <code>/z</code> option also displays completion percentage for each file copy operation.</p></li><li><p>You can replace one or more source or destination with device names.</p></li><li><p>If destination is a device (for example Com1 or Lpt1), <code>/b</code> option copies data to device in binary mode. In binary mode, <code>copy /b</code> copies all characters (including CTRL+C, CTRL+S, CTRL+Z, and ENTER, etc. special characters) as data to device. However, if <code>/b</code> is omitted, data is copied to device in ASCII mode. In ASCII mode, special characters might cause files to merge during copy.</p></li><li><p>If no destination file is specified, a copy of the file with the same name, modification date, and modification time as the original file is created. The new copy is stored in the current directory of the current drive. If the source file is in the current drive and current directory, and you do not specify a different drive or directory for the destination file, the <code>copy</code> command stops and displays the following error message:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">File cannot be copied onto itself</span><br><span class="line"><span class="number">0</span> File(s) copied</span><br></pre></td></tr></table></figure></li><li><p>If multiple files are specified in source, <code>copy</code> command uses the file name specified in destination to merge all files into a single file. Unless <code>/b</code> option is used, <code>copy</code> command assumes merged files are ASCII files.</p></li><li><p>To copy a file with a length of 0 bytes, or to copy all files and subdirectories in a directory, use <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/xcopy">xcopy command</a>.</p></li><li><p>To assign the current date and time to a file without modifying the file, use the following syntax:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> /b &lt;source&gt; +,,    // where , is a placeholder indicating intentionally omitted destination parameter.</span><br></pre></td></tr></table></figure></li></ul><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> robin.typ c:\birds                           // <span class="built_in">Copy</span> file named robin.typ from current drive and directory to existing directory named birds on drive C</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> memo.doc letter.doc /a                       // <span class="built_in">Copy</span> file named memo.doc to current drive&#x27;s letter.doc, and ensure file termination character (CTRL+Z) is <span class="built_in">at</span> the end of the copied file</span><br><span class="line">                                                  // <span class="keyword">If</span> birds directory does <span class="keyword">not</span> <span class="keyword">exist</span>, file robin.typ will be copied to birds file <span class="keyword">in</span> root directory of disk C.</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> mar89.rpt + apr89.rpt + may89.rpt Report     // Merge Mar89.rpt, Apr89.rpt, and May89.rpt <span class="keyword">in</span> the current directory, and place them <span class="keyword">in</span> Report file (also <span class="keyword">in</span> current directory)</span><br><span class="line">                                                  // <span class="keyword">If</span> merged files, <span class="built_in">copy</span> command uses current <span class="built_in">date</span> and <span class="built_in">time</span> to mark target file.</span><br><span class="line">                                                  // <span class="keyword">If</span> destination is omitted, the merged file is stored with the name of the first file <span class="keyword">in</span> the list.</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> report + mar89.rpt + apr89.rpt + may89.rpt   // Merge all files <span class="keyword">in</span> Report, when Report file already exists</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt Combined.doc                           // Merge all files <span class="keyword">in</span> the current directory with .txt extension into a single Combined.doc file</span><br><span class="line">                                                  // <span class="keyword">If</span> merged binary files, generated file might <span class="keyword">not</span> be usable due to internal <span class="built_in">format</span> issues.</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref *.doc                          // Merge each file with its corresponding .ref file to create file with same name but .doc extension.</span><br><span class="line">                                                  // <span class="built_in">copy</span> command merges file1.txt with file1.ref into file1.doc,</span><br><span class="line">                                                  // then the command merges file2.txt with file2.ref into file2.doc, and so on</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref Combined.doc                   // Merge all files with .txt extension, then merge all files with .ref extension into a Combined.doc file</span><br></pre></td></tr></table></figure><h4 id="6-move-command"><a href="#6-move-command" class="headerlink" title="6. move command"></a>6. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/move">move command</a></h4><p>Move one or more files from one directory to another directory.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> [&#123;/y|-y&#125;] [&lt;source&gt;] [&lt;target&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/y</code></td><td>Disables prompting you to confirm overwriting an existing destination file. COPYCMD environment variable may preset this parameter. You can use -y parameter instead of this preset. Unless command is executed from batch script, default prompts before overwriting file.</td></tr><tr><td><code>-y</code></td><td>Starts prompting you to confirm overwriting an existing destination file.</td></tr><tr><td><code>&lt;source&gt;</code></td><td>Specifies the path and name of the file to move. If moving or renaming directory, source should be the path and name of the current directory.</td></tr><tr><td><code>&lt;target&gt;</code></td><td>Specifies the path and name to which to move the file. If moving or renaming directory, target should be the path and name of the target directory.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> \data\*.xls \second_q\reports\    // <span class="built_in">Move</span> all .xls files from \Data directory to \second_Q\reports directory</span><br></pre></td></tr></table></figure><h4 id="7-del-command-erase-command"><a href="#7-del-command-erase-command" class="headerlink" title="7. del command, erase command"></a>7. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/del">del command</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/erase">erase command</a></h4><p>Delete one or more files. (This is specifically for deleting files, not directories)<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> [/p] [/f] [/s] [/q] [/a[:]&lt;attributes&gt;] &lt;names&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;names&gt;</code></td><td>Specifies a list of one or more files or directories. Wildcards can be used to delete multiple files. If a directory is specified, all files in the directory are deleted.</td></tr><tr><td><code>/p</code></td><td>Prompts you to confirm before deleting specified files.</td></tr><tr><td><code>/f</code></td><td>Forces deletion of read-only files.</td></tr><tr><td><code>/s</code></td><td>Deletes specified files from the current directory and all subdirectories. Displays the name of the file being deleted.</td></tr><tr><td><code>/q</code></td><td>Specifies quiet mode. System does not prompt you to confirm deletion.</td></tr><tr><td><code>/a[:]&lt;attributes&gt;</code></td><td>Deletes files based on the following file attributes:<ul><li>r Read-only files</li><li>h Hidden files</li><li>i Non-content indexed files</li><li>s System files</li><li>a Files that can be used for archiving</li><li>l Re-parse point</li><li>- Used as a prefix to indicate “non”</li></ul></td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Notes</strong></p><ul><li><p>If you use <code>del /p</code> command, you will see the following message:<br><code>FileName, Delete (Y/N)?</code><br>To confirm deletion, press Y. To cancel deletion and display next filename (if a group of files is specified), press N. To stop <code>del</code> command, press Ctrl+C.</p></li><li><p>If command extension is disabled, <code>/s</code> parameter displays the name of any files not found, instead of the name of the file being deleted.</p></li><li><p>If <code>&lt;names&gt;</code> parameter specifies a specific directory, all contained files are also deleted. For example, to delete all files in \work directory, type:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> \work</span><br></pre></td></tr></table></figure></li><li><p>You can use wildcards (<code>*</code> and <code>?</code>) to delete multiple files at once. However, be cautious when using wildcards to avoid unintended deletion of files. For example, if you type the following command:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> *.*</span><br></pre></td></tr></table></figure><p>del command displays the following prompt:<br><code>Are you sure (Y/N)?</code><br>To delete all files in the current directory, press Y, then press Enter. To cancel deletion, press N, then press Enter.<br>Before using wildcards in del command, use the same wildcards in dir command to list all files to be deleted.</p></li></ul><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> c:\test                // Delete all files <span class="keyword">in</span> test folder on drive C</span><br><span class="line"><span class="built_in">del</span> c:\test\*.*            // Same as above</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\&quot;      // Delete all files <span class="keyword">in</span> folder with space <span class="keyword">in</span> name, need to use double quotes around full <span class="built_in">path</span></span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\*.*&quot;   // Same as above</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> *.bat                  // Delete all files with .bat extension <span class="keyword">in</span> current directory</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> /a:r *.*               // Delete all read-only files <span class="keyword">in</span> current directory</span><br></pre></td></tr></table></figure><h4 id="8-cls-command"><a href="#8-cls-command" class="headerlink" title="8. cls command"></a>8. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cls">cls command</a></h4><p>Clear the command prompt window.</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cls</span>    // Similar to linux&#x27;s clear</span><br></pre></td></tr></table></figure><h4 id="9-ping-command"><a href="#9-ping-command" class="headerlink" title="9. ping command"></a>9. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/ping">ping command</a></h4><p>Through sending Internet Control Message Protocol (ICMP) Echo Request Messages, verify IP level connection with another TCP/IP computer.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> [/t] [/a] [/n &lt;count&gt;] [/l &lt;size&gt;] [/f] [/I &lt;TTL&gt;] [/v &lt;TOS&gt;] [/r &lt;count&gt;] [/s &lt;count&gt;] [&#123;/j &lt;hostlist&gt; | /k &lt;hostlist&gt;&#125;] [/w &lt;timeout&gt;] [/R] [/S &lt;Srcaddr&gt;] [/<span class="number">4</span>][/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/t</code></td><td>Specifies that ping continues to send Echo Request Messages to the target until interrupted. Press Ctrl+Enter to interrupt and display statistics. Press Ctrl+C to interrupt and exit this command.</td></tr><tr><td><code>/a</code></td><td>Specifies Reverse Name Resolution for the target IP address. If this operation succeeds, ping displays the corresponding host name.</td></tr><tr><td><code>/n &lt;count&gt;</code></td><td>Specifies the number of Echo Request Messages to send. Default value is 4.</td></tr><tr><td><code>/l &lt;size&gt;</code></td><td>Specifies the length of the “data” field in the Echo Request Message (in bytes). Default value is 32. Maximum size is 65,500.</td></tr><tr><td><code>/f</code></td><td>Specifies that Echo Request Message is sent with the “Don’t Fragment” flag set to 1 in the IP header (only available on IPv4). Echo Request Message cannot be fragmented by routers on the path. This parameter can be used to troubleshoot Path Maximum Transmission Unit (PMTU) issues.</td></tr><tr><td><code>/I &lt;TTL&gt;</code></td><td>Specifies the value of the Time to Live (TTL) field in the IP header of the sent Echo Request Message. Default value is the default TTL value of the host. Maximum TTL is 255.</td></tr><tr><td><code>/v &lt;TOS&gt;</code></td><td>Specifies the value of the Type of Service (TOS) field in the IP header of the sent Echo Request Message (only available on IPv4). Default value is 0. TOS specified as a decimal value between 0 and 255.</td></tr><tr><td><code>/r &lt;count&gt;</code></td><td>Specifies that the “Record Route” option in the IP header is used to record the path taken by Echo Request Message and corresponding Echo Reply Message (only available on IPv4). Each hop in the path uses an entry in the “Record Route” option. If possible, specify a count equal to or greater than the number of hops between source and target. Count must be at least 1 and maximum 9.</td></tr><tr><td><code>/s &lt;count&gt;</code></td><td>Specifies that the “Internet Timestamp” option in the IP header is used to record arrival time of Echo Request Message and corresponding Echo Reply Message at each hop. Count must be at least 1 and maximum 4. For local link target address, this parameter is required.</td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>Specifies that Echo Request Message uses the “Loose Source Routing” option in the IP header, it has hostlist specified in the group of intermediate targets (only available on IPv4). When using Loose Source Routing, consecutive intermediate targets can be separated by one or more routers. Host list address or name count in hostlist does not exceed 9. Host list is a series of space-separated IP addresses (in dot-decimal format).</td></tr><tr><td><code>/k &lt;hostlist&gt;</code></td><td>Specifies that Echo Request Message uses the “Strict Source Routing” option in the IP header, it has hostlist specified in the group of intermediate targets (only available on IPv4). When using Strict Source Routing, the next intermediate target must be directly accessible (it must be adjacent to the router interface). Host list address or name count in hostlist does not exceed 9. Host list is a series of space-separated IP addresses (in dot-decimal format).</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>Specifies the time (in milliseconds) to wait for Echo Reply Message corresponding to the given Echo Request Message. If Echo Reply Message is not received within the timeout value, “Request Timed Out” error message is displayed. Default timeout value is 4000 (4 seconds).</td></tr><tr><td><code>/R</code></td><td>Specifies Track Route (only available on IPv6).</td></tr><tr><td><code>/S &lt;Srcaddr&gt;</code></td><td>Specifies the source address to use in the Echo Request Message (only available on IPv6).</td></tr><tr><td><code>/4</code></td><td>Specifies that ping uses IPv4. This parameter is not required when identifying target host by IP address. It is required when identifying target host by name.</td></tr><tr><td><code>/6</code></td><td>Specifies that ping uses IPv6. This parameter is not required when identifying target host by IP address. It is required when identifying target host by name.</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>Specifies the target host name or IP address.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> /a <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>              // <span class="built_in">Ping</span> target <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> and resolve <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> to host name</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /n <span class="number">10</span> /l <span class="number">1000</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>   // <span class="built_in">Ping</span> target <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> with <span class="number">10</span> <span class="built_in">Echo</span> Request Messages (each message &quot;data&quot; field is <span class="number">1000</span> bytes)</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /r <span class="number">4</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>            // <span class="built_in">Ping</span> target <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> and record <span class="number">4</span> hops <span class="keyword">in</span> route</span><br></pre></td></tr></table></figure><h4 id="10-netstat-command"><a href="#10-netstat-command" class="headerlink" title="10. netstat command"></a>10. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/netstat">netstat command</a></h4><p>Display the number of active TCP connections, computer listening ports, Ethernet statistics, IP routing table, IPv4 statistics, and IPv6 statistics.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat [-a] [-b] [-e] [-n] [-o] [-p &lt;Protocol&gt;] [-r] [-s] [&lt;interval&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>-a</code></td><td>Displays the number of active TCP connections and TCP and UDP ports that the computer is listening on.</td></tr><tr><td><code>-b</code></td><td>Displays the executable file that created each connection or listening port that is involved in creating the connection. In some cases, well-known executable files carry multiple independent components, in these cases, the executable file name is located at the bottom of the [] and the top is the component it calls, and so on, until reaching TCP/IP. Note that this option may be very time-consuming and may fail unless you have sufficient permissions.</td></tr><tr><td><code>-e</code></td><td>Displays Ethernet statistics, such as the number of bytes sent and received and the number of packets sent and received. This parameter can be used with -s.</td></tr><tr><td><code>-n</code></td><td>Displays the number of active TCP connections, but addresses and port numbers are in numeric form and no attempt is made to determine names.</td></tr><tr><td><code>-o</code></td><td>Displays the number of active TCP connections, and includes the process ID (PID) of each connection. You can find applications based on PID in the “Processes” tab in Task Manager. This parameter can be used with <code>-s</code>, <code>-n</code>, and <code>-p</code>.</td></tr><tr><td><code>-p &lt;Protocol&gt;</code></td><td>Displays connections for the Protocol specified. In this case, Protocol can be tcp, udp, tcpv6, or udpv6. If this parameter is used with -s to display statistics by protocol, Protocol can be tcp, udp, icmp, ip, tcpv6, udpv6, icmpv6, or ipv6.</td></tr><tr><td><code>-s</code></td><td>Displays statistics by protocol. The default is to display statistics for TCP, UDP, ICMP, and IP protocols. If IPv6 protocol is installed, it displays statistics for based IPv6 TCP, based IPv6 UDP, ICMPv6, and IPv6 protocols. <code>-p</code> parameter can be used to specify a group of protocols.</td></tr><tr><td><code>-r</code></td><td>Displays the contents of the IP routing table. This is equivalent to the route print command.</td></tr><tr><td><code>&lt;interval&gt;</code></td><td>Displays the selected information repeatedly every interval seconds. Press CTRL+C to stop replaying. If this parameter is omitted, this command prints the selected information only once.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano                  // View network connections, status, and corresponding process ID</span><br><span class="line"></span><br><span class="line">netstat -aon|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;   // View PID corresponding to occupied port</span><br><span class="line"></span><br><span class="line">netstat -e -s                 // Display both Ethernet statistics and statistics <span class="keyword">for</span> all protocols</span><br><span class="line"></span><br><span class="line">netstat -s -p tcp udp         // Display statistics only <span class="keyword">for</span> TCP and UDP protocols</span><br><span class="line"></span><br><span class="line">netstat -o <span class="number">5</span>                  // Display active TCP connections and process ID every <span class="number">5</span> seconds</span><br><span class="line"></span><br><span class="line">netstat -n -o                 // Display active TCP connections and process ID <span class="keyword">in</span> numeric form</span><br></pre></td></tr></table></figure><h4 id="11-tasklist-command"><a href="#11-tasklist-command" class="headerlink" title="11. tasklist command"></a>11. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tasklist">tasklist command</a></h4><p>Display a list of currently running processes on the local computer or remote computer.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p &lt;password&gt;]]] [&#123;/m &lt;module&gt; | /svc | /v&#125;] [/fo &#123;table | list | csv&#125;] [/nh] [/fi &lt;filter&gt; [/fi &lt;filter&gt; [ ... ]]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>Specifies the name or IP address of the remote computer (do not use backslashes). Default is the local computer.</td></tr><tr><td><code>/u &lt;domain&gt;\&lt;username&gt;</code></td><td>Uses the account permissions of the user specified in <code>&lt;username&gt;</code> or <code>&lt;domain&gt;\&lt;username&gt;</code> to run the command. You can only specify <code>/u</code> parameter when also specifying <code>/s</code>. Default value is the permissions of the user currently logged on to the computer issuing the command.</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td>Specifies the password for the user account specified in the <code>/u</code> parameter.</td></tr><tr><td><code>/m &lt;module&gt;</code></td><td>Lists all tasks that have loaded DLL modules that match the given pattern name. If no module name is specified, this option displays all modules loaded by each task.</td></tr><tr><td><code>svc</code></td><td>Lists all service information for each process, without truncating. Valid when <code>/fo</code> parameter is set to table.</td></tr><tr><td><code>/v</code></td><td>Displays detailed task information in the output. To get full detailed output without truncating, use <code>/v</code> and <code>/svc</code>.</td></tr><tr><td><code>/fo &#123;table | list | csv&#125;</code></td><td>Specifies the format to use for output. Valid values are table, list, or csv. The default format for output is table.</td></tr><tr><td><code>/nh</code></td><td>Cancels displaying column headings in the output. Valid when <code>/fo</code> parameter is set to table or csv.</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>Specifies to include or exclude a type of process in the query. Multiple filters or wildcard (<code>\</code>) can be used to specify all tasks or image names. The “Filter Name, Operator, and Value” section below lists valid filters.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist                                // Get PID process list</span><br><span class="line"></span><br><span class="line">tasklist|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;                 // View process specified PID</span><br><span class="line"></span><br><span class="line">tasklist /fi &quot;IMAGENAME eq nginx.exe&quot;   // <span class="built_in">Find</span> all processes with image name nginx.exe</span><br></pre></td></tr></table></figure><h4 id="12-taskkill-command"><a href="#12-taskkill-command" class="headerlink" title="12. taskkill command"></a>12. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/taskkill">taskkill command</a></h4><p>Kill process task and process ID</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p [&lt;password&gt;]]]] &#123;[/fi &lt;filter&gt;] [...] [/pid &lt;processID&gt; | /im &lt;imagename&gt;]&#125; [/f] [/t]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>Specifies the name or IP address of the remote computer (do not use backslashes). Default is the local computer.</td></tr><tr><td><code>/u &lt;domain&gt;\&lt;username&gt;</code></td><td>Uses the account permissions of the user specified in <code>&lt;username&gt;</code> or <code>&lt;domain&gt;\&lt;username&gt;</code> to run the command. You can only specify <code>/u</code> parameter when also specifying <code>/s</code>. Default value is the permissions of the user currently logged on to the computer issuing the command.</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td>Specifies the password for the user account specified in the <code>/u</code> parameter.</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>Applies filter to select a group of tasks. Multiple filters or wildcard (*) can be used to specify all tasks or image names. The “Filter Name, Operator, and Value” section below lists valid filters.</td></tr><tr><td><code>/pid &lt;processID&gt;</code></td><td>Specifies the process ID of the process to terminate.</td></tr><tr><td><code>/im &lt;imagename&gt;</code></td><td>Specifies the image name of the process to terminate. Use wildcard (*) to specify all image names.</td></tr><tr><td><code>/f</code></td><td>Specifies forced termination. This parameter is ignored for remote processes; all remote processes are forced to end.</td></tr><tr><td><code>/t</code></td><td>Ends the specified process and any child processes it starts.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /PID <span class="number">8080</span>         // Kill process with PID <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /T /F /PID <span class="number">8080</span>   // Force (/F parameter) kill all processes with PID <span class="number">8080</span> including child processes (/T parameter)</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /IM nginx.exe     // Kill all processes with image name nginx.exe</span><br></pre></td></tr></table></figure><h4 id="13-tracert-command"><a href="#13-tracert-command" class="headerlink" title="13. tracert command"></a>13. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tracert">tracert command</a></h4><p>tracert is also called Windows Route Trace Utility, in the command prompt (cmd) you can use tracert command to determine the path IP data packet accesses the target.</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert [/d] [/h &lt;maximumhops&gt;] [/j &lt;hostlist&gt;] [/w &lt;timeout&gt;] [/R] [/S &lt;srcaddr&gt;] [/<span class="number">4</span>][/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/d</code></td><td><code>Stop trying to resolve the IP address of intermediate routers. This can speed up the result return speed.</code></td></tr><tr><td><code>/h &lt;maximumhops&gt;</code></td><td><code>Specifies the maximum number of hops in the path to search for the target. Default value is 30 hops.</code></td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>Specifies that Echo Request Message uses the “Loose Source Routing” option in the IP header, it has hostlist specified in the group of intermediate targets. When using Loose Source Routing, consecutive intermediate targets can be separated by one or more routers. List address or name count in hostlist does not exceed 9. <code>&lt;hostlist&gt;</code> is a series of space-separated IP addresses (in dot-decimal format). This parameter is used only when tracing IPv4 address.</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>Specifies the time (in milliseconds) to wait for Echo Reply Message corresponding to the given Echo Request Message. If Echo Reply Message is not received within the timeout value, a star (*) is displayed. Default timeout value is 4000 (4 seconds).</td></tr><tr><td><code>/R</code></td><td>Specifies that Echo Request Message is sent to local host with IPv6 Routing Extension Header, target used as intermediate target and test reverse route.</td></tr><tr><td><code>/S &lt;srcaddr&gt;</code></td><td>Specifies the source address to use in the Echo Request Message. This parameter is used only when tracing IPv6 address.</td></tr><tr><td><code>/4</code></td><td>Specifies that tracert.exe uses IPv4 only for this trace.</td></tr><tr><td><code>/6</code></td><td>Specifies that tracert.exe uses IPv6 only for this trace.</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>Specifies the target, identified by IP address or host name.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert www.microsoft.com        // Track <span class="built_in">path</span> to host named www.microsoft.com</span><br><span class="line"></span><br><span class="line">tracert /d www.microsoft.com     // Track <span class="built_in">path</span> to host named www.microsoft.com, and prevent each IP address from being resolved to its name</span><br></pre></td></tr></table></figure><h4 id="14-start-command"><a href="#14-start-command" class="headerlink" title="14. start command"></a>14. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/start">start command</a></h4><p>Start a separate command prompt window to run the specified program or command.</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">start</span> &lt;&quot;<span class="built_in">title</span>&quot;&gt; [/d &lt;<span class="built_in">path</span>&gt;] [/i] [&#123;/min | /max&#125;] [&lt;command&gt; [&lt;parameter&gt;... ] | &lt;program&gt; [&lt;parameter&gt;... ]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>&quot;title&quot;</code></td><td>Specifies the title to display in the “Command Prompt” window title bar.</td></tr><tr><td><code>/d &lt;path&gt;</code></td><td>Specifies the startup directory.</td></tr><tr><td><code>/i</code></td><td>Passes the Cmd.exe startup environment to the new “Command Prompt” window. If not specified /i, the current environment is used.</td></tr><tr><td><code>&lt;command&gt; [&lt;parameter&gt;... ]</code></td><td>Specifies the command to start, &lt;parameter&gt; is command parameter.</td></tr><tr><td><code>&lt;program&gt; [&lt;parameter&gt;... ]</code></td><td>Specifies the program to start, &lt;parameter&gt; is program parameter.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// Open new command prompt window <span class="built_in">set</span> <span class="built_in">path</span> to D:\workspace\project and execute <span class="built_in">echo</span> Hello World</span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; /d D:\workspace\project <span class="built_in">cmd</span> /k <span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure><h4 id="15-cmd-command"><a href="#15-cmd-command" class="headerlink" title="15. cmd command"></a>15. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cmd">cmd command</a></h4><p>Start a new instance of the Cmd.exe command interpreter. If no parameters are used, cmd displays the operating system version and copyright information.</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;] [/e:&#123;on | off&#125;] [/f:&#123;on | off&#125;] [/v:&#123;on | off&#125;] [&lt;string&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>/c</code></td><td>Executes the command specified by <code>&lt;string&gt;</code>, then exits the command processor.</td></tr><tr><td><code>/k</code></td><td>Executes the command specified by <code>&lt;string&gt;</code>, and keeps the command processor running.</td></tr><tr><td><code>/s</code></td><td>When used with <code>/c</code> or <code>/k</code>, triggers special non-analyzed rules, which remove the first and last quotes (“) around <code>&lt;string&gt;</code>, but keep the rest of the command unchanged.</td></tr><tr><td><code>/q</code></td><td>Turns off echo.</td></tr><tr><td><code>/d</code></td><td>Disables automatic execution of commands.</td></tr><tr><td><code>/a</code></td><td>Sets the output format to American National Standards Institute (ANSI).</td></tr><tr><td><code>/u</code></td><td>Sets the output format to Unicode.</td></tr><tr><td><code>/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;</code></td><td>Sets background color (b) and foreground color (f).</td></tr><tr><td><code>/e:on</code></td><td>Enables command extension.</td></tr><tr><td><code>/e:off</code></td><td>Disables command extension.</td></tr><tr><td><code>/f:on</code></td><td>Enables file and directory name completion.</td></tr><tr><td><code>/f:off</code></td><td>Disables file and directory name completion.</td></tr><tr><td><code>/v:on</code></td><td>Enables delayed environment variable expansion.</td></tr><tr><td><code>/v:off</code></td><td>Disables delayed environment variable expansion.</td></tr><tr><td><code>&lt;string&gt;</code></td><td>Specifies the command to execute.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p>The following table lists valid hexadecimal digits that can be used as &lt;b&gt; and &lt;f&gt; values:</p><table><thead><tr><th>Value</th><th>Color</th></tr></thead><tbody><tr><td>0</td><td>Black</td></tr><tr><td>1</td><td>Blue</td></tr><tr><td>2</td><td>Green</td></tr><tr><td>3</td><td>Aqua</td></tr><tr><td>4</td><td>Red</td></tr><tr><td>5</td><td>Purple</td></tr><tr><td>6</td><td>Yellow</td></tr><tr><td>7</td><td>White</td></tr><tr><td>8</td><td>Gray</td></tr><tr><td>9</td><td>Light Blue</td></tr><tr><td>a</td><td>Light Green</td></tr><tr><td>b</td><td>Light Blue Green</td></tr><tr><td>c</td><td>Light Red</td></tr><tr><td>d</td><td>Light Purple</td></tr><tr><td>e</td><td>Light Yellow</td></tr><tr><td>F</td><td>Bright White</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// <span class="keyword">If</span> you want to redirect the output of a command to the input of another command, use the pipe (|) character. <span class="keyword">For</span> example:</span><br><span class="line">&lt;command1&gt; | &lt;command2&gt;</span><br><span class="line"></span><br><span class="line">// <span class="keyword">If</span> you want to use multiple commands <span class="keyword">for</span> &lt;string&gt;, use command separator &amp;&amp; to separate them. <span class="keyword">For</span> example:</span><br><span class="line">&lt;command1&gt;&amp;&amp;&lt;command2&gt;&amp;&amp;&lt;command3&gt;</span><br><span class="line"></span><br><span class="line">// <span class="keyword">If</span> the provided directory <span class="built_in">path</span>, file, or any information contains spaces, you must enclose the text <span class="keyword">in</span> double quotes (&quot;) <span class="keyword">if</span> it is a directory <span class="built_in">path</span> or filename. <span class="keyword">For</span> example:</span><br><span class="line"><span class="built_in">mkdir</span> Test&amp;&amp;<span class="built_in">mkdir</span> &quot;Test <span class="number">2</span>&quot;&amp;&amp;<span class="built_in">move</span> &quot;Test <span class="number">2</span>&quot; Test</span><br></pre></td></tr></table></figure><h4 id="16-echo-and-echo-command"><a href="#16-echo-and-echo-command" class="headerlink" title="16. echo and @echo command"></a>16. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/echo">echo and @echo command</a></h4><p>Display a message or open or close command echo functionality. If not used with any parameters, echo displays the current echo setting.<br>echo and @echo command difference: Adding @ will not display command line content</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> [&lt;message&gt;]</span><br><span class="line"><span class="built_in">echo</span> [on | off]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>[on | off]</code></td><td>Opens or closes command echo functionality. Command echo functionality is enabled by default.</td></tr><tr><td><code>&lt;message&gt;</code></td><td>Specifies the text to display on the screen.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> Hello World</span><br><span class="line">// Displays the following content</span><br><span class="line">// $ D:\workspace\scripts&gt;<span class="built_in">echo</span> Hello World</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World</span><br><span class="line">// Displays</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off  // Prevent all commands (including <span class="built_in">echo</span> off command) from displaying on screen <span class="keyword">in</span> batch file</span><br><span class="line">@<span class="built_in">echo</span> on   // Turn on commands to display on screen <span class="keyword">in</span> batch file</span><br></pre></td></tr></table></figure><p><strong>Notes</strong><br>When <code>echo</code> is turned off, <code>echo &lt;message&gt;</code> command is more useful. If you want to display a message that spans several lines without displaying any command, you can add multiple <code>echo &lt;message&gt;</code> commands after <code>echo off</code> command in the batch file.</p><p>When echo is turned off, the command prompt does not appear in the “Command Prompt” window. If you want to display the command prompt, type <code>echo on</code>.</p><p>If you use <code>echo</code> in a batch file and the batch file contains empty variables, you will see “echo off” message. To prevent seeing this message, instead generate an empty line, place a colon (<code>:</code>) between <code>echo</code> and variable. For example <code>echo:%var%</code>.</p><p>If you want to prevent echoing specific commands in a batch file, place (<code>@</code>) symbol before the command. If you want to prevent echoing all commands in a batch file, place <code>echo off</code> command at the beginning of the file.</p><p>If you want to display exclamation mark (<code>!</code>) at the end of a word or phrase in a batch file, place a caret (<code>^</code>) before exclamation mark, then place exclamation mark, and enclose this string in double quotes (<code>Hello World^!</code>). Alternatively, you can use double caret (<code>^^</code>) without using double quotes (<code>Hello World^^!</code>).</p><p>If you want to display vertical line (<code>|</code>), ampersand (<code>&amp;</code>) or redirection character (<code>&lt;</code> or <code>&gt;</code>) when using <code>echo</code>, place a caret (<code>^</code>) before the character. For example <code>^|</code>, <code>^&amp;</code>, <code>^&gt;</code> or <code>^&lt;</code>. If you want to display caret, type two caret (<code>^^</code>) consecutively.</p><h4 id="17-set-command"><a href="#17-set-command" class="headerlink" title="17. set command"></a>17. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/set_1">set command</a></h4><p>Display, set, or delete cmd.exe environment variable. If not used with any parameters, set displays the current environment variable setting.<br><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> [&lt;variable&gt;=[&lt;string&gt;]]</span><br><span class="line"><span class="built_in">set</span> [/p] &lt;variable&gt;=[&lt;promptString&gt;]</span><br><span class="line"><span class="built_in">set</span> /a &lt;variable&gt;=&lt;expression&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>&lt;variable&gt;</code></td><td>Specifies the environment variable to set or modify.</td></tr><tr><td><code>&lt;string&gt;</code></td><td>Specifies the string to associate with the specified environment variable.</td></tr><tr><td><code>/p</code></td><td>Sets <code>&lt;variable&gt;</code> value to a line input from the user.</td></tr><tr><td><code>&lt;promptstring&gt;</code></td><td>Specifies the message to prompt the user for input. This parameter must be used with <code>/p</code> parameter.</td></tr><tr><td><code>/a</code></td><td>Sets <code>&lt;string&gt;</code> to a calculated numeric expression.</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>Specifies a numeric expression.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> /p text=Please enter:        // Please enter: is placeholder, input text after variable text is <span class="built_in">set</span> to input content.</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=Save as file? (y/n)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%isSave%</span></span><br></pre></td></tr></table></figure><h4 id="18-if-command"><a href="#18-if-command" class="headerlink" title="18. if command"></a>18. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/if">if command</a></h4><p>Execute conditional processing in a batch program.</p><p><strong>Syntax</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">ERRORLEVEL</span> &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] &lt;string1&gt;==&lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">exist</span> &lt;filename&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><p>If command extension is enabled, use the following syntax:</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [/i] &lt;string1&gt; &lt;compareop&gt; &lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> cmdextversion &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">defined</span> &lt;variable&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>not</code></td><td>Specifies that the command should be executed only when the condition is false.</td></tr><tr><td><code>errorlevel &lt;number&gt;</code></td><td>Specifies a true condition only when the exit code of the last program run by Cmd.exe is equal to or greater than number.</td></tr><tr><td><code>&lt;command&gt;</code></td><td>Specifies the command to execute when the above condition is true.</td></tr><tr><td><code>&lt;string1&gt;==&lt;string2&gt;</code></td><td>Specifies a true condition only when string1 and string2 are the same. These values can be strings or batch variables (for example, %1). Do not enclose strings in quotes.</td></tr><tr><td><code>exist &lt;filename&gt;</code></td><td>Specifies a true condition if the specified filename exists.</td></tr><tr><td><code>&lt;compareop&gt;</code></td><td>Specifies a three-letter comparison operator, including:<ul><li>EQU - Equal</li><li>NEQ - Not Equal</li><li>LSS - Less Than</li><li>LEQ - Less Than or Equal</li><li>GTR - Greater Than</li><li>GEQ - Greater Than or Equal</li></ul></td></tr><tr><td><code>/i</code></td><td>Forces string comparison to ignore case. You can use /i in if string1==string2 form. These comparisons are generic because if string1 and string2 consist only of digits, the strings are converted to numeric values and numeric comparison is performed.</td></tr><tr><td><code>cmdextversion &lt;number&gt;</code></td><td>Specifies a true condition only when the internal version number associated with Cmd.exe command extension functionality is equal to or greater than the specified value. The first version is 1. Large amounts of enhancement are added to command extension when it is incremented by 1. Command extension is disabled by default (enabled command extension).</td></tr><tr><td><code>defined &lt;variable&gt;</code></td><td>Specifies a true condition if the variable is defined.</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>Specifies command line command and any parameters to pass to that command in the else clause.</td></tr><tr><td><code>/?</code></td><td>Displays help at the command prompt.</td></tr></tbody></table><p><strong>Example</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> product.dat <span class="built_in">echo</span> Unable to <span class="built_in">find</span> product.dat file</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> product.dat (</span><br><span class="line">  <span class="built_in">del</span> product.dat</span><br><span class="line">) <span class="keyword">ELSE</span> (</span><br><span class="line">  <span class="built_in">echo</span> Unable to <span class="built_in">find</span> product.dat file</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>Notes</strong></p><ul><li>If the condition in the if clause is true, the command following the condition is executed. If the condition is false, the commands in the if clause are ignored and the command following the else clause is executed.</li><li>Program stops when it returns an exit code. If you want to use exit code as a condition, use errorlevel parameter.</li><li><ul><li>%errorlevel%: Expands to a string representation of the current value of the ERRORLEVEL environment variable. This variable assumes that no existing environment variable named ERRORLEVEL exists. If it exists, the ERRORLEVEL value is obtained.</li></ul></li><li><ul><li>%cmdcmdline%: Expands to the original command line passed to Cmd.exe before any processing. This assumes that no existing environment variable named CMDCMDLINE exists. If it exists, the CMDCMDLINE value is obtained.</li></ul></li><li><ul><li>%cmdextversion%: Expands to a string representation of the current value of cmdextversion. This assumes that no existing environment variable named CMDEXTVERSION exists. If it exists, the CMDEXTVERSION value is obtained.</li></ul></li><li>You must use else clause on the same line as the command in the if clause.</li></ul><h4 id="19-Auxiliary-symbol-‘-’"><a href="#19-Auxiliary-symbol-‘-’" class="headerlink" title="19.  Auxiliary symbol ‘|’"></a>19. Auxiliary symbol ‘|’</h4><p>“|”cmd command in cmd command | represents the input of the previous command as the input of the next command</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano|<span class="built_in">find</span> &quot;<span class="number">192</span>.<span class="number">168</span>.<span class="number">1</span>.<span class="number">10</span>&quot;  // <span class="built_in">Find</span> specific ip network connection and process ID</span><br></pre></td></tr></table></figure><h4 id="20-Redirection-output-symbol-gt-gt-gt"><a href="#20-Redirection-output-symbol-gt-gt-gt" class="headerlink" title="20  Redirection output symbol&gt; &gt;&gt;"></a>20 Redirection output symbol&gt; &gt;&gt;</h4><p>Store the content originally output to command window to file, such as jstack 12912 &gt;d:/s.txt Print thread to specified file</p><p>cmd &gt; Redirection output and overwrite source file.</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;c:\<span class="number">1</span>.txt   // <span class="number">1</span>.txt file content is cleared before hello is written.</span><br></pre></td></tr></table></figure><p>cmd &gt;&gt; Redirection output append to file end</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;&gt;c:\<span class="number">1</span>.txt  // Add hello to end of <span class="number">1</span>.txt file</span><br></pre></td></tr></table></figure><h4 id="21-Redirection-input-symbol-lt-lt-lt"><a href="#21-Redirection-input-symbol-lt-lt-lt" class="headerlink" title="21.  Redirection input symbol&lt; &lt;&lt;"></a>21. Redirection input symbol&lt; &lt;&lt;</h4><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> &lt; file     // <span class="built_in">cmd</span> command reads from file</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt; text    // Read input from command line until a line ending with text is encountered.</span><br><span class="line">// Unless using quotes to enclose input, this <span class="built_in">mode</span> performs shell variable substitution on input content.</span><br><span class="line">// <span class="keyword">If</span> using &lt;&lt;- , will ignore tab <span class="built_in">at</span> the beginning of next input line, end line can also be a bunch of tab plus a line ending with text, can refer to the example below.</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt;&lt; word   // Provide word (instead of file word) and following newline as input to <span class="built_in">cmd</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&gt; file    // Open file <span class="keyword">in</span> read-write <span class="built_in">mode</span> <span class="keyword">for</span> input, file file will <span class="keyword">not</span> be destroyed. Only meaningful when application utilizes this feature.</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &gt;| file    // Function same as &gt;, but even when noclobber is <span class="built_in">set</span>, will overwrite file file, note use of | rather than some book said !, currently only <span class="keyword">in</span> csh still use ! to implement this feature.</span><br></pre></td></tr></table></figure></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="en" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">Zane&#39;s Blog</a><p>This small world built by me</p></div></footer></div></div></div><script src="/js/i18n.js"></script></body></html>