<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Cookies</title><meta name="author" content="Zane"><meta name="keywords" content="Cookies, Browser, Storage, Operation"><meta name="description" content="Introduce how to use cookies in the browser to store and retrieve data."><meta name="robots" content="index, follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="https://liuzane.github.io/en" hreflang="en"><link rel="alternate" href="https://liuzane.github.io/zh" hreflang="zh"><link rel="alternate" href="https://liuzane.github.io/ja" hreflang="ja"><link rel="alternate" href="https://liuzane.github.io" hreflang="x-default"><link rel="canonical" href="https://liuzane.github.io/en/2020/12/10/cookies.html"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"></head><body><div id="container"><div id="nav" class="frosted-glass"><nav id="nav-wrap"><a class="nav-link" href="/en">Home</a> <a class="nav-link" href="/en/archives">Archives</a> <a class="nav-link" href="/en/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools" target="_blank">Tools</a> <a class="nav-link" href="https://liuzane.github.io/laboratory" target="_blank">Laboratory</a> <a class="nav-link" href="/en/about">About</a></nav></div><div id="nav-lang"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="970" width="1.2rem" height="1.2rem"><path d="M1011.712 399.9744A512.1536 512.1536 0 0 0 512 0C229.2224 0 0 229.2224 0 512c0 282.7264 229.2224 512 512 512s512-229.2736 512-512c0-38.4512-4.2496-75.9808-12.288-112.0256zM94.976 512c0-52.1216 9.5744-101.9392 27.0336-147.968 22.1184 12.544 51.8656 14.848 51.8656 39.7824 0 82.432 3.072 170.8032 82.1248 172.1856 2.2528 0 44.032 15.0528 64 64 6.8608 16.896 34.1504 0 64 0 14.8992 0 0 23.808 0 75.264 0 51.3536 116.6848 130.304 116.6848 130.304-0.512 33.9456 0.9216 61.44 3.8912 83.3536a417.024 417.024 0 0 1-409.6-416.9216z m518.144 404.6336c16.4352-66.4064 24.4224-103.5776 58.7776-131.7888 49.664-40.8576 5.888-86.2208-31.8976-80.896-29.7984 4.3008-10.9568-34.9696-37.5808-37.12-26.624-2.0992-61.2864-52.224-99.584-69.4784-20.2752-9.1648-40.2432-33.6384-71.5264-34.7136-27.7504-1.024-68.2496 22.2208-68.2496 4.3008 0-57.7024-6.144-98.9184-7.424-115.3536-1.024-13.2096-9.1136-4.4544 28.3648-3.584 20.3776 0.512 10.4448-38.8608 30.6176-40.3968 19.8656-1.4848 67.072 17.6128 79.1552 9.984 11.2128-7.0656 82.2272 176.7936 82.2272 30.4128 0-17.408-9.472-47.616 0-64 37.5296-65.024 72.704-117.9648 69.5296-125.7472-1.792-4.352-38.4-7.936-67.6864 1.3824-9.8816 3.072 3.1232 17.7664-11.0592 20.9408-53.1968 11.6224-100.1984-13.6192-83.7632-37.376 16.896-24.2688 77.9264-10.5472 83.3024-59.3408 3.072-27.904 5.632-60.2624 7.3216-84.3264a417.536 417.536 0 0 1 326.4 259.584c-141.9776 103.424-105.6256 175.616-58.9824 216.8832 24.576 21.7088 47.9232 54.3744 63.1808 77.824a417.8944 417.8944 0 0 1-291.1232 262.8096z" p-id="971"></path></svg></div><div id="nav-lang-list"><a class="lang-link" href="/en/2020/12/10/cookies.html" hreflang="en">English</a> <a class="lang-link" href="/zh/2020/12/10/cookies.html" hreflang="zh">简体中文</a> <a class="lang-link" href="/ja/2020/12/10/cookies.html" hreflang="ja">日本語</a></div><div id="scroller"><div id="wrapper"><header id="header" class="frosted-glass"><div class="header-wrapper"><img src="/images/aodamiao.jpg" alt="Zane" class="header-avatar"><p class="header-author">Zane</p><p class="header-description">Study hard and make progress every day</p></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">Cookies</h1><div class="article-meta"><time datetime="2020-12-10T09:53:41.000Z" class="article-date">2020-12-10</time></div></header><div class="article-content"><ul><li><h4 id="setCookie-params"><a href="#setCookie-params" class="headerlink" title="setCookie(params)"></a>setCookie(params)</h4><p>Set Cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@method</span> <span class="variable">setCookie</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">object</span>&#125; <span class="variable">options</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; options.key</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; options.value</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; [options.hours]</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.path]   - path: &#x27;/&#x27;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.domain] - domain: document.domain</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCookie</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>(), expires = <span class="string">&#x27;&#x27;</span>, path = <span class="string">&#x27;&#x27;</span>, domain = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!options.<span class="property">key</span> || !options.<span class="property">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;[Cookie Error]: key, value must be set.&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">hours</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="title class_">Number</span>(options.<span class="property">hours</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;[Cookie Error]: expires must is number.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    time.<span class="title function_">toGMTString</span>(time.<span class="title function_">setTime</span>(time.<span class="title function_">getTime</span>() + <span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * options.<span class="property">hours</span>));</span><br><span class="line">    expires = <span class="string">&#x27;expires=&#x27;</span> + time + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">path</span>) path = <span class="string">&#x27;path=&#x27;</span> + options.<span class="property">path</span> + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">domain</span>) domain = <span class="string">&#x27;domain=&#x27;</span> + options.<span class="property">domain</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">cookie</span> = options.<span class="property">key</span> + <span class="string">&#x27;=&#x27;</span> + options.<span class="property">value</span> + <span class="string">&#x27;;&#x27;</span> + expires + path + domain;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="getCookie-key"><a href="#getCookie-key" class="headerlink" title="getCookie(key)"></a>getCookie(key)</h4><p>Get Cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@method</span> <span class="variable">getCookie</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; key </span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> &#123;<span class="type">undefined|string|null</span>&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!key) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;[Cookie Error]: key is &#x27;</span> + (<span class="keyword">typeof</span> key) + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;(^|; )&#x27;</span> + key + <span class="string">&#x27;=.*?(;|$)&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> result = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(regexp);</span><br><span class="line">  <span class="keyword">const</span> value = result ? result[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/[; ]/g</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>] : <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="deleteCookie-param"><a href="#deleteCookie-param" class="headerlink" title="deleteCookie(param)"></a>deleteCookie(param)</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@method</span> <span class="variable">deleteCookie</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string|object</span>&#125; <span class="variable">param</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; param.key</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [param.path]</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [param.domain]</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> &#123;<span class="type">undefined|string|null</span>&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deleteCookie</span>(<span class="params">param</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> options = <span class="keyword">typeof</span> param === <span class="string">&#x27;object&#x27;</span> ? param : &#123;&#125;;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="keyword">typeof</span> param === <span class="string">&#x27;string&#x27;</span> ? param : options.<span class="property">key</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!key) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;[Cookie Error]: key is &#x27;</span> + (<span class="keyword">typeof</span> key) + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">path</span>) path = <span class="string">&#x27;path=&#x27;</span> + options.<span class="property">path</span> + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">domain</span>) domain = <span class="string">&#x27;domain=&#x27;</span> + options.<span class="property">domain</span> + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;(^|; )&#x27;</span> + key + <span class="string">&#x27;=.*?(;|$)&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> result = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(regexp);</span><br><span class="line">  <span class="keyword">const</span> item = result ? result[<span class="number">0</span>].<span class="title function_">replace</span>(<span class="regexp">/[; ]/g</span>, <span class="string">&#x27;&#x27;</span>) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  time.<span class="title function_">toGMTString</span>(time.<span class="title function_">setTime</span>(<span class="number">0</span>));</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">cookie</span> = item + <span class="string">&#x27;;expires=&#x27;</span> + time + <span class="string">&#x27;;&#x27;</span> + options.<span class="property">path</span> + options.<span class="property">domain</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h4 id="clearCookie-params"><a href="#clearCookie-params" class="headerlink" title="clearCookie(params)"></a>clearCookie(params)</h4><p>Clear Cookie</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@method</span> <span class="variable">clearCookie</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">object</span>&#125; [options]</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.path]</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.domain]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clearCookie</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>), path = <span class="string">&#x27;&#x27;</span>, domain = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!options) options = &#123;&#125;;</span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">path</span>) path = <span class="string">&#x27;path=&#x27;</span> + options.<span class="property">path</span> + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (options.<span class="property">domain</span>) domain = <span class="string">&#x27;domain=&#x27;</span> + options.<span class="property">domain</span> + <span class="string">&#x27;;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> key = arr[i].<span class="title function_">substring</span>(<span class="number">0</span>, arr[i].<span class="title function_">indexOf</span>(<span class="string">&#x27;=&#x27;</span>));</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">cookie</span> = key + <span class="string">&#x27;=0;expires=Thu, 01 Jan 1970 00:00:00 GMT;&#x27;</span> + path + domain;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></div><div class="comment-divider"></div><script src="https://giscus.app/client.js" data-lang="en" data-repo="liuzane&#x2F;liuzane.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMTY3ODEyNDM&#x3D;" data-category="Announcements" data-category-id="DIC_kwDODOvRu84CwfsS" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" crossorigin="anonymous" async></script></article></section><footer id="footer" class="frosted-glass"><div class="footer-wrapper"><a href="/" class="footer-title">Zane&#39;s Blog</a><p>This small world built by me</p></div></footer></div></div></div><script src="/js/i18n.js"></script></body></html>