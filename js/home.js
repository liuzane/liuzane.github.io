"use strict";function judgeTextAttr(e){return void 0!==e.textContent?"textContent":"innerText"}function renderSearchResult(e){contentElement.innerHTML="";var t=e||window.event,n=t.target||t.srcElement;if(n.value.replace(/(^\s*)|(\s*$)/g,"")){var a=search.search(n.value);if(a.length>0){var r=document.createElement("ul");r.className="home-search-wrap";for(var l=0;l<a.length;l++){var o=a[l],c=document.createElement("li");c.className="home-search-item";var d=document.createElement("a");d.className="home-search-link",d.href=o.url;var i=document.createElement("p");i.className="home-search-title",i[judgeTextAttr(i)]=o.title,i.innerHTML=i[judgeTextAttr(i)];var s=document.createElement("p");s.className="home-search-result",s[judgeTextAttr(s)]=o.content,s.innerHTML=s[judgeTextAttr(s)],d.appendChild(i),d.appendChild(s),c.appendChild(d),r.appendChild(c)}contentElement.appendChild(r)}else{var h=document.createElement("p");h.className="home-search-empty",h[judgeTextAttr(h)]="Content not found, try changing the search term.",contentElement.appendChild(h)}}}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("home-search-input"),t=document.getElementById("home-search-loading"),n=document.getElementById("home-search-dropdown"),a=!0,r="loading",l=null,o=document.querySelectorAll('link[rel="alternate"][hreflang]'),c=[];if(o.length>0){for(var d=0;d<o.length;d++)c.push(o[d].getAttribute("hreflang"));for(var i=0;i<c.length;i++)if("x-default"===c[i]){c.splice(i,1);break}}var s=new RegExp("^/?("+c.join("|")+")(/|$)"),h=window.location.pathname.match(s),u="";if(h){u=h[1],new Search({url:"/search."+u+".json",keywordClassName:"home-search-keyword"}).onDataLoadSucceeded=function(){a=!1,clearInterval(l),t.style.display="none",n.style.display="block"},e.addEventListener?e.addEventListener("input",y):e.attachEvent&&e.attachEvent("onpropertychange",y)}else{var m=localStorage.getItem("language"),g=null;if(m){g=null;for(var p=0;p<c.length;p++)if(c[p]===m){g=c[p];break}}else for(var v=navigator.language.split("-")[0],f=0;f<c.length;f++)if(c[f]===v){g=c[f];break}window.location.href="/"+(g||c[0])}function y(e){a?(clearInterval(l),t.innerText=r,t.style.display="block",n.style.display="none",l=setInterval(function(){t.innerText.length>=10?t.innerText=r:t.innerText+=".",a||(clearInterval(l),t.style.display="none",n.style.display="block",renderSearchResult(e))},500)):(clearTimeout(l),l=setTimeout(function(){renderSearchResult(e)},300))}});