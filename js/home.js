"use strict";var inputElement,loadingElement,contentElement,loading=!0,loadingText="loading",time=null,searchInstance=null;function handleInput(e){loading?(clearInterval(time),loadingElement.innerText=loadingText,loadingElement.style.display="block",contentElement.style.display="none",time=setInterval(function(){loadingElement.innerText.length>=10?loadingElement.innerText=loadingText:loadingElement.innerText+=".",loading||(clearInterval(time),loadingElement.style.display="none",contentElement.style.display="block",renderSearchResult(e))},500)):(clearTimeout(time),time=setTimeout(function(){renderSearchResult(e)},300))}function judgeTextAttr(e){return void 0!==e.textContent?"textContent":"innerText"}function renderSearchResult(e){contentElement.innerHTML="";var t=e||window.event,n=t.target||t.srcElement;if(n.value.replace(/(^\s*)|(\s*$)/g,"")){var a=searchInstance.search(n.value);if(a.length>0){var l=document.createElement("ul");l.className="home-search-wrap";for(var r=0;r<a.length;r++){var o=a[r],i=document.createElement("li");i.className="home-search-item";var c=document.createElement("a");c.className="home-search-link",c.href=o.url;var d=document.createElement("p");d.className="home-search-title",d[judgeTextAttr(d)]=o.title,d.innerHTML=d[judgeTextAttr(d)];var m=document.createElement("p");m.className="home-search-result",m[judgeTextAttr(m)]=o.content,m.innerHTML=m[judgeTextAttr(m)],c.appendChild(d),c.appendChild(m),i.appendChild(c),l.appendChild(i)}contentElement.appendChild(l)}else{var s=document.createElement("p");s.className="home-search-empty",s[judgeTextAttr(s)]="Content not found, try changing the search term.",contentElement.appendChild(s)}}}document.addEventListener("DOMContentLoaded",function(){inputElement=document.getElementById("home-search-input"),loadingElement=document.getElementById("home-search-loading"),contentElement=document.getElementById("home-search-dropdown");var e=document.querySelectorAll('link[rel="alternate"][hreflang]'),t=[];if(e.length>0){for(var n=0;n<e.length;n++)t.push(e[n].getAttribute("hreflang"));for(var a=0;a<t.length;a++)if("x-default"===t[a]){t.splice(a,1);break}}var l=new RegExp("^/?("+t.join("|")+")(/|$)"),r=window.location.pathname.match(l),o="";if(r)o=r[1],(searchInstance=new Search({url:"/search."+o+".json",keywordClassName:"home-search-keyword"})).onDataLoadSucceeded=function(){loading=!1,clearInterval(time),loadingElement.style.display="none",contentElement.style.display="block"},inputElement.addEventListener?inputElement.addEventListener("input",handleInput):inputElement.attachEvent&&inputElement.attachEvent("onpropertychange",handleInput);else{var i=localStorage.getItem("language"),c=null;if(i){c=null;for(var d=0;d<t.length;d++)if(t[d]===i){c=t[d];break}}else for(var m=navigator.language.split("-")[0],s=0;s<t.length;s++)if(t[s]===m){c=t[s];break}window.location.href="/"+(c||t[0])}});