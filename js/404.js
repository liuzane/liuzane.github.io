"use strict";document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;if(/\/\d{4}\/\d{2}\/\d{2}\/.+\.html/.test(e)||/^\/(archives|categories)(\/.+)?(\/)?$/.test(e)){/^\/categories\/(cookbook|note|reprint)(\/)?$/.test(e)&&(e=e.slice(0,-1)+"s/");var t=document.querySelectorAll('link[rel="alternate"][hreflang]'),a=[];if(t.length>0){for(var r=0;r<t.length;r++)a.push(t[r].getAttribute("hreflang"));for(var n=0;n<a.length;n++)if("x-default"===a[n]){a.splice(n,1);break}}var o=localStorage.getItem("language"),l="";if(o){for(var i=0;i<a.length;i++)if(a[i]===o){l=a[i];break}}else for(var g=navigator.language.split("-")[0],f=0;f<a.length;f++)if(a[f]===g){l=a[f];break}l||(l=a[0]),window.location.href="/"+l+e}});