"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("nav-lang"),t=document.getElementById("nav-lang-list");if(e&&t){f(e,"click",function(e){u(e),s(-1===t.className.indexOf("hidden"))});for(var n=0;n<t.children.length;n++){var a=t.children[n];f(a,"click",r(a))}f(t,"click",u);var c={en:"little world",zh:"小天地",ja:"小さな世界"},l=document.documentElement.lang,d=document.getElementById("nav"),i=document.getElementById("scroller"),o=document.getElementById("footer").getElementsByTagName("p")[0];o&&f(o,"click",function(e){u(e);var t=c[l],n=o.textContent.indexOf(t);if(-1!==n){var a=o.firstChild,d=document.createRange();d.setStart(a,n),d.setEnd(a,n+t.length);var i=d.getBoundingClientRect(),s=e.x,r=e.y;s>=i.x&&s<=i.x+i.width&&r>=i.y&&r<=i.y+i.height&&m(!0)}}),f(document,"click",function(){-1===t.className.indexOf("hidden")&&s(!0),-1===d.className.indexOf("fade-in")&&m(!1)})}function s(e){t.className=e?(t.className.length>0?t.className+" ":"")+"hidden":t.className.replace("hidden","")}function r(e){return function(t){var n=e.getAttribute("hreflang");n&&localStorage.setItem("language",n)}}function m(e){var t=e?"fade-in":"fade-out",n=e?"fade-out":"fade-in";d.className=d.className.replace(t,n),i.className=i.className.replace(t,n)}function u(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function f(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n)}});