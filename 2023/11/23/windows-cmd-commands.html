<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Windows CMD常用命令大全 - LiuZheng&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="7if7tEoBzofIpEcyTBbXYj68Uwni_Udf_J_RnIMKkx0"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/article.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="container"><div id="nav"><nav id="nav-wrap"><a class="nav-link" href="/">Home</a> <a class="nav-link" href="/archives">Archives</a> <a class="nav-link" href="/categories">Categories</a> <a class="nav-link" href="https://liuzane.github.io/tools">Tools</a> <a class="nav-link" href="/about">About</a></nav><div class="frosted-glass"></div></div><div id="wrapper"><header id="header"><div class="header-wrapper"><img src="/images/aodamiao.jpg" class="header-avatar"><p class="header-author">Zheng Liu</p><p class="header-description">Study hard and make progress every day</p></div><div class="frosted-glass"></div></header><section id="content"><article class="article"><a class="article-back" href="javascript: history.back(-1)">&lt; Back</a><header class="article-header"><h1 class="article-title">Windows CMD常用命令大全</h1><div class="article-meta"><time datetime="2023-11-23T09:23:41.000Z" class="article-date">2023-11-23</time></div></header><div class="article-content"><p><strong>执行 CMD 命令有两种方式：</strong></p><ol><li>通过命令提示符窗口执行命令：鼠标右键开始按钮并弹出菜单，点击运行（快捷键：Win + R），在输入框内输入 cmd 点击确定。</li><li>通过创建后缀名为 .cmd 或 .bat 的脚本文件执行 CMD 命令。</li></ol><h4 id="创建-cmd-脚本文件执行-CMD-命令。"><a href="#创建-cmd-脚本文件执行-CMD-命令。" class="headerlink" title="创建 .cmd 脚本文件执行 CMD 命令。"></a>创建 .cmd 脚本文件执行 CMD 命令。</h4><p>这里将会创建一个标题为 Hello World 的命令提示符窗口，并在里面执行输出 Hello World!，创建文件等操作。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem start.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem &quot;rem&quot;和&quot;::&quot;是批处理中的注释</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; <span class="built_in">cmd</span> /k .\input.bat</span><br></pre></td></tr></table></figure><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem input.cmd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem chcp 改变页面编码，UTF-8的代码是65001，解决命令行中文乱码问题</span></span><br><span class="line"><span class="built_in">chcp</span> <span class="number">65001</span></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World!</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p text=请输入： (PS: 使用<span class="built_in">set</span>设置变量, 使用/p参数阻塞命令, 等待输入完成后再执行其他命令.)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> 你输入的内容为<span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=是否保存为文件？(y/n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> &quot;<span class="variable">%isSave%</span>&quot; == &quot;y&quot; (</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> 输入的内容.txt (</span><br><span class="line">    @<span class="built_in">echo</span> 输入的内容.txt 文件已存在</span><br><span class="line">  )</span><br><span class="line">  @<span class="built_in">echo</span> <span class="variable">%text%</span>&gt;&gt;输入的内容.txt</span><br><span class="line">  @<span class="built_in">echo</span> 文件已保存.</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">  <span class="built_in">echo</span> 不保存文件.</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><h2 id="附录：-Windows-命令大全"><a href="#附录：-Windows-命令大全" class="headerlink" title="附录： Windows 命令大全"></a>附录： <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/windows-commands">Windows 命令大全</a></h2><h4 id="1-cd-命令-chdir-命令"><a href="#1-cd-命令-chdir-命令" class="headerlink" title="1. cd 命令, (chdir 命令)"></a>1. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cd">cd 命令</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/chdir">(chdir 命令)</a></h4><p>显示当前目录的名称或更改当前目录。 如果仅与驱动器号一起使用（例如，cd C:），cd 将显示指定驱动器中当前目录的名称。 如果使用时不带参数，cd 将显示当前驱动器和目录。<br><strong>如果跳转的路径在不同盘需要添加/d参数，否则无法跳转。</strong></p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> [/d] [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;]</span><br><span class="line"><span class="built_in">cd</span> [..]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/d</code></td><td>更改当前驱动器以及驱动器的当前目录。</td></tr><tr><td><code>&lt;drive&gt;:</code></td><td>指定要显示或更改的驱动器（如果与当前驱动器不同）。</td></tr><tr><td><code>&lt;path&gt;</code></td><td>指定要显示或更改的目录的路径。</td></tr><tr><td><code>[..]</code></td><td>指定要更改为父文件夹。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="comment">rem  CMD 执行路径: $ C:\Users\liuzane&gt;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">D:                  // 进入<span class="title">d</span>盘</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:                  // 进入<span class="title">F</span>盘</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> \                // 跳转到当前硬盘的根目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> <span class="title">C</span>:\<span class="title">WINDOWS</span>       // 跳转到<span class="title">C</span>盘的<span class="title">WINDOWS</span>文件夹，（相同驱动器下不需要/<span class="title">d</span>参数）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span> /<span class="title">d</span> <span class="title">e</span>:\<span class="title">software</span>   // 跳转到<span class="title">e</span>盘的<span class="title">software</span>文件夹，（需要添加/<span class="title">d</span>参数）</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">cd</span>..                // 跳转到上一层目录</span></span><br></pre></td></tr></table></figure><h4 id="2-dir-命令"><a href="#2-dir-命令" class="headerlink" title="2. dir 命令"></a>2. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/dir">dir 命令</a></h4><p>显示目录的文件和子目录的列表。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span> [&lt;drive&gt;:][&lt;<span class="built_in">path</span>&gt;][&lt;filename&gt;] [...] [/p] [/q] [/w] [/d] [/a[[:]&lt;attributes&gt;]][/o[[:]&lt;sortorder&gt;]] [/t[[:]&lt;timefield&gt;]] [/s] [/b] [/l] [/n] [/x] [/c] [/<span class="number">4</span>] [/r]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:][&lt;path&gt;]</code></td><td>指定要查看其列表的驱动器和目录。</td></tr><tr><td><code>[&lt;filename&gt;]</code></td><td>指定要查看其列表的特定文件或文件组。</td></tr><tr><td><code>/p</code></td><td>一次显示一个列表屏幕。 要查看下一个屏幕，请按任意键。</td></tr><tr><td><code>/q</code></td><td>显示文件所有权信息。</td></tr><tr><td><code>/w</code></td><td>以宽格式显示列表，每行最多包含五个文件名或目录名称。</td></tr><tr><td><code>/d</code></td><td>以与 /w 相同的格式显示列表，但文件按列排序。</td></tr><tr><td><code>/a[[:]&lt;attributes&gt;]</code></td><td>仅显示具有指定属性的目录和文件的名称。 如果不使用此参数，此命令将显示除隐藏文件和系统文件之外的所有文件的名称。 如果在未指定任何属性的情况下使用此参数，则此命令将显示所有文件的名称，包括隐藏文件和系统文件。 可能的属性值列表包括：<ul><li>d - 目录</li><li>h - 隐藏文件</li><li>s - 系统文件</li><li>l - 重新分析点</li><li>r - 只读文件</li><li>a - 可用于存档的文件</li><li>i - 非内容索引文件</li></ul>你可以使用这些值的任意组合，但不要使用空格分隔值。 （可选）可以使用冒号 (<code>:</code>) 分隔符，或者你可以使用连字符 (<code>-</code>) 作为前缀来表示“非”。 例如，使用 <code>-s</code> 属性不会显示系统文件。</td></tr><tr><td><code>/o[[:]&lt;sortorder&gt;]</code></td><td>根据 sortorder 对输出进行排序，可以是以下值的任意组合：<ul><li>n - 按名称字母顺序排列</li><li>e - 按扩展名字母顺序排列</li><li>g - 首先列出组目录</li><li>s - 按大小，最先列出最小的文件</li><li>d - 按日期/时间，最先列出最早的文件</li><li>使用 - 前缀可反转排序顺序</li></ul>多个值将按照你列出它们的顺序进行处理。 不要用空格分隔多个值，但可以选择使用冒号 (<code>:</code>)。<br>如果未指定 sortorder，则 <code>dir /o</code> 将按字母顺序列出目录，后跟文件，这些文件也按字母顺序排序。</td></tr><tr><td><code>/t[[:]&lt;timefield&gt;]</code></td><td>指定要显示或用于排序的时间字段。 timefield 的可用值包括：<ul><li>c - 创建时间</li><li>a - 上次访问时间</li><li>w - 最后写入时间</li></ul></td></tr><tr><td><code>/s</code></td><td>列出指定目录和所有子目录中出现的指定文件名的每个匹配项。</td></tr><tr><td><code>/b</code></td><td>显示纯粹的目录和文件列表，不含其他信息。 <code>/b</code> 参数将覆盖 <code>/w</code>。</td></tr><tr><td><code>/l</code></td><td>使用小写显示未排序的目录名称和文件名。</td></tr><tr><td><code>/n</code></td><td>在屏幕最右侧显示带有文件名的长列表格式。</td></tr><tr><td><code>/x</code></td><td>显示为非 8dot3 文件名生成的短名称。 显示内容与 <code>/n</code> 的显示内容相同，但短名称插入到长名称之前。</td></tr><tr><td><code>/c</code></td><td>以千位分隔符显示文件大小。 此选项为默认行为。 使用 <code>/-c</code> 隐藏分隔符。</td></tr><tr><td><code>/4</code></td><td>以四位数格式显示年份。</td></tr><tr><td><code>/r</code></td><td>以四位数格式显示年份。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>注解</strong></p><ul><li><p>若要使用多个 filename 参数，请用空格、逗号或分号分隔每个文件名。</p></li><li><p>可以使用通配符（* 或 ?）来表示文件名的一个或多个字符，并显示文件或子目录的子集。</p></li><li><p>可以使用通配符 * 来替换任何字符串，例如：</p></li><li><ul><li><code>dir *.txt</code> 将列出当前目录中扩展名以 .txt 开头的所有文件，例如 .txt、.txt1、.txt_old。</li></ul></li><li><ul><li><code>dir read *.txt</code> 将列出当前目录中以 read 开头并且扩展名以 .txt 开头的所有文件，例如 .txt、.txt1 或 .txt_old。</li></ul></li><li><ul><li><code>dir read *.*</code> 将列出当前目录中以 read 开头的所有文件（无论任何扩展名）。 星号通配符始终使用短文件名映射，因此你可能会得到意外的结果。 例如，以下目录包含两个文件（t.txt2 和 t97.txt）： 你可能期望键入 <code>dir t97\*</code> 后将返回文件 t97.txt。 但是，键入 dir t97* 会返回这两个文件，因为星号通配符使用其短名称映射 T97B4~1.TXT，因此会认为文件 t.txt2 与 t97.txt 匹配。 同样，键入 del t97* 会删除这两个文件。</li></ul></li><li><p>可以使用问号 (<code>?</code>) 代替名称中的单个字符。 例如，键入 <code>dir read???.txt</code> 会列出当前目录中扩展名为 .txt 的任何文件，这些文件以 read 开头，后跟最多三个字符。 这包括 Read.txt、Read1.txt、Read12.txt、Read123.txt 和 Readme1.txt，但不包括 Readme12.txt。</p></li><li><p>如果在 attributes 中使用 <code>/a</code> 和多个值，则此命令仅显示具有所有指定属性的文件的名称。 例如，如果将 <code>/a</code> 与 <code>r</code> 和 <code>-h</code> 一起使用作为属性（使用 <code>/a:r-h</code> 或 <code>/ar-h</code>），则此命令将仅显示未隐藏的只读文件的名称。</p></li><li><p>如果指定多个 sortorder 值，则此命令将首先按第一个条件对文件名进行排序，然后按第二个条件排序，依此类推。 例如，如果将 <code>/o</code> 与 sortorder 的 <code>e</code> 和 <code>-s</code> 参数一起使用（使用 <code>/o:e-s</code> 或 /oe-s），则此命令按扩展名对目录和文件的名称进行排序，首先显示最大的文件，然后显示最终结果。 按扩展名按字母顺序排序会导致首先显示没有扩展名的文件名，然后显示目录名称，然后显示带有扩展名的文件名。</p></li><li><p>如果使用重定向符号 (<code>&gt;</code>) 将此命令的输出发送到文件，或者使用管道符号 (<code>|</code>) 将此命令的输出发送到另一个命令，则必须使用 <code>/a:-d</code> 和 <code>/b</code>，以仅列出文件名。 可以将 filename 与 <code>/b</code> 和 <code>/s</code> 一起使用，以指定此命令要在当前目录及其子目录中搜索与 filename 参数匹配的所有文件名。 此命令仅列出它找到的每个文件名的驱动器号、目录名、文件名和文件扩展名（每行一个路径）。 在使用管道符号将此命令的输出发送到另一个命令之前，应首先在 Autoexec.nt 文件中设置 TEMP 环境变量。</p></li></ul><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">dir</span>                       // 查看当前目录下的文件，类似于linux下的ls</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> /s/w/o/p/a:-d         // 显示文件名和扩展名，但省略目录名称</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> c:\*.txt /w/o/s/p     // 显示驱动器 C 上所有目录中扩展名为.txt 的所有文件名的列表</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> &gt; \records\<span class="built_in">dir</span>.doc    // 将 <span class="built_in">dir</span> 命令的输出重定向到文件</span><br><span class="line">                          // 如果 <span class="built_in">dir</span>.doc 不存在，<span class="built_in">dir</span> 将创建此文件</span><br><span class="line">                          // 除非 records 目录不存在。 如果 records 目录不存在</span><br><span class="line">                          // 将显示消息： `File creation error`</span><br></pre></td></tr></table></figure><h4 id="3-md-命令-mkdir-命令"><a href="#3-md-命令-mkdir-命令" class="headerlink" title="3. md 命令, (mkdir 命令)"></a>3. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/md">md 命令</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/mkdir">(mkdir 命令)</a></h4><p>创建目录或子目录。 命令扩展（默认情况下启用）允许使用单个 md 命令在指定路径中创建中间目录。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;drive&gt;:</code></td><td>指定要在其中创建新目录的驱动器。</td></tr><tr><td><code>&lt;path&gt;</code></td><td>指定新目录的名称和位置。 任何单个路径的最大长度都是由文件系统决定的。 这是必需参数。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">md</span> Directory1                // 在当前目录中创建名为 Directory1 的目录</span><br><span class="line"></span><br><span class="line"><span class="built_in">md</span> \Taxes\Property\Current   // 在启用命令扩展的情况下在根目录中创建目录树 Taxes\Property\Current</span><br></pre></td></tr></table></figure><h4 id="4-rd-命令-mkdir-命令"><a href="#4-rd-命令-mkdir-命令" class="headerlink" title="4. rd 命令, (mkdir 命令)"></a>4. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rd">rd 命令</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/rmdir">(mkdir 命令)</a></h4><p>删除目录。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> [&lt;drive&gt;:]&lt;<span class="built_in">path</span>&gt; [/s [/q]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>[&lt;drive&gt;:]&lt;path&gt;</code></td><td>指定要删除的目录的位置和名称。 Path 是必需的。 如果在指定 path 的开头包含反斜杠 ()，则该 path 从根目录开始（无论当前目录为何）。</td></tr><tr><td><code>/s</code></td><td>删除目录树（指定目录及其所有子目录，包括所有文件）。</td></tr><tr><td><code>/q</code></td><td>指定安静模式。 删除目录树时不提示进行确认。 仅当还指定了 /s 时，/q 参数才有效。<br>注意：在安静模式下运行时，无需确认即可删除整个目录树。 在使用 /q 命令行选项之前，请确保移动或备份重要文件。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rd</span> /s test       // 从当前目录中删除名为 test 的目录（及其所有子目录和文件）</span><br><span class="line"></span><br><span class="line"><span class="built_in">rd</span> /s /q test    // 在安静模式下运行上一个示例</span><br></pre></td></tr></table></figure><h4 id="5-copy-命令"><a href="#5-copy-命令" class="headerlink" title="5. copy 命令"></a>5. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/copy">copy 命令</a></h4><p>将一个或多个文件从一个位置复制到另一个位置。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> [/d] [/v] [/n] [/y | /-y] [/z] [/a | /b] &lt;source&gt; [/a | /b] [+&lt;source&gt; [/a | /b] [+ ...]] [&lt;destination&gt; [/a | /b]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/d</code></td><td>允许将复制的加密文件作为解密文件保存到目标。</td></tr><tr><td><code>/v</code></td><td>验证是否已正确写入新文件。</td></tr><tr><td><code>/n</code></td><td>在复制名称超过八个字符或文件扩展名超过三个字符的文件时使用短文件名（如果可用）。</td></tr><tr><td><code>/y</code></td><td>禁止提示你确认覆盖现有目标文件。</td></tr><tr><td><code>/-y</code></td><td>提示你确认覆盖现有目标文件。</td></tr><tr><td><code>/z</code></td><td>以可重启模式复制网络文件。</td></tr><tr><td><code>/a</code></td><td>指示 ASCII 文本文件。</td></tr><tr><td><code>/b</code></td><td>指示二进制文件。</td></tr><tr><td><code>&lt;source&gt;</code></td><td>必需。 指定要从中复制一个文件或一组文件的位置。 source 可以由驱动器号后跟分号、目录名称、文件名或是这几项的组合组成。</td></tr><tr><td><code>&lt;destination&gt;</code></td><td>必需。 指定要将一个文件或一组文件复制到的位置。 destination 可以由驱动器号后跟分号、目录名称、文件名或是这几项的组合组成。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>注解</strong></p><ul><li><p>可以复制使用文件结束字符 (CTRL+Z) 指示文件结束的 ASCII 文本文件。</p></li><li><p>如果在命令行中的文件列表前面或后面添加 <code>/a</code>，该选项将应用于列出的所有文件，直到 <code>copy</code> 遇到 <code>/b</code>。 在这种情况下，<code>/b</code> 应用 <code>/b</code> 前面的文件。<br><code>/a</code> 的效果取决于它在命令行字符串中的位置：- 如果 <code>/a</code> 跟在 source 后面，则 <code>copy</code> 命令会将文件视为 ASCII 文件并复制第一个文件结束字符 (CTRL+Z) 前面的数据。 - 如果 <code>/a</code> 跟在 destination 后面，则 <code>copy</code> 命令会添加一个文件结束符 (CTRL+Z) 作为文件的最后一个字符。</p></li><li><p>如果 <code>/b</code> 指示命令解释器读取目录中文件大小指定的字节数。 除非 <code>copy</code> 合并文件，否则 <code>/b</code> 是 <code>copy</code> 的默认值。</p></li><li><p>如果在命令行中的文件列表前面或后面添加 <code>/b</code>，该选项将应用于列出的所有文件，直到 <code>copy</code> 遇到 <code>/a</code>。 在这种情况下，<code>/a</code> 应用 <code>/a</code> 前面的文件。<br><code>/b</code> 的效果取决于它在命令行字符串中的位置：- 如果 <code>/b</code> 跟在 source 后面，则 <code>copy</code> 命令会复制整个文件，包括任何文件结束字符 (CTRL+Z)。 - 如果 <code>/b</code> 跟在 destination 后面，则 <code>copy</code> 命令不会添加文件结束字符 (CTRL+Z)。</p></li><li><p>如果无法验证写入操作，将显示错误消息。 可以使用 <code>/v</code> 来验证是否已正确记录关键数据，不过，<code>copy</code> 命令很少发生记录错误。 <code>/v</code> 命令行选项还会减慢 <code>copy</code> 命令的速度，因为使用此选项时，必须检查磁盘上记录的每个扇区。</p></li><li><p>如果在 COPYCMD 环境变量中预设了 <code>/y</code>，你可以在命令行中使用 <code>/-y</code> 替代此设置。 默认情况下，除非在批处理脚本中执行 <code>copy</code> 命令，否则在替换此设置时会出现提示。</p></li><li><p>若要追加文件，请为 destination 指定一个文件，但为 source 指定多个文件（使用通配符或 file1+file2+file3 格式）。</p></li><li><p>如果在复制阶段断开连接（例如，如果服务器脱机，则会断开连接），可以在重新建立连接后使用 <code>copy /z</code> 予以恢复。 <code>/z</code> 选项还会显示针对每个文件的复制操作的完成百分比。</p></li><li><p>可以将出现的一个或多个 source 或 destination 替换为设备名称。</p></li><li><p>如果 destination 是设备（例如 Com1 或 Lpt1），则 <code>/b</code> 选项以二进制模式将数据复制到设备。 在二进制模式下，<code>copy /b</code> 会将所有字符（包括 CTRL+C、CTRL+S、CTRL+Z 和 ENTER 等特殊字符）作为数据复制到设备。 但是，如果省略 <code>/b</code>，则会在 ASCII 模式下将数据复制到设备。 在 ASCII 模式下，特殊字符可能会导致文件在复制过程中合并。</p></li><li><p>如果未指定目标文件，则会创建名称、修改日期和修改时间与原始文件相同的副本。 新副本存储在当前驱动器上的当前目录中。 如果源文件位于当前驱动器和当前目录中，并且你未为目标文件指定不同的驱动器或目录，则 <code>copy</code> 命令会停止并显示以下错误消息：</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">File cannot be copied onto itself</span><br><span class="line"><span class="number">0</span> File(s) copied</span><br></pre></td></tr></table></figure></li><li><p>如果在 source 中指定了多个文件，则 <code>copy</code> 命令会使用在 destination 中指定的文件名将这些文件全部合并到单个文件。 除非使用 /b 选项，否则 copy 命令假设合并的文件是 ASCII 文件。</p></li><li><p>若要复制长度为 0 字节的文件，或要复制某个目录的所有文件和子目录，请使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/xcopy">xcopy 命令</a>。</p></li><li><p>若要在不修改文件的情况下将当前时间和日期分配到文件，请使用以下语法：</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> /b &lt;source&gt; +,,    // 其中 , 逗号指示有意省略了 destination 参数。</span><br></pre></td></tr></table></figure></li></ul><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">copy</span> robin.typ c:\birds                           // 将名为 robin.typ 的文件从当前驱动器和目录复制到驱动器 C 上名为 birds 的现有目录</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> memo.doc letter.doc /a                       // 将名为 memo.doc 的文件复制到当前驱动器中的 letter.doc，并确保文件结束字符 (CTRL+Z) 位于复制的文件的末尾</span><br><span class="line">                                                  // 如果 birds 目录不存在，则会将文件 robin.typ 复制到名为 birds 的文件中，该文件位于磁盘驱动器 C 上的根目录中。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> mar89.rpt + apr89.rpt + may89.rpt Report     // 合并当前目录中的 Mar89.rpt、Apr89.rpt 和 May89.rpt，并将其放入名为 Report 的文件（也在当前目录中）</span><br><span class="line">                                                  // 如果合并文件，<span class="built_in">copy</span> 命令会使用当前日期和时间标记目标文件。</span><br><span class="line">                                                  // 如果省略 destination，将使用列表中第一个文件的名称合并和存储文件。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> report + mar89.rpt + apr89.rpt + may89.rpt   // 合并 Report 中的所有文件，当名为 Report 的文件已存在时</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt Combined.doc                           // 将当前目录中所有文件扩展名为 .txt 的文件合并到名为 Combined.doc 的单个文件</span><br><span class="line">                                                  // 如果合并二进制文件，生成的文件可能因内部格式问题而无法使用。</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref *.doc                          // 将扩展名为 .txt 的每个文件与其相应 .ref 文件合并会创建文件名相同，但扩展名为 .doc 的文件。</span><br><span class="line">                                                  // <span class="built_in">copy</span> 命令将 file1.txt 与 file1.ref 合并成 file1.doc，</span><br><span class="line">                                                  // 然后该命令将 file2.txt 与 file2.ref 合并成 file2.doc，依此类推</span><br><span class="line"></span><br><span class="line"><span class="built_in">copy</span> *.txt + *.ref Combined.doc                   // 合并扩展名为 .txt 的所有文件，然后将扩展名为 .ref 的所有文件合并为一个名为 Combined.doc 的文件</span><br></pre></td></tr></table></figure><h4 id="6-move-命令"><a href="#6-move-命令" class="headerlink" title="6. move 命令"></a>6. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/move">move 命令</a></h4><p>将一个或多个文件从一个目录移动到另一个目录。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> [&#123;/y|-y&#125;] [&lt;source&gt;] [&lt;target&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/y</code></td><td>停止确认是否要覆盖现有目标文件的提示。 COPYCMD 环境变量中可能预设了此参数。 可以使用 -y 参数替代此预设。 除非命令是从批处理脚本中运行，否则默认会在覆盖文件之前进行提示。</td></tr><tr><td><code>-y</code></td><td>启动确认是否要覆盖现有目标文件的提示。</td></tr><tr><td><code>&lt;source&gt;</code></td><td>指定要移动的文件的路径和名称。 若要移动或重命名目录，source 应为当前目录的路径和名称。</td></tr><tr><td><code>&lt;target&gt;</code></td><td>指定要将文件移动到的路径和名称。 若要移动或重命名目录，target 应为目标目录的路径和名称。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">move</span> \data\*.xls \second_q\reports\    // 将扩展名为 .xls 的所有文件从 \Data 目录移动到 \second_Q\reports 目录</span><br></pre></td></tr></table></figure><h4 id="7-del-命令-erase-命令"><a href="#7-del-命令-erase-命令" class="headerlink" title="7. del 命令, erase 命令"></a>7. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/del">del 命令</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/erase">erase 命令</a></h4><p>删除一个或多个文件。(这个是专门删除文件的，不能删除文件夹)<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> [/p] [/f] [/s] [/q] [/a[:]&lt;attributes&gt;] &lt;names&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;names&gt;</code></td><td>指定一个或多个文件或目录的列表。 通配符可用于删除多个文件。 如果指定了目录，则将删除该目录中的所有文件。</td></tr><tr><td><code>/p</code></td><td>删除指定文件前提示用户进行确认。</td></tr><tr><td><code>/f</code></td><td>强制删除只读文件。</td></tr><tr><td><code>/s</code></td><td>从当前目录和所有子目录中删除指定的文件。 显示正在删除的文件的名称。</td></tr><tr><td><code>/q</code></td><td>指定安静模式。 系统不会提示你确认删除。</td></tr><tr><td><code>/a[:]&lt;attributes&gt;</code></td><td>根据以下文件属性删除文件：<ul><li>r 只读文件</li><li>h 隐藏文件</li><li>i 非内容索引文件</li><li>s 系统文件</li><li>a 可用于存档的文件</li><li>l 重新分析点</li><li>- 用作前缀，表示“非”</li></ul></td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>备注</strong></p><ul><li><p>如果使用 <code>del /p</code> 命令，你将看到以下消息：<br><code>FileName, Delete (Y/N)?</code><br>要确认删除，请按 Y。要取消删除并显示下一个文件名（如果已指定一组文件），请按 N。要停止 <code>del</code> 命令，请按 Ctrl+C。</p></li><li><p>如果禁用命令扩展，则 <code>/s</code> 参数将显示未找到的任何文件的名称，而不是显示要删除的文件的名称。</p></li><li><p>如果在 <code>&lt;names&gt;</code> 参数中指定特定文件夹，则所有包含的文件也将被删除。 例如，如果要删除 \work 文件夹中的所有文件，请键入：</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> \work</span><br></pre></td></tr></table></figure></li><li><p>可以使用通配符（<code>*</code> 和 <code>?</code>）一次删除多个文件。 但是，为避免无意中删除文件，应谨慎使用通配符。 例如，如果键入以下命令：</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> *.*</span><br></pre></td></tr></table></figure><p>del 命令显示以下提示：<br><code>Are you sure (Y/N)?</code><br>要删除当前目录中的所有文件，请按 Y，然后按 Enter。 要取消删除，请按 N，然后按 Enter。<br>在 del 命令中使用通配符之前，请在 dir 命令中使用相同的通配符，以列出要删除的所有文件。</p></li></ul><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">del</span> c:\test                // 删除驱动器 C 上名为 test 的文件夹中的所有文件</span><br><span class="line"><span class="built_in">del</span> c:\test\*.*            // 同上</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\&quot;      // 删除文件夹中名称中包含空格的所有文件，需要用双引号将完整路径括起来</span><br><span class="line"><span class="built_in">del</span> &quot;c:\test folder\*.*&quot;   // 同上</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> *.bat                  // 从当前目录中删除文件扩展名为 .bat 的所有文件</span><br><span class="line"></span><br><span class="line"><span class="built_in">del</span> /a:r *.*               // 删除当前目录中的所有只读文件</span><br></pre></td></tr></table></figure><h4 id="8-cls-命令"><a href="#8-cls-命令" class="headerlink" title="8. cls 命令"></a>8. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cls">cls 命令</a></h4><p>清除命令提示符窗口。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cls</span>    // 类似于linux下的 clear</span><br></pre></td></tr></table></figure><h4 id="9-ping-命令"><a href="#9-ping-命令" class="headerlink" title="9. ping 命令"></a>9. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/ping">ping 命令</a></h4><p>通过发送 Internet 控制消息协议 (ICMP) 回显请求消息，验证与另一台 TCP/IP 计算机的 IP 级别连接情况。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> [/t] [/a] [/n &lt;count&gt;] [/l &lt;size&gt;] [/f] [/I &lt;TTL&gt;] [/v &lt;TOS&gt;] [/r &lt;count&gt;] [/s &lt;count&gt;] [&#123;/j &lt;hostlist&gt; | /k &lt;hostlist&gt;&#125;] [/w &lt;timeout&gt;] [/R] [/S &lt;Srcaddr&gt;] [/<span class="number">4</span>] [/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/t</code></td><td>指定 ping 继续向目标发送回显请求消息，直到被中断为止。 要中断并显示统计信息，请按 Ctrl+Enter。 要中断并退出此命令，请按 Ctrl+C。</td></tr><tr><td><code>/a</code></td><td>指定对目标 IP 地址执行反向名称解析。 如果此操作成功，ping 会显示相应的主机名。</td></tr><tr><td><code>/n &lt;count&gt;</code></td><td>指定要发送的回显请求消息数。 默认值为 4。</td></tr><tr><td><code>/l &lt;size&gt;</code></td><td>指定回显请求消息中“数据”字段的长度（以字节为单位）。 默认值为 32。 最大大小为 65,500。</td></tr><tr><td><code>/f</code></td><td>指定发送回显请求消息且 IP 标头中的“不分段”标志设置为 1（仅在 IPv4 上可用）。 回显请求消息不能由目标路径中的路由器分段。 此参数可用于排查路径最大传输单元 (PMTU) 问题。</td></tr><tr><td><code>/I &lt;TTL&gt;</code></td><td>指定已发送的回显请求消息的 IP 标头中生存时间 (TTL) 字段的值。 默认值为主机的默认 TTL 值。 最大 TTL 为 255。</td></tr><tr><td><code>/v &lt;TOS&gt;</code></td><td>指定发送的回显请求消息的 IP 标头中服务类型 (TOS) 字段的值（仅在 IPv4 中可用）。 默认值为 0。 TOS 指定为一个介于 0 到 255 之间的十进制值。</td></tr><tr><td><code>/r &lt;count&gt;</code></td><td>指定 IP 标头中的“记录路由”选项用于记录回显请求消息和相应回显回复消息采用的路径（仅在 IPv4 上可用）。 路径中的每个跃点使用“记录路由”选项中的一个条目。 如果可能，请指定一个等于或大于源和目标之间的跃点数的计数。 计数必须至少为 1，最大值为 9。</td></tr><tr><td><code>/s &lt;count&gt;</code></td><td>指定 IP 标头中的“Internet 时间戳”选项用于记录每个跃点的回显请求消息和相应回显回复消息的到达时间。 计数必须至少为 1，最大值为 4。 对于本地链路目标地址，此参数是必需的。</td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>指定回显请求消息使用 IP 标头中的“松散源路由”选项，它带有 hostlist 中指定的一组中间目标（仅在 IPv4 上可用）。 使用松散源路由时，连续的中间目标可由一个或多个路由器分隔。 主机列表中的地址或名称数目不超过 9。 主机列表是一系列由空格分隔的 IP 地址（采用点分十进制格式）。</td></tr><tr><td><code>/k &lt;hostlist&gt;</code></td><td>指定回显请求消息使用 IP 标头中的“严格源路由”选项，它带有 hostlist 中指定的一组中间目标（仅在 IPv4 上可用）。 使用严格源路由时，下一个中间目标必须可直接访问（它必须是路由器接口上的相邻项）。 主机列表中的地址或名称数目不超过 9。 主机列表是一系列由空格分隔的 IP 地址（采用点分十进制格式）。</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>指定等待与给定回显请求消息对应的回显回复消息的时间（以毫秒为单位）。 如果在超时时间内未收到回显回复消息，则会显示“请求超时”错误消息。 默认超时值为 4000（4 秒）。</td></tr><tr><td><code>/R</code></td><td>指定跟踪往返路径（仅在 IPv6 上可用）。</td></tr><tr><td><code>/S &lt;Srcaddr&gt;</code></td><td>指定要使用的源地址（仅在 IPv6 上可用）。</td></tr><tr><td><code>/4</code></td><td>指定用于 ping 的 IPv4。 使用 IPv4 地址标识目标主机时不需要此参数。 按名称标识目标主机时才需要此参数。</td></tr><tr><td><code>/6</code></td><td>指定用于 ping 的 IPv6。 使用 IPv6 地址标识目标主机时不需要此参数。 按名称标识目标主机时才需要此参数。</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>指定目标的主机名或 IP 地址。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ping</span> /a <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>              // 对目标 <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> 执行 <span class="built_in">ping</span> 操作并将 <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> 解析为其主机名</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /n <span class="number">10</span> /l <span class="number">1000</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>   // 用 <span class="number">10</span> 条回显请求消息对目标 <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> 执行 <span class="built_in">ping</span> 操作（其中每条消息的“数据”字段为 <span class="number">1000</span> 字节）</span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span> /r <span class="number">4</span> <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span>            // 对目标 <span class="number">10</span>.<span class="number">0</span>.<span class="number">99</span>.<span class="number">221</span> 执行 <span class="built_in">ping</span> 操作并记录 <span class="number">4</span> 个跃点的路由</span><br></pre></td></tr></table></figure><h4 id="10-netstat-命令"><a href="#10-netstat-命令" class="headerlink" title="10. netstat 命令"></a>10. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/netstat">netstat 命令</a></h4><p>显示活动的 TCP 连接数、计算机侦听的端口、以太网统计信息、IP 路由表、IPv4 统计信息，以及 IPv6 统计信息。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat [-a] [-b] [-e] [-n] [-o] [-p &lt;Protocol&gt;] [-r] [-s] [&lt;interval&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>-a</code></td><td>显示所有活动的 TCP 连接数以及计算机正在侦听的 TCP 和 UDP 端口。</td></tr><tr><td><code>-b</code></td><td>显示创建每个连接或侦听端口所涉及的可执行文件。 在某些情况下，众所周知的可执行文件承载了多个独立组件，在这些情况下，将显示创建连接或侦听端口所涉及的组件序列。 在这种情况下，可执行文件名称位于底部的 [] 中，顶部是它调用的组件，依此类推，直到到达 TCP/IP。 请注意，此选项可能很耗时，除非你有足够的权限，否则会失败。</td></tr><tr><td><code>-e</code></td><td>显示以太网统计信息，例如发送和接收的字节数和数据包数。 此参数可与 -s 一起使用。</td></tr><tr><td><code>-n</code></td><td>显示活动的 TCP 连接数，但是，地址和端口号以数字表示，并且不会尝试确定名称。</td></tr><tr><td><code>-o</code></td><td>显示活动的 TCP 连接数，并包括每个连接的进程 ID (PID)。 可以在 Windows 任务管理器的“进程”选项卡上基于 PID 找到应用程序。 此参数可与 <code>-s</code>、<code>-n</code> 和 <code>-p</code> 一起使用。</td></tr><tr><td><code>-p &lt;Protocol&gt;</code></td><td>显示 Protocol 指定的协议的连接。 在这种情况下，Protocol 可以是 tcp、udp、tcpv6 或 udpv6。 如果此参数与 -s 一起使用以按协议显示统计信息，则 Protocol 可以是 tcp、udp、icmp、ip、tcpv6、udpv6、icmpv6 或 ipv6。</td></tr><tr><td><code>-s</code></td><td>按协议显示统计信息。 默认情况下，会显示 TCP、UDP、ICMP 和 IP 协议的统计信息。 如果安装了 IPv6 协议，则会显示基于 IPv6 的 TCP、基于 IPv6 的 UDP、ICMPv6 和 IPv6 协议的统计信息。 <code>-p</code> 参数可用于指定一组协议。</td></tr><tr><td><code>-r</code></td><td>显示 IP 路由表的内容。 这等效于 route print 命令。</td></tr><tr><td><code>&lt;interval&gt;</code></td><td>每隔 interval 秒重新显示一次所选信息。 按 CTRL+C 停止重新播放。 如果省略此参数，此命令仅打印一次所选信息。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano                  // 查看网络连接、状态以及对应的进程id</span><br><span class="line"></span><br><span class="line">netstat -aon|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;   // 查看被占用端口对应的 PID</span><br><span class="line"></span><br><span class="line">netstat -e -s                 // 同时显示以太网统计信息和所有协议的统计信息</span><br><span class="line"></span><br><span class="line">netstat -s -p tcp udp         // 仅显示 TCP 和 UDP 协议的统计信息</span><br><span class="line"></span><br><span class="line">netstat -o <span class="number">5</span>                  // 每 <span class="number">5</span> 秒显示一次活动的 TCP 连接数和进程 ID</span><br><span class="line"></span><br><span class="line">netstat -n -o                 // 使用数字形式显示活动的 TCP 连接数和进程 ID</span><br></pre></td></tr></table></figure><h4 id="11-tasklist-命令"><a href="#11-tasklist-命令" class="headerlink" title="11. tasklist 命令"></a>11. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tasklist">tasklist 命令</a></h4><p>显示本地计算机或远程计算机上当前正在运行的进程列表。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p &lt;password&gt;]]] [&#123;/m &lt;module&gt; | /svc | /v&#125;] [/fo &#123;table | list | csv&#125;] [/nh] [/fi &lt;filter&gt; [/fi &lt;filter&gt; [ ... ]]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>指定远程计算机的名称或 IP 地址（请勿使用反斜杠）。 默认为本地计算机。</td></tr><tr><td><code>/u &lt;domain&gt;\&lt;username&gt;</code></td><td>使用 <code>&lt;username&gt;</code> 或 <code>&lt;domain&gt;\&lt;username&gt;</code> 指定的用户的帐户权限运行该命令。 仅当还指定了 <code>/s</code> 时，才能指定 <code>/u</code> 参数。 默认值是当前登录到发出该命令的计算机的用户的权限。</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td>指定 <code>/u</code> 参数中指定的用户帐户的密码。</td></tr><tr><td><code>/m &lt;module&gt;</code></td><td>列出加载了与给定模式名称匹配的 DLL 模块的所有任务。 如果未指定模块名称，则此选项将显示每个任务加载的所有模块。</td></tr><tr><td><code>svc</code></td><td>列出每个进程的所有服务信息，而不截断。 当 <code>/fo</code> 参数设置为 table 时有效。</td></tr><tr><td><code>/v</code></td><td>在输出中显示详细的任务信息。 若要获得不截断的完整详细输出，请同时使用 <code>/v</code> 和 <code>/svc</code>。</td></tr><tr><td><code>/fo &#123;table | list | csv&#125;</code></td><td>指定要用于输出的格式。 有效值为 table、list 或 csv。 输出的默认格式为 table。</td></tr><tr><td><code>/nh</code></td><td>取消在输出中显示列标题。 当 <code>/fo</code> 参数设置为 table 或 csv 时有效。</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>指定要包含在查询中或从查询中排除的进程类型。 可以使用多个筛选器或使用通配符 (<code>\</code>) 指定所有任务或映像名称。 本文的“筛选器名称、运算符和值”部分列出了有效的筛选器。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tasklist                                // 获取 PID 进程列表</span><br><span class="line"></span><br><span class="line">tasklist|<span class="built_in">findstr</span> &quot;<span class="number">8080</span>&quot;                 // 查看指定 PID 的进程</span><br><span class="line"></span><br><span class="line">tasklist /fi &quot;IMAGENAME eq nginx.exe&quot;   // 查找所有映像名称为nginx.exe的进程</span><br></pre></td></tr></table></figure><h4 id="12-taskkill-命令"><a href="#12-taskkill-命令" class="headerlink" title="12. taskkill 命令"></a>12. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/taskkill">taskkill 命令</a></h4><p>杀进程任务及进程号</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> [/s &lt;computer&gt; [/u [&lt;domain&gt;\]&lt;username&gt; [/p [&lt;password&gt;]]]] &#123;[/fi &lt;filter&gt;] [...] [/pid &lt;processID&gt; | /im &lt;imagename&gt;]&#125; [/f] [/t]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/s &lt;computer&gt;</code></td><td>指定远程计算机的名称或 IP 地址（请勿使用反斜杠）。 默认为本地计算机。</td></tr><tr><td><code>/s &lt;computer&gt;</code></td><td>使用 <code>&lt;username&gt;</code> 或 <code>&lt;domain&gt;\&lt;username&gt;</code> 指定的用户的帐户权限运行该命令。 仅当还指定了 <code>/s</code> 时，才能指定 <code>/u</code> 参数。 默认值是当前登录到发出该命令的计算机的用户的权限。</td></tr><tr><td><code>/p &lt;password&gt;</code></td><td>指定 <code>/u</code> 参数中指定的用户帐户的密码。</td></tr><tr><td><code>/fi &lt;filter&gt;</code></td><td>应用筛选器以选择一组任务。 可以使用多个筛选器或使用通配符 (*) 指定所有任务或映像名称。 本文的“筛选器名称、运算符和值”部分列出了有效的筛选器。</td></tr><tr><td><code>/pid &lt;processID&gt;</code></td><td>指定要终止的进程的进程 ID。</td></tr><tr><td><code>/im &lt;imagename&gt;</code></td><td>指定要终止的进程的映像名称。 使用通配符 (*) 指定所有映像名称。</td></tr><tr><td><code>/f</code></td><td>指定强制结束进程。 对于远程进程，将忽略此参数；所有远程进程都会被强制结束。</td></tr><tr><td><code>/t</code></td><td>结束指定的进程及其启动的任何子进程。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">taskkill</span> /PID <span class="number">8080</span>         // 杀死 PID 为 <span class="number">8080</span> 的进程</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /T /F /PID <span class="number">8080</span>   // 强制（/F参数）杀死 PID 为 <span class="number">8080</span> 的所有进程包括子进程（/T参数）</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /IM nginx.exe     // 杀死所有映像名称为nginx.exe的进程</span><br></pre></td></tr></table></figure><h4 id="13-tracert-命令"><a href="#13-tracert-命令" class="headerlink" title="13. tracert 命令"></a>13. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/tracert">tracert 命令</a></h4><p>tracert也被称为Windows路由跟踪实用程序，在命令提示符（cmd）中使用tracert命令可以用于确定IP数据包访问目标时所选择的路径。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert [/d] [/h &lt;maximumhops&gt;] [/j &lt;hostlist&gt;] [/w &lt;timeout&gt;] [/R] [/S &lt;srcaddr&gt;] [/<span class="number">4</span>][/<span class="number">6</span>] &lt;targetname&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/d</code></td><td><code>停止尝试将中间路由器的 IP 地址解析为其名称。 这可以加快结果的返回速度。</code></td></tr><tr><td><code>/h &lt;maximumhops&gt;</code></td><td><code>指定搜索目标的路径中的最大跃点数。 默认值为 30 个跃点。</code></td></tr><tr><td><code>/j &lt;hostlist&gt;</code></td><td>指定回显请求消息使用 IP 标头中的“松散源路由”选项，它带有 <code>&lt;hostlist&gt;</code> 中指定的一组中间目标。 使用松散源路由时，连续的中间目标可由一个或多个路由器分隔。 列表中的地址或名称数目不超过 9。 <code>&lt;hostlist&gt;</code> 是一系列由空格分隔的 IP 地址（采用点分十进制格式）。 仅在跟踪 IPv4 地址时使用此参数。</td></tr><tr><td><code>/w &lt;timeout&gt;</code></td><td>指定等待接收与给定回显请求消息对应的 ICMP 超时或回显回复消息的时间（以毫秒为单位）。 如果在超时值内未收到，则显示星号 (*)。 默认超时值为 4000（4 秒）。</td></tr><tr><td><code>/R</code></td><td>指定使用 IPv6 路由扩展标头向本地主机发送回显请求消息，将目标用作中间目标并测试反向路由。</td></tr><tr><td><code>/S &lt;srcaddr&gt;</code></td><td>指定要在回显请求消息中使用的源地址。 仅在跟踪 IPv6 地址时使用此参数。</td></tr><tr><td><code>/4</code></td><td>指定 tracert.exe 只能使用 IPv4 进行此跟踪。</td></tr><tr><td><code>/6</code></td><td>指定 tracert.exe 只能使用 IPv6 进行此跟踪。</td></tr><tr><td><code>&lt;targetname&gt;</code></td><td>指定目标，该目标由 IP 地址或主机名标识。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">tracert www.microsoft.com        // 跟踪名为 www.microsoft.com 的主机的路径</span><br><span class="line"></span><br><span class="line">tracert /d www.microsoft.com     // 跟踪名为 www.microsoft.com 的主机的路径，并阻止将每个 IP 地址解析为其名称</span><br></pre></td></tr></table></figure><h4 id="14-start-命令"><a href="#14-start-命令" class="headerlink" title="14. start 命令"></a>14. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/start">start 命令</a></h4><p>启动单独的命令提示符窗口以运行指定的程序或命令。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">start</span> &lt;&quot;<span class="built_in">title</span>&quot;&gt; [/d &lt;<span class="built_in">path</span>&gt;] [/i] [&#123;/min | /max&#125;] [&lt;command&gt; [&lt;parameter&gt;... ] | &lt;program&gt; [&lt;parameter&gt;... ]]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&quot;title&quot;</code></td><td>指定要在“命令提示符”窗口标题栏中显示的标题。</td></tr><tr><td><code>/d &lt;path&gt;</code></td><td>指定启动目录。</td></tr><tr><td><code>/i</code></td><td>将 Cmd.exe 启动环境传递到新的“命令提示符”窗口。 如果未指定 /i，则使用当前环境。</td></tr><tr><td><code>&lt;command&gt; [&lt;parameter&gt;... ]</code></td><td>指定要启动的命令， &lt;parameter&gt; 为命令参数。</td></tr><tr><td><code>&lt;program&gt; [&lt;parameter&gt;... ]</code></td><td>指定要启动的程序， &lt;parameter&gt; 为程序参数。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// 打开新命令提示符窗口设置路径为 D:\workspace\project 并且执行 <span class="built_in">echo</span> Hello World</span><br><span class="line"><span class="built_in">start</span> &quot;Hello World&quot; /d D:\workspace\project <span class="built_in">cmd</span> /k <span class="built_in">echo</span> Hello World</span><br></pre></td></tr></table></figure><h4 id="15-cmd-命令"><a href="#15-cmd-命令" class="headerlink" title="15. cmd 命令"></a>15. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/cmd">cmd 命令</a></h4><p>启动命令解释器的新实例 Cmd.exe。 使用时如果没有参数，cmd 将显示操作系统的版本和版权信息。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;] [/e:&#123;on | off&#125;] [/f:&#123;on | off&#125;] [/v:&#123;on | off&#125;] [&lt;string&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>/c</code></td><td>执行由 <code>&lt;string&gt;</code> 指定的命令，然后退出命令处理器。</td></tr><tr><td><code>/k</code></td><td>执行由 <code>&lt;string&gt;</code> 指定的命令，并使命令处理器保持运行。</td></tr><tr><td><code>/s</code></td><td>与 <code>/c</code> 或 <code>/k</code> 一起使用时，触发特殊的非分析规则，这些规则在 <code>&lt;string&gt;</code> 周围去除第一个和最后一个引号 (“)，但使命令的其余部分保持不变。</td></tr><tr><td><code>/q</code></td><td>关闭回显。</td></tr><tr><td><code>/d</code></td><td>禁用自动运行命令的执行。</td></tr><tr><td><code>/a</code></td><td>将命令输出的格式设置为美国国家标准协会 (ANSI)。</td></tr><tr><td><code>/u</code></td><td>将命令输出的格式设置为 Unicode。</td></tr><tr><td><code>/t:&#123;&lt;b&gt;&lt;f&gt; | &lt;f&gt;&#125;</code></td><td>设置背景色 (b) 和前景色 (f)。</td></tr><tr><td><code>/e:on</code></td><td>启用命令扩展。</td></tr><tr><td><code>/e:off</code></td><td>禁用命令扩展。</td></tr><tr><td><code>/f:on</code></td><td>启用文件和目录名完成。</td></tr><tr><td><code>/f:off</code></td><td>禁用文件和目录名完成。</td></tr><tr><td><code>/v:on</code></td><td>启用延迟的环境变量扩展。</td></tr><tr><td><code>/v:off</code></td><td>禁用延迟的环境变量扩展。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>指定要执行的命令。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p>下表列出了可用作 &lt;b&gt; 和 &lt;f&gt; 的值的有效的十六进制数字：</p><table><thead><tr><th>值</th><th>颜色</th></tr></thead><tbody><tr><td>0</td><td>黑色</td></tr><tr><td>1</td><td>蓝色</td></tr><tr><td>2</td><td>绿色</td></tr><tr><td>3</td><td>Aqua</td></tr><tr><td>4</td><td>红色</td></tr><tr><td>5</td><td>紫色</td></tr><tr><td>6</td><td>黄色</td></tr><tr><td>7</td><td>白色</td></tr><tr><td>8</td><td>灰色</td></tr><tr><td>9</td><td>淡蓝色</td></tr><tr><td>a</td><td>浅绿色</td></tr><tr><td>b</td><td>淡蓝绿色</td></tr><tr><td>c</td><td>淡红色</td></tr><tr><td>d</td><td>淡紫色</td></tr><tr><td>e</td><td>淡黄色</td></tr><tr><td>F</td><td>亮白色</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">// 若要将命令输出重定向到另一个命令的输入，请使用管道 (|) 字符。 例如：</span><br><span class="line">&lt;command1&gt; | &lt;command2&gt;</span><br><span class="line"></span><br><span class="line">// 若要对 &lt;string&gt; 使用多个命令，请用命令分隔符 &amp;&amp; 分隔它们。 例如：</span><br><span class="line">&lt;command1&gt;&amp;&amp;&lt;command2&gt;&amp;&amp;&lt;command3&gt;</span><br><span class="line"></span><br><span class="line">// 如果提供的目录路径、文件或任何信息包含空格，则必须在文本周围使用双引号 (&quot;)，例如 &quot;Computer Name&quot;。 例如：</span><br><span class="line"><span class="built_in">mkdir</span> Test&amp;&amp;<span class="built_in">mkdir</span> &quot;Test <span class="number">2</span>&quot;&amp;&amp;<span class="built_in">move</span> &quot;Test <span class="number">2</span>&quot; Test</span><br></pre></td></tr></table></figure><h4 id="16-echo-和-echo-命令"><a href="#16-echo-和-echo-命令" class="headerlink" title="16. echo 和 @echo 命令"></a>16. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/echo">echo 和 @echo 命令</a></h4><p>显示消息或者打开或关闭命令回显功能。 如果不结合任何参数使用，echo 会显示当前回显设置。<br>echo 和 @echo 命令的区别：添加@后将不会显示命令行内容</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> [&lt;message&gt;]</span><br><span class="line"><span class="built_in">echo</span> [on | off]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>[on | off]</code></td><td>打开或关闭命令回显功能。 命令回显功能默认已打开。</td></tr><tr><td><code>&lt;message&gt;</code></td><td>指定要在屏幕上显示的文本。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> Hello World</span><br><span class="line">// 将显示以下内容</span><br><span class="line">// $ D:\workspace\script&gt;<span class="built_in">echo</span> Hello World</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> Hello World</span><br><span class="line">// 只显示</span><br><span class="line">// $ Hello World</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off  // 防止批处理文件中的所有命令（包括 <span class="built_in">echo</span> off 命令）显示在屏幕上</span><br><span class="line">@<span class="built_in">echo</span> on   // 开启批处理文件中的命令显示在屏幕上</span><br></pre></td></tr></table></figure><p><strong>备注</strong><br>当 <code>echo</code> 关闭时，<code>echo &lt;message&gt;</code> 命令更有用。 若要显示长度有好几行的消息而不显示任何命令，可以在批处理程序中的 <code>echo off</code> 命令后面添加多个 <code>echo &lt;message&gt;</code> 命令。</p><p>关闭回显后，命令提示符不会出现在“命令提示符”窗口中。 若要显示命令提示符，请键入 <code>echo on</code>。</p><p>如果在批处理文件中使用，<code>echo on</code> 和 <code>echo off</code> 不会影响命令提示符处的设置。</p><p>如果使用 <code>echo</code> 时批处理文件中存在空变量，则会显示“回显已关闭”。 若要防止看到此消息，改为生成一个空行，请在 <code>echo</code> 和变量之间放置一个冒号 (<code>:</code>)。 例如 <code>echo:%var%</code>。</p><p>若要防止回显批处理文件中的特定命令，请在该命令前面插入 (<code>@</code>) 符号。 若要防止回显批处理文件中的所有命令，请在文件开头包含 <code>echo off</code> 命令。</p><p>若要在批处理脚本中显示感叹号 (<code>!</code>)，请在单词或短语后面添加脱字符，再后接感叹号，并将此字符串括在双引号中 (<code>Hello World^!</code>)。 或者，可以使用双脱字符 (<code>^^</code>) 而无需使用双引号 (<code>Hello World^^!</code>)。</p><p>若要在使用 <code>echo</code> 时显示竖线 (<code>|</code>)、与号 (<code>&amp;</code>) 或重定向字符（<code>&lt;</code> 或 <code>&gt;</code>），请紧靠在该字符前面使用脱字符 (<code>^</code>)。 例如 <code>^|</code>、<code>^&amp;</code>、<code>^&gt;</code> 或 <code>^&lt;</code>。 若要显示脱字符，请连续键入两个脱字符 (<code>^^</code>)。</p><h4 id="17-set-命令"><a href="#17-set-命令" class="headerlink" title="17. set 命令"></a>17. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/set_1">set 命令</a></h4><p>显示、设置或删除 cmd.exe 环境变量。 如果不结合任何参数使用，set 将显示当前环境变量设置。<br><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> [&lt;variable&gt;=[&lt;string&gt;]]</span><br><span class="line"><span class="built_in">set</span> [/p] &lt;variable&gt;=[&lt;promptString&gt;]</span><br><span class="line"><span class="built_in">set</span> /a &lt;variable&gt;=&lt;expression&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;variable&gt;</code></td><td>指定要设置或修改的环境变量。</td></tr><tr><td><code>&lt;string&gt;</code></td><td>指定要与指定环境变量关联的字符串。</td></tr><tr><td><code>/p</code></td><td>将 <code>&lt;variable&gt;</code> 的值设置为由用户输入的一行输入。</td></tr><tr><td><code>&lt;promptstring&gt;</code></td><td>指定提示用户输入的消息。 此参数必须与 <code>/p</code> 参数一起使用。</td></tr><tr><td><code>/a</code></td><td>将 <code>&lt;string&gt;</code> 设置为计算的数值表达式。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>指定数值表达式。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> /p text=请输入：        // 请输入： 为 placeholder, 输入文字后变量 text 为输入的内容.</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%text%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> /p isSave=是否保存为文件？(y/n)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%isSave%</span></span><br></pre></td></tr></table></figure><h4 id="18-if-命令"><a href="#18-if-命令" class="headerlink" title="18. if 命令"></a>18. <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows-server/administration/windows-commands/if">if 命令</a></h4><p>在批处理程序中执行条件处理。</p><p><strong>语法</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">ERRORLEVEL</span> &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] &lt;string1&gt;==&lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> [<span class="keyword">not</span>] <span class="keyword">exist</span> &lt;filename&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><p>如果启用了命令扩展，请使用以下语法：</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [/i] &lt;string1&gt; &lt;compareop&gt; &lt;string2&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> cmdextversion &lt;number&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">defined</span> &lt;variable&gt; &lt;command&gt; [<span class="keyword">else</span> &lt;expression&gt;]</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>not</code></td><td>指定仅当条件为 false 时，才应执行该命令。</td></tr><tr><td><code>errorlevel &lt;number&gt;</code></td><td>仅当由 Cmd.exe 运行的上一个程序返回等于或大于 number 的退出代码时，才指定 true 条件。</td></tr><tr><td><code>&lt;command&gt;</code></td><td>指定在满足上述条件时应执行的命令。</td></tr><tr><td><code>&lt;string1&gt;==&lt;string2&gt;</code></td><td>仅当 string1 和 string2 相同时，才指定 true 条件。 这些值可以是字符串或批处理变量（例如，%1）。 无需将字符串用引号括起来。</td></tr><tr><td><code>exist &lt;filename&gt;</code></td><td>如果指定的文件名存在，则指定 true 条件。</td></tr><tr><td><code>&lt;compareop&gt;</code></td><td>指定三字母比较运算符，包括：<ul><li>EQU - 等于</li><li>NEQ - 不等于</li><li>LSS - 小于</li><li>LEQ - 小于或等于</li><li>GTR - 大于</li><li>GEQ - 大于或等于</li></ul></td></tr><tr><td><code>/i</code></td><td>强制字符串比较忽略大小写。 可以采用 if 的 string1==string2 形式使用 /i。 这些比较是通用的，因为如果 string1 和 string2 仅由数字组成，则字符串将转换为数值并执行数值比较。</td></tr><tr><td><code>cmdextversion &lt;number&gt;</code></td><td>仅当与 Cmd.exe 的命令扩展功能关联的内部版本号等于或大于指定的数值时，才指定 true 条件。 第一个版本为 1。 向命令扩展添加大量增强功能时，它会以 1 为增量增加。 禁用命令扩展时（默认情况下，启用命令扩展），cmdextversion 条件永远不会为 true。</td></tr><tr><td><code>defined &lt;variable&gt;</code></td><td>如果定义了变量，则指定 true 条件。</td></tr><tr><td><code>&lt;expression&gt;</code></td><td>指定命令行命令以及要在 else 子句中传递给该命令的任何参数。</td></tr><tr><td><code>/?</code></td><td>在命令提示符下显示帮助。</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exist</span> product.dat <span class="built_in">echo</span> 无法找到 product.dat 文件</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> product.dat (</span><br><span class="line">  <span class="built_in">del</span> product.dat</span><br><span class="line">) <span class="keyword">ELSE</span> (</span><br><span class="line">  <span class="built_in">echo</span> 无法找到 product.dat 文件</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>备注</strong></p><ul><li>如果 if 子句中指定的条件为 true，则执行条件后面的命令。如果条件为 false，则忽略 if 子句中的命令，并且该命令执行 else 子句中指定的任何命令。</li><li>程序停止时，它将返回退出代码。 若要使用退出代码作为条件，请使用 errorlevel 参数。</li><li><ul><li>%errorlevel%：扩展为 ERRORLEVEL 环境变量的当前值的字符串表示形式。 此变量假定尚不存在名为 ERRORLEVEL 的现有环境变量。 如果存在，将获得该 ERRORLEVEL 值。</li></ul></li><li><ul><li>%cmdcmdline%：扩展到在 Cmd.exe 进行任何处理之前传递给 Cmd.exe 的原始命令行。 这假定尚不存在名为 CMDCMDLINE 的现有环境变量。 如果存在，将获得该 CMDCMDLINE 值。</li></ul></li><li><ul><li>%cmdextversion%：扩展为 cmdextversion 的当前值的字符串表示形式。 这假定不存在名为 CMDEXTVERSION 的现有环境变量。 如果存在，将获取该 CMDEXTVERSION 值。</li></ul></li><li>必须在 if 后面的命令所在的同一行上使用 else 子句。</li></ul><h4 id="19-辅助符号-‘-’"><a href="#19-辅助符号-‘-’" class="headerlink" title="19. 辅助符号 ‘|’"></a>19. 辅助符号 ‘|’</h4><p>“|”cmd命令中|代表前一个的输出代表后一个的输入</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">netstat -ano|<span class="built_in">find</span> &quot;<span class="number">192</span>.<span class="number">168</span>.<span class="number">1</span>.<span class="number">10</span>&quot;  // 查找特定ip的网络连接及进程号</span><br></pre></td></tr></table></figure><h4 id="20-重定向输出符号-gt-gt-gt"><a href="#20-重定向输出符号-gt-gt-gt" class="headerlink" title="20 重定向输出符号&gt; &gt;&gt;"></a>20 重定向输出符号&gt; &gt;&gt;</h4><p>将原本输出到命令窗口的内容，转存到文件中，如jstack 12912 &gt;d:/s.txt 打印线程到指定文件</p><p>cmd &gt; 重定向输出并覆盖源文件。</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;c:\<span class="number">1</span>.txt   // <span class="number">1</span>.txt的文件内容先被清空，然后写入hello。</span><br></pre></td></tr></table></figure><p>cmd &gt;&gt;重定向输出追加到文件末尾</p><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello &gt;&gt;c:\<span class="number">1</span>.txt  // 在<span class="number">1</span>.txt文件末尾加上hello</span><br></pre></td></tr></table></figure><h4 id="21-重定向输入符号-lt-lt-lt"><a href="#21-重定向输入符号-lt-lt-lt" class="headerlink" title="21. 重定向输入符号&lt; &lt;&lt;"></a>21. 重定向输入符号&lt; &lt;&lt;</h4><figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span> &lt; file     // 使<span class="built_in">cmd</span>命令从file读入</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt; text    // 从命令行读取输入，直到一个与text相同的行结束。</span><br><span class="line">// 除非使用引号把输入括起来，此模式将对输入内容进行shell变量替换。</span><br><span class="line">// 如果使用 &lt;&lt;- ，则会忽略接下来输入行首的tab，结束行也可以是一堆tab再加上一个与text相同的内容，可以参考后面的例子。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&lt;&lt; word   // 把word（而不是文件word）和后面的换行作为输入提供给<span class="built_in">cmd</span>。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &lt;&gt; file    // 以读写模式把文件file重定向到输入，文件file不会被破坏。仅当应用程序利用了这一特性时，它才是有意义的。</span><br><span class="line"></span><br><span class="line"><span class="built_in">cmd</span> &gt;| file    // 功能同&gt;，但即便在设置了noclobber时也会覆盖file文件，注意用的是|而非一些书中说的<span class="variable">!，目前仅在csh中仍沿用&gt;!</span>实现这一功能。</span><br></pre></td></tr></table></figure></div></article></section><footer id="footer"><div class="footer-wrapper"><a href="/" class="footer-title">LiuZheng's Blog</a><p>Theme from by Lite</p></div><div class="frosted-glass"></div></footer></div></div></body></html>